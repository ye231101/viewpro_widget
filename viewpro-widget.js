/*! For license information please see viewpro-widget.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ViewProWidget",[],t):"object"==typeof exports?exports.ViewProWidget=t():e.ViewProWidget=t()}(this,()=>(()=>{var e={37:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(4465),a=n(2329),s=function(e){function t(t,n){var r;return n=Object.assign({createCancelableRoomSignalingPromise:o},n),r=e.call(this)||this,Object.defineProperties(r,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:t}}),r}return i(t,e),t.prototype._connect=function(e,t,n,r,i){return i=Object.assign({},this._options,i),this._createCancelableRoomSignalingPromise.bind(null,t,this._wsServer,e,n,r,i)},t.prototype.createLocalParticipantSignaling=function(e,t){return new a(e,t)},t}(n(892));e.exports=s},40:e=>{e.exports=function(e,t){if(e&&t)if(e.super_=t,"function"==typeof Object.create)e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},46:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return Object.defineProperties(i,{bytesSent:{value:"number"==typeof n.bytesSent?n.bytesSent:r?0:null,enumerable:!0},packetsSent:{value:"number"==typeof n.packetsSent?n.packetsSent:r?0:null,enumerable:!0},roundTripTime:{value:"number"==typeof n.roundTripTime?n.roundTripTime:r?0:null,enumerable:!0}}),i}return i(t,e),t}(n(7017));e.exports=o},76:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticAudio=void 0,t.syntheticAudio=function(){var e=n(6983),t={},r=e.getOrCreate(t),i=r.createOscillator(),o=i.connect(r.createMediaStreamDestination());i.start();var a=o.stream.getAudioTracks()[0],s=a.stop;return a.stop=function(){s.call(a),e.release(t)},a}},85:e=>{"use strict";var t=function(){function e(e){var t=this;void 0===e&&(e=1),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){t._emitVisible("visible"===document.visibilityState)}}});for(var n=0;n<e;n++)this._listeners.push([])}return e.prototype.clear=function(){for(var e=this._listeners.length,t=0;t<e;t++)this._listeners[t]=[]},e.prototype._listenerCount=function(){return this._listeners.reduce(function(e,t){return e+t.length},0)},e.prototype._emitVisible=function(e){for(var t=this,n=Promise.resolve(),r=function(r){n=n.then(function(){return t._emitVisiblePhase(r,e)})},i=1;i<=this._listeners.length;i++)r(i);return n},e.prototype._emitVisiblePhase=function(e,t){var n=this._listeners[e-1];return Promise.all(n.map(function(e){var n=e(t);return n instanceof Promise?n:Promise.resolve(n)}))},e.prototype._start=function(){document.addEventListener("visibilitychange",this._onVisibilityChange)},e.prototype._stop=function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)},e.prototype.onVisibilityChange=function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);return this._listeners[e-1].push(t),1===this._listenerCount()&&this._start(),this},e.prototype.offVisibilityChange=function(e,t){if("number"!=typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var n=this._listeners[e-1],r=n.indexOf(t);return-1!==r&&(n.splice(r,1),0===this._listenerCount()&&this._stop()),this},e}();e.exports=new t(2)},190:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r,i){var o=e.call(this,t,"data")||this;return Object.defineProperties(o,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:r},ordered:{enumerable:!0,value:i}}),o}return i(t,e),t}(n(4177));e.exports=o},192:e=>{"use strict";var t=function(){function e(e){e=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}return e.prototype.toMap=function(){return new Map(this._map)},e.prototype.updateAndFilter=function(e){return e.filter(this.update,this)},e.prototype.update=function(e){var t=this._getKey(e),n=this._getValue(e);return!(this._map.has(t)&&this._isLessThanOrEqualTo(n,this._map.get(t))||(this._map.set(t,n),0))},e}();e.exports=t},302:e=>{"use strict";"function"==typeof RTCIceCandidate?e.exports=RTCIceCandidate:e.exports=function(){throw new Error("RTCIceCandidate is not supported")}},316:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7784),a=n(6195),s=function(e){function t(t){var n,r=new(0,(t=Object.assign({DataTrackSender:a,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},t)).DataTrackSender)(t.maxPacketLifeTime,t.maxRetransmits,t.ordered);return n=e.call(this,r.id,"data",t)||this,Object.defineProperties(n,{_trackSender:{value:r},id:{enumerable:!0,value:r.id},maxPacketLifeTime:{enumerable:!0,value:t.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:t.maxRetransmits},ordered:{enumerable:!0,value:t.ordered},reliable:{enumerable:!0,value:null===t.maxPacketLifeTime&&null===t.maxRetransmits}}),n}return i(t,e),t.prototype.send=function(e){this._trackSender.send(e)},t}(o);e.exports=s},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},544:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.runPreflight=t.PreflightTest=void 0;var c=n(3249),u=n(4330),l=n(5586),d=n(5081),p=n(7776),f=n(4719),h=n(76),v=n(2481),m=n(6348),y=n(3249).WS_SERVER,g=n(5014),b=n(1049),_=n(8095),w=n(2614),k=n(1940),S=n(7128),T=S.createSID,E=S.sessionSID,C=n(3002),O=C.SignalingConnectionTimeoutError,P=C.MediaConnectionError;function x(e){return null!=e}var R=0,L=function(e){function t(t,n){var r=e.call(this)||this;r._testTiming=new u.Timer,r._dtlsTiming=new u.Timer,r._iceTiming=new u.Timer,r._peerConnectionTiming=new u.Timer,r._mediaTiming=new u.Timer,r._connectTiming=new u.Timer,r._sentBytesMovingAverage=new _,r._packetLossMovingAverage=new _,r._progressEvents=[],r._receivedBytesMovingAverage=new _;var i=n,o=i.environment,a=void 0===o?"prod":o,s=i.region,l=void 0===s?"gll":s,d=i.duration,p=void 0===d?1e4:d,f=i.wsServer||y(a,l);return r._log=new g("default",r,c.DEFAULT_LOG_LEVEL,c.DEFAULT_LOGGER_NAME),r._testDuration=p,r._instanceId=R++,r._testTiming.start(),r._runPreflightTest(t,a,f),r}return i(t,e),t.prototype.toString=function(){return"[Preflight #"+this._instanceId+"]"},t.prototype.stop=function(){this._stopped=!0},t.prototype._generatePreflightReport=function(e){return this._testTiming.stop(),{testTiming:this._testTiming.getTimeMeasurement(),networkTiming:{dtls:this._dtlsTiming.getTimeMeasurement(),ice:this._iceTiming.getTimeMeasurement(),peerConnection:this._peerConnectionTiming.getTimeMeasurement(),connect:this._connectTiming.getTimeMeasurement(),media:this._mediaTiming.getTimeMeasurement()},stats:{jitter:f.makeStat(null==e?void 0:e.jitter),rtt:f.makeStat(null==e?void 0:e.rtt),packetLoss:f.makeStat(null==e?void 0:e.packetLoss)},selectedIceCandidatePairStats:e?e.selectedIceCandidatePairStats:null,iceCandidateStats:e?e.iceCandidateStats:[],progressEvents:this._progressEvents,mos:f.makeStat(null==e?void 0:e.mos)}},t.prototype._executePreflightStep=function(e,t,n){return a(this,void 0,void 0,function(){var r,i,o,a;return s(this,function(s){switch(s.label){case 0:if(this._log.debug("Executing step: ",e),r=this._testDuration+1e4,this._stopped)throw new Error("stopped");i=Promise.resolve().then(t),o=null,a=new Promise(function(t,i){o=setTimeout(function(){i(n||new Error(e+" timeout."))},r)}),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,Promise.race([a,i])];case 2:return[2,s.sent()];case 3:return null!==o&&clearTimeout(o),[7];case 4:return[2]}})})},t.prototype._collectNetworkTimings=function(e){var t=this;return new Promise(function(n){var r;e.addEventListener("iceconnectionstatechange",function(){"checking"===e.iceConnectionState&&t._iceTiming.start(),"connected"===e.iceConnectionState&&(t._iceTiming.stop(),t._updateProgress("iceConnected"),(!r||r&&"connected"===r.state)&&n())}),e.addEventListener("connectionstatechange",function(){"connecting"===e.connectionState&&t._peerConnectionTiming.start(),"connected"===e.connectionState&&(t._peerConnectionTiming.stop(),t._updateProgress("peerConnectionConnected"))});var i=e.getSenders().map(function(e){return e.transport}).find(x);void 0!==i&&(r=i).addEventListener("statechange",function(){"connecting"===r.state&&t._dtlsTiming.start(),"connected"===r.state&&(t._dtlsTiming.stop(),t._updateProgress("dtlsConnected"),"connected"===e.iceConnectionState&&n())})})},t.prototype._setupInsights=function(e){var t=e.token,n=e.environment,r=void 0===n?c.DEFAULT_ENVIRONMENT:n,i=e.realm,o=void 0===i?c.DEFAULT_REALM:i,a=new k(t,c.SDK_NAME,c.SDK_VERSION,r,o,{});a.connect("PREFLIGHT_ROOM_SID","PREFLIGHT_PARTICIPANT");var s=new w(a,Date.now(),this._log),u=void 0;return{reportToInsights:function(e){var t,n,r=e.report,i=r.stats.jitter||u,o=r.stats.rtt||u,c=r.stats.packetLoss||u,l=r.mos||u,d=new Map;r.iceCandidateStats.forEach(function(e){if(e.candidateType&&e.protocol){var t=d.get(e.candidateType)||[];t.indexOf(e.protocol)<0&&t.push(e.protocol),d.set(e.candidateType,t)}});var p=JSON.stringify(Object.fromEntries(d)),f={name:"report",group:"preflight",level:r.error?"error":"info",payload:{sessionSID:E,preflightSID:T("PF"),progressEvents:JSON.stringify(r.progressEvents),testTiming:r.testTiming,dtlsTiming:r.networkTiming.dtls,iceTiming:r.networkTiming.ice,peerConnectionTiming:r.networkTiming.peerConnection,connectTiming:r.networkTiming.connect,mediaTiming:r.networkTiming.media,selectedLocalCandidate:null===(t=r.selectedIceCandidatePairStats)||void 0===t?void 0:t.localCandidate,selectedRemoteCandidate:null===(n=r.selectedIceCandidatePairStats)||void 0===n?void 0:n.remoteCandidate,iceCandidateStats:p,jitterStats:i,rttStats:o,packetLossStats:c,mosStats:l,error:r.error}};s.emit("event",f),setTimeout(function(){return a.disconnect()},2e3)}}},t.prototype._runPreflightTest=function(e,t,n){return a(this,void 0,void 0,function(){var r,i,c,u,l,d,f,m,y,g,b,_,w=this;return s(this,function(k){switch(k.label){case 0:r=[],i=[],c=this._setupInsights({token:e,environment:t}).reportToInsights,k.label=1;case 1:return k.trys.push([1,8,9,10]),u=[],[4,this._executePreflightStep("Acquire media",function(){return[h.syntheticAudio(),v.syntheticVideo({width:640,height:480})]})];case 2:return r=k.sent(),this._updateProgress("mediaAcquired"),this.emit("debug",{localTracks:r}),this._connectTiming.start(),[4,this._executePreflightStep("Get turn credentials",function(){return p.getTurnCredentials(e,n)},new O)];case 3:return l=k.sent(),this._connectTiming.stop(),this._updateProgress("connected"),d=new RTCPeerConnection({iceServers:l,iceTransportPolicy:"relay",bundlePolicy:"max-bundle"}),f=new RTCPeerConnection({iceServers:l,bundlePolicy:"max-bundle"}),i.push(d),i.push(f),this._mediaTiming.start(),[4,this._executePreflightStep("Setup Peer Connections",function(){return a(w,void 0,void 0,function(){var e,t,n,i;return s(this,function(o){switch(o.label){case 0:return d.addEventListener("icecandidate",function(e){return e.candidate&&f.addIceCandidate(e.candidate)}),f.addEventListener("icecandidate",function(e){return e.candidate&&d.addIceCandidate(e.candidate)}),r.forEach(function(e){return d.addTrack(e)}),e=new Promise(function(e){var t=[];f.addEventListener("track",function(n){t.push(n.track),t.length===r.length&&e(t)})}),[4,d.createOffer()];case 1:return t=o.sent(),n=t,[4,d.setLocalDescription(n)];case 2:return o.sent(),[4,f.setRemoteDescription(n)];case 3:return o.sent(),[4,f.createAnswer()];case 4:return i=o.sent(),[4,f.setLocalDescription(i)];case 5:return o.sent(),[4,d.setRemoteDescription(i)];case 6:return o.sent(),[4,this._collectNetworkTimings(d)];case 7:return o.sent(),[2,e]}})})},new P)];case 4:return m=k.sent(),this.emit("debug",{remoteTracks:m}),m.forEach(function(e){e.addEventListener("ended",function(){return w._log.warn(e.kind+":ended")}),e.addEventListener("mute",function(){return w._log.warn(e.kind+":muted")}),e.addEventListener("unmute",function(){return w._log.warn(e.kind+":unmuted")})}),this._updateProgress("mediaSubscribed"),[4,this._executePreflightStep("Wait for tracks to start",function(){return new Promise(function(e){var t=document.createElement("video");t.autoplay=!0,t.playsInline=!0,t.muted=!0,t.srcObject=new MediaStream(m),u.push(t),w.emit("debugElement",t),t.oncanplay=e})},new P)];case 5:return k.sent(),this._mediaTiming.stop(),this._updateProgress("mediaStarted"),[4,this._executePreflightStep("Collect stats for duration",function(){return w._collectRTCStatsForDuration(w._testDuration,{mos:[],jitter:[],rtt:[],outgoingBitrate:[],incomingBitrate:[],packetLoss:[],selectedIceCandidatePairStats:null,iceCandidateStats:[]},d,f)})];case 6:return y=k.sent(),[4,this._executePreflightStep("Generate report",function(){return w._generatePreflightReport(y)})];case 7:return g=k.sent(),c({report:g}),this.emit("completed",g),[3,10];case 8:return b=k.sent(),_=this._generatePreflightReport(),c({report:o(o({},_),{error:null==b?void 0:b.toString()})}),this.emit("failed",b,_),[3,10];case 9:return i.forEach(function(e){return e.close()}),r.forEach(function(e){return e.stop()}),[7];case 10:return[2]}})})},t.prototype._collectRTCStats=function(e,t,n){return a(this,void 0,void 0,function(){var r,i,o,a,c,u,p,f,h,v,m,y,g,b;return s(this,function(s){switch(s.label){case 0:return[4,d.getCombinedConnectionStats({publisher:t,subscriber:n})];case 1:return r=s.sent(),i=r.timestamp,o=r.bytesSent,a=r.bytesReceived,c=r.packets,u=r.packetsLost,p=r.roundTripTime,f=r.jitter,h=r.selectedIceCandidatePairStats,v=r.iceCandidateStats,m=e.jitter.length>0,e.jitter.push(f),e.rtt.push(p),this._sentBytesMovingAverage.putSample(o,i),this._receivedBytesMovingAverage.putSample(a,i),this._packetLossMovingAverage.putSample(u,c),m&&(e.outgoingBitrate.push(1e3*this._sentBytesMovingAverage.get()*8),e.incomingBitrate.push(1e3*this._receivedBytesMovingAverage.get()*8),y=this._packetLossMovingAverage.get(),g=Math.min(100,100*y),e.packetLoss.push(g),b=l.calculateMOS(p,f,y),e.mos.push(b)),e.selectedIceCandidatePairStats||(e.selectedIceCandidatePairStats=h),0===e.iceCandidateStats.length&&(e.iceCandidateStats=v),[2]}})})},t.prototype._collectRTCStatsForDuration=function(e,t,n,r){return a(this,void 0,void 0,function(){var i,o,a;return s(this,function(s){switch(s.label){case 0:return i=Date.now(),o=Math.min(1e3,e),[4,m.waitForSometime(o)];case 1:return s.sent(),[4,this._collectRTCStats(t,n,r)];case 2:return s.sent(),(a=e-(Date.now()-i))>0?[4,this._collectRTCStatsForDuration(a,t,n,r)]:[3,4];case 3:t=s.sent(),s.label=4;case 4:return[2,t]}})})},t.prototype._updateProgress=function(e){var t=Date.now()-this._testTiming.getTimeMeasurement().start;this._progressEvents.push({duration:t,name:e}),this.emit("progress",e)},t}(b);t.PreflightTest=L,t.runPreflight=function(e,t){return void 0===t&&(t={}),new L(e,t)}},585:(e,t,n)=>{"use strict";var r=n(9977).MediaStreamTrack,i=n(9722),o=i.guessBrowser,a=i.guessBrowserVersion,s=i.isCodecSupported,c=n(5085),u=n(7762),l=n(3211),d=n(1940),p=n(6687),f=n(4228),h=f.LocalAudioTrack,v=f.LocalDataTrack,m=f.LocalVideoTrack,y=n(1328),g=n(4600),b=n(37),_=n(6348),w=_.asLocalTrack,k=_.buildLogLevels,S=_.filterObject,T=_.isNonArrayObject,E=n(3249),C=E.DEFAULT_ENVIRONMENT,O=E.DEFAULT_LOG_LEVEL,P=E.DEFAULT_LOGGER_NAME,x=E.DEFAULT_REALM,R=E.DEFAULT_REGION,L=E.WS_SERVER,j=E.SDK_NAME,A=E.SDK_VERSION,M=E.typeErrors,D=n(9495),I=n(2614),N=n(5014),F=n(5100).Pn,B="safari"===o()&&a(),V=0,U=!1,z=!1;if(B){var H=B.major,W=B.minor;z=H<12||12===H&&W<1}var q=new Set([{didWarn:!1,shouldDelete:!0,name:"abortOnIceServersTimeout"},{didWarn:!1,shouldDelete:!0,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,shouldDelete:!0,name:"iceServersTimeout"},{didWarn:!1,shouldDelete:!1,name:"eventListener",newName:"Video.Logger"},{didWarn:!1,shouldDelete:!1,name:"logLevel",newName:"Video.Logger"}]),Q=new Set([{didWarn:!1,shouldDelete:!1,name:"maxTracks",newName:"bandwidthProfile.video.clientTrackSwitchOffControl"},{didWarn:!1,shouldDelete:!1,name:"renderDimensions",newName:"bandwidthProfile.video.contentPreferencesMode"}]);function $(e,t,n){n.forEach(function(n){var r=n.didWarn,i=n.name,o=n.newName,a=n.shouldDelete;i in e&&void 0!==e[i]&&(o&&a&&(e[o]=e[i]),a&&delete e[i],r||["error","off"].includes(t.level)||(t.warn('The ConnectOptions "'+i+'" is '+(o?'deprecated and scheduled for removal. Please use "'+o+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))})}function K(e,t,n,r,i,o){var a=e.createLocalParticipantSignaling(n,r);return t.debug("Creating a new LocalParticipant:",a),new i.LocalParticipant(a,o,i)}function G(e,t,n){var r=new g(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",function e(t){"disconnected"===t&&(i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",e))}),r}function Y(e,t,n,r,i,o){return t.log.debug("Creating a new RoomSignaling"),n.connect(o._signaling,e,r,i,t)}function J(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then(function(r){var i=t(r);return i.catch(function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach(function(e){e.stop()}))}),i})}function X(e){var t="string"==typeof e?{codec:e}:e;switch(t.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},t);case"vp8":return Object.assign({simulcast:!1},t);default:return t}}e.exports=function(e,t){if(void 0===t&&(t={}),!T(t))return D.reject(M.INVALID_TYPE("options","object"));var n,i=t.Log||N,o=t.loggerName||P,a=t.logLevel||O,f=k(a),g="[connect #"+ ++V+"]";try{n=new i("default",g,f,o)}catch(ee){return D.reject(ee)}$(t,n,q);var _="auto"===t.preferredVideoCodecs;if(_&&(t.preferredVideoCodecs=[{codec:"VP8",simulcast:!0,adaptiveSimulcast:!0}]),t.maxVideoBitrate&&_)return n.error('ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'),D.reject(M.ILLEGAL_INVOKE("connect",'ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'));var E={};"string"==typeof(t=Object.assign({automaticSubscription:!0,dominantSpeaker:!1,enableDscp:!1,environment:C,eventListener:null,insights:!0,LocalAudioTrack:h,LocalDataTrack:v,LocalParticipant:l,LocalVideoTrack:m,Log:i,MediaStreamTrack:r,loggerName:o,logLevel:a,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:x,region:R,signaling:b},S(t))).wsServerInsights&&(E.gateway=t.wsServerInsights);var B=new(t.insights?d:p)(e,j,A,t.environment,t.realm,E),H=L(t.environment,t.region),W=new I(B,Date.now(),n,t.eventListener);if((t=Object.assign({eventObserver:W,wsServer:H},t)).log=n,z&&!U&&"error"!==n.logLevel&&"off"!==n.logLevel&&(U=!0,n.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),"string"!=typeof e)return D.reject(M.INVALID_TYPE("token","string"));var Z=Object.assign({},t);if(delete Z.name,"tracks"in t){if(!Array.isArray(t.tracks))return D.reject(M.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map(function(e){return w(e,Z)})}catch(ee){return D.reject(ee)}}var ee=F(t.bandwidthProfile);if(ee)return D.reject(ee);t.clientTrackSwitchOffControl="disabled",t.contentPreferencesMode="disabled",t.bandwidthProfile&&(t.clientTrackSwitchOffControl="auto",t.contentPreferencesMode="auto",t.bandwidthProfile.video&&($(t.bandwidthProfile.video,n,Q),"maxTracks"in t.bandwidthProfile.video?t.clientTrackSwitchOffControl="disabled":"manual"===t.bandwidthProfile.video.clientTrackSwitchOffControl?t.clientTrackSwitchOffControl="manual":t.clientTrackSwitchOffControl="auto","renderDimensions"in t.bandwidthProfile.video?t.contentPreferencesMode="disabled":"manual"===t.bandwidthProfile.video.contentPreferencesMode?t.contentPreferencesMode="manual":t.contentPreferencesMode="auto"));var te=new(0,t.signaling)(t.wsServer,t);n.info("Connecting to a Room"),n.debug("Options:",t);var ne=new u({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate},_),re={audio:t.preferredAudioCodecs.map(X),video:t.preferredVideoCodecs.map(X)},ie=new y(T(t.networkQuality)?t.networkQuality:{});["audio","video"].forEach(function(e){return re[e].forEach(function(t){var r=t.codec;return s(r,e).then(function(t){return!t&&n.warn("The preferred "+e+' codec "'+r+'" will be ignored as it is not supported by the browser.')})})});var oe=c(J.bind(null,t),K.bind(null,te,n,ne,ie,t),Y.bind(null,e,t,te,ne,re),G.bind(null,t));return oe.then(function(e){return B.connect(e.sid,e.localParticipant.sid),n.info("Connected to Room:",e.toString()),n.info("Room name:",e.name),n.debug("Room:",e),e.once("disconnected",function(){return B.disconnect()}),e},function(e){B.disconnect(),oe._isCanceled?n.info("Attempt to connect to a Room was canceled"):n.info("Error while connecting to a Room:",e)}),oe}},592:(e,t,n)=>{"use strict";var r=n(1351),i=n(6437),o=n(6301);e.exports=function(e){var t=e.bandwidth,n=void 0===t?null:t,a=e.fractionLost,s=void 0===a?null:a,c=e.latency,u=void 0===c?null:c;Object.defineProperties(this,{bandwidth:{value:n?new r(n):null,enumerable:!0},fractionLost:{value:s?new i(s):null,enumerable:!0},latency:{value:u?new o(u):null,enumerable:!0}})}},752:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=null;return"number"==typeof n.frameWidthReceived&&"number"==typeof n.frameHeightReceived&&(i={},Object.defineProperties(i,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(r,{dimensions:{value:i,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),r}return i(t,e),t}(n(1519));e.exports=o},798:e=>{"use strict";var t=function(){function e(e,t,n,r){Object.defineProperties(this,{availableSend:{enumerable:!0,value:n},recv:{enumerable:!0,value:t},rtt:{enumerable:!0,value:r},send:{enumerable:!0,value:e}})}return e.of=function(t,n){var r=(n.timestamp-t.timestamp)/1e3,i=n.bytesSent-t.bytesSent,o=n.bytesReceived-t.bytesReceived;return new e(r>0?i/r*8:0,r>0?o/r*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)},e}();e.exports=t},892:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(8533),a=n(8217),s=n(8641),c={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},u=function(e){function t(){return e.call(this,"closed",c)||this}return i(t,e),t.prototype._close=function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)},t.prototype._connect=function(e,t,n,r,i){e.connect("PA00000000000000000000000000000000","test");var o=Promise.resolve(new a(e,"RM00000000000000000000000000000000",i));return o.cancel=function(){},o},t.prototype._open=function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)},t.prototype.close=function(){var e=this;return this.bracket("close",function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})},t.prototype.connect=function(e,t,n,r,i){var o=this;return this.bracket("connect",function a(s){switch(o.state){case"closed":return o._open(s).then(a.bind(null,s));case"open":return o.releaseLockCompletely(s),o._connect(e,t,n,r,i);default:throw new Error('Unexpected Signaling state "'+o.state+'"')}})},t.prototype.createLocalParticipantSignaling=function(){return new o},t.prototype.open=function(){var e=this;return this.bracket("open",function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}})},t}(s);e.exports=u},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},979:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(3249),c=s.typeErrors,u=s.trackPriority,l=n(1013).isIOS,d=n(85);e.exports=function(e){return function(e){function t(t,n,r,i,o,a,s){var c=this;return s=Object.assign({workaroundWebKitBug212780:l()&&"object"==typeof document&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},s),c=e.call(this,n,s)||this,Object.defineProperties(c,{_isEnabled:{value:r,writable:!0},_isSwitchedOff:{value:i,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:o},_setRenderHint:{value:function(e){c._log.debug("updating render hint:",e),a(e)}},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:t},_workaroundWebKitBug212780:{value:s.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),c}return i(t,e),t.prototype.setPriority=function(e){var t=a([null],o(Object.values(u)));if(!t.includes(e))throw c.INVALID_VALUE("priority",t);return this._priority!==e&&(this._priority=e,this._setPriority(e)),this},t.prototype._setEnabled=function(e){this._isEnabled!==e&&(this._isEnabled=e,this.emit(this._isEnabled?"enabled":"disabled",this))},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return!0!==this.mediaStreamTrack.enabled&&(this.mediaStreamTrack.enabled=!0,this.processedTrack&&(this.processedTrack.enabled=!0),this.processor&&this._captureFrames()),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||function(e){var t=e._log,n=e.kind;function r(r){r&&e._attachments.forEach(function(r){var i=e._elShims.get(r);r.paused&&i&&!i.pausedIntentionally()&&(t.info("Playing inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e),r.play().then(function(){t.info("Successfully played inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e)}).catch(function(i){t.warn("Error while playing inadvertently paused <"+n+"> element:",{err:i,el:r,remoteMediaTrack:e})}))})}return d.onVisibilityChange(2,r),function(){d.offVisibilityChange(2,r)}}(this)),n},t.prototype.detach=function(t){var n=e.prototype.detach.call(this,t);return 0===this._attachments.size&&(this.mediaStreamTrack.enabled=!1,this.processedTrack&&(this.processedTrack.enabled=!1),this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),n},t}(e)}},1013:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function n(){return!!(navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2)}function r(){return n()&&window.screen.width>=744&&(/Macintosh/i.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPad/.test(navigator.platform))}function i(){return n()&&window.screen.width<=476&&(/Macintosh/i.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent)||/iPhone/.test(navigator.platform))}e.exports={isAndroid:function(){return/Android/.test(navigator.userAgent)},isIOS:function(){return r()||i()},isIpad:r,isIphone:i,isMobile:function(){return/Mobi/.test(navigator.userAgent)},isNonChromiumEdge:function(e){return"chrome"===e&&/Edge/.test(navigator.userAgent)&&("undefined"==typeof chrome||void 0===chrome.runtime)},mobileWebKitBrowser:function(e){return"safari"!==e?null:"brave"in navigator?"brave":["edge","edg"].find(function(e){return navigator.userAgent.toLowerCase().includes(e)})||null},rebrandedChromeBrowser:function(e){if("chrome"!==e)return null;if("brave"in navigator)return"brave";var n=function(e){for(var t=[],n=[],r=0;r<e.length;r++)if("("===e[r])t.push(r);else if(")"===e[r]&&t.length>0){var i=t.pop();0===t.length&&n.push(e.substring(i,r+1))}return n}(navigator.userAgent).reduce(function(e,t){return e.replace(t,"")},navigator.userAgent).match(/[^\s]+/g)||[];return t(n.map(function(e){return e.split("/")[0].toLowerCase()})).slice(2).find(function(e){return!["chrome","mobile","safari"].includes(e)})||null}}},1049:(e,t,n)=>{"use strict";var r=n(7007).EventEmitter,i=n(6348).hidePrivateAndCertainPublicPropertiesInClass;e.exports=i(r,["domain"])},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1211:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r,i,o,a){var s=e.call(this,n,r,i,o)||this;return Object.defineProperties(s,{_isSwitchedOff:{value:a,writable:!0}}),s.setSid(t),s}return i(t,e),Object.defineProperty(t.prototype,"isSubscribed",{get:function(){return!!this.trackTransceiver},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSwitchedOff",{get:function(){return this._isSwitchedOff},enumerable:!1,configurable:!0}),t.prototype.subscribeFailed=function(e){return this.error||(this._error=e,this.emit("updated")),this},t.prototype.setPriority=function(e){return this._priority!==e&&(this._priority=e,this.emit("updated")),this},t.prototype.setSwitchedOff=function(e){return this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit("updated")),this},t}(n(6863));e.exports=o},1320:e=>{var t=function(){function e(e){Object.defineProperties(this,{_min:{value:e.min||100},_max:{value:e.max||1e4},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_factor:{value:e.factor||2},_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get:function(){var e=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){var t=Math.random(),n=Math.floor(t*this._jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this._max)}},_timeoutID:{value:null,writable:!0}})}return e.prototype.backoff=function(e){var t=this,n=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this._timeoutID=setTimeout(function(){t._attempts++,e()},n)},e.prototype.reset=function(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},e}();e.exports=t},1328:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=n(7007).EventEmitter,s=n(3249),c=s.DEFAULT_NQ_LEVEL_LOCAL,u=s.DEFAULT_NQ_LEVEL_REMOTE,l=s.MAX_NQ_LEVEL,d=n(6348).inRange,p=function(e){function t(t){var n=e.call(this)||this;return t=Object.assign({local:c,remote:u},t),Object.defineProperties(n,{local:{value:d(t.local,c,l)?t.local:c,writable:!0},remote:{value:d(t.remote,u,l)?t.remote:u,writable:!0}}),n}return i(t,e),t.prototype.update=function(e){var t=this;e=Object.assign({local:this.local,remote:this.remote},e),[["local",c,3],["remote",u,3]].forEach(function(n){var r=o(n,3),i=r[0],a=r[1],s=r[2];t[i]="number"==typeof e[i]&&d(e[i],a,s)?e[i]:a})},t}(a);e.exports=p},1342:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(3325),a=1,s=function(e){function t(t,n){var r=e.call(this,t,"publisher_hints",n)||this;return r.on("ready",function(e){r._log.debug("publisher_hints transport ready:",e),e.on("message",function(e){r._log.debug("Incoming: ",e),"publisher_hints"===e.type?e.publisher&&e.publisher.hints&&e.publisher.id&&r._processPublisherHints(e.publisher.hints,e.publisher.id):r._log.warn("Unknown message type: ",e.type)})}),r}return i(t,e),t.prototype.sendTrackReplaced=function(e){var t=e.trackSid;if(this._transport){var n={type:"client_reset",track:t,id:a++};this._log.debug("Outgoing: ",n),this._transport.publish(n)}},t.prototype.sendHintResponse=function(e){var t=e.id,n=e.hints;if(this._transport){var r={type:"publisher_hints",id:t,hints:n};this._log.debug("Outgoing: ",r),this._transport.publish(r)}},t.prototype._processPublisherHints=function(e,t){try{this.emit("updated",e,t)}catch(e){this._log.error("error processing hints:",e)}},t}(o);e.exports=s},1351:e=>{"use strict";e.exports=function(e){var t=e.actual,n=void 0===t?null:t,r=e.available,i=void 0===r?null:r,o=e.level,a=void 0===o?null:o;Object.defineProperties(this,{actual:{value:n,enumerable:!0},available:{value:i,enumerable:!0},level:{value:a,enumerable:!0}})}},1354:(e,t,n)=>{"use strict";var r=n(5306),i=n(1583),o=n(4905),a=n(752);e.exports=function(e,t,n){if("string"!=typeof e)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:t.localAudioTrackStats.map(function(e){return new r(e.trackId,e,n)}),enumerable:!0},localVideoTrackStats:{value:t.localVideoTrackStats.map(function(e){return new i(e.trackId,e,n)}),enumerable:!0},remoteAudioTrackStats:{value:t.remoteAudioTrackStats.map(function(e){return new o(e.trackId,e)}),enumerable:!0},remoteVideoTrackStats:{value:t.remoteVideoTrackStats.map(function(e){return new a(e.trackId,e)}),enumerable:!0}})}},1385:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(8375),a=function(e){function t(t,n,r,i,o,a,s){return e.call(this,t,n,r,i,o,a,s)||this}return i(t,e),t.prototype.toString=function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype._start=function(){e.prototype._start.call(this),this._dummyEl&&(this._disposeMediaElement?this._disposeMediaElement(this._dummyEl):this._dummyEl.srcObject=null,this._dummyEl=null)},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(n(979)(o));e.exports=a},1519:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{bytesReceived:{value:"number"==typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"==typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),r}return i(t,e),t}(n(7017));e.exports=o},1566:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=n(9994),s=n(8426),c=n(2236),u=n(7950),l=n(8217),d=n(4810),p=n(1354),f=n(8920),h=n(2733),v=n(3743),m=n(1342),y=n(6348),g=y.constants.DEFAULT_SESSION_TIMEOUT_SEC,b=y.createBandwidthProfilePayload,_=y.defer,w=y.difference,k=y.filterObject,S=y.flatMap,T=y.oncePerTick,E=n(8095),C=n(3002).createTwilioError,O=function(e){function t(t,n,r,i,o){var l=this;n.options=Object.assign({session_timeout:g},n.options),o=Object.assign({DominantSpeakerSignaling:a,NetworkQualityMonitor:s,NetworkQualitySignaling:c,RecordingSignaling:u,RemoteParticipantV2:d,TrackPrioritySignaling:f,TrackSwitchOffSignaling:h,bandwidthProfile:null,sessionTimeout:1e3*n.options.session_timeout,statsPublishIntervalMs:1e4},o),t.setBandwidthProfile(o.bandwidthProfile);var y=n.options,b=y.signaling_region,_=y.audio_processors,E=void 0===_?[]:_;t.setSignalingRegion(b),E.includes("krisp")&&E.push("rnnoise"),t.setAudioProcessors(E),i.setIceReconnectTimeout(o.sessionTimeout);var C=function(e){return l._getTrackReceiver(e)},O=(l=e.call(this,t,n.sid,n.name,o)||this)._log;return Object.defineProperties(l,{_disconnectedParticipantRevisions:{value:new Map},_NetworkQualityMonitor:{value:o.NetworkQualityMonitor},_lastBandwidthProfileRevision:{value:t.bandwidthProfileRevision,writable:!0},_mediaStatesWarningsRevision:{value:0,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityConfiguration:{value:t.networkQualityConfiguration},_peerConnectionManager:{value:i},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:o.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_dominantSpeakerSignaling:{value:new o.DominantSpeakerSignaling(C,{log:O})},_networkQualitySignaling:{value:new o.NetworkQualitySignaling(C,t.networkQualityConfiguration,{log:O})},_renderHintsSignaling:{value:new v(C,{log:O})},_publisherHintsSignaling:{value:new m(C,{log:O})},_trackPrioritySignaling:{value:new o.TrackPrioritySignaling(C,{log:O})},_trackSwitchOffSignaling:{value:new o.TrackSwitchOffSignaling(C,{log:O})},_pendingSwitchOffStates:{value:new Map},_transport:{value:r},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),l._initTrackSwitchOffSignaling(),l._initDominantSpeakerSignaling(),l._initNetworkQualityMonitorSignaling(),l._initPublisherHintSignaling(),function(e,t){var n=T(function(){e._publishNewLocalParticipantState()}),r=T(function(){var n=S(t.tracks,function(e){return e.trackTransceiver});e._peerConnectionManager.setTrackSenders(n)});t.on("trackAdded",r),t.on("trackRemoved",r),t.on("updated",n),e.on("stateChanged",function i(o){"disconnected"===o&&(t.removeListener("trackAdded",r),t.removeListener("trackRemoved",r),t.removeListener("updated",n),e.removeListener("stateChanged",i),t.disconnect())}),e.on("signalingConnectionStateChanged",function(){var t=e.localParticipant,n=e.signalingConnectionState,r=t.identity,i=t.sid;switch(n){case"connected":t.connect(i,r);break;case"reconnecting":t.reconnecting()}})}(l,t),function(e,t){t.on("description",function(t){e._publishPeerConnectionState(t)}),t.dequeue("description"),t.on("candidates",function(t){e._publishPeerConnectionState(t)}),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",function(){e.emit("connectionStateChanged")}),t.on("iceConnectionStateChanged",function(){e.emit("iceConnectionStateChanged"),"failed"===e.iceConnectionState&&(null!==e.localParticipant.networkQualityLevel&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach(function(e){null!==e.networkQualityLevel&&e.setNetworkQualityLevel(0)}))})}(l,i),function(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",function n(r,i){"disconnected"===r&&("disconnected"!==e.state&&e._disconnect(i),t.removeListener("stateChanged",n)),e.emit("signalingConnectionStateChanged")})}(l,r),function(e,t,n){var r=new Map,i=!1,o=setInterval(function(){e.getStats().then(function(e){i=!i,e.forEach(function(e,n){var o=new p(n,e,!0);t.publishEvent("quality","stats-report","info",{audioTrackStats:o.remoteAudioTrackStats.map(function(t,n){return j(t,e.remoteAudioTrackStats[n],r)}),localAudioTrackStats:o.localAudioTrackStats.map(function(t,n){return L(t,e.localAudioTrackStats[n],r)}),localVideoTrackStats:o.localVideoTrackStats.map(function(t,n){return L(t,e.localVideoTrackStats[n],r)}),peerConnectionId:o.peerConnectionId,videoTrackStats:o.remoteVideoTrackStats.map(function(t,n){return j(t,e.remoteVideoTrackStats[n],r)})});var a=S(["localAudioTrackStats","localVideoTrackStats","remoteAudioTrackStats","remoteVideoTrackStats"],function(e){return o[e].map(function(e){var t=e.ssrc;return e.trackSid+"+"+t})});if(w(Array.from(r.keys()),a).forEach(function(e){return r.delete(e)}),i){var s=function(e,t){return(e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},k(e||{},null))).localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.remoteCandidate||{},null)),e}(e.activeIceCandidatePair,o.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair","info",s)}})},function(){})},n);e.on("stateChanged",function t(n){"disconnected"===n&&(clearInterval(o),e.removeListener("stateChanged",t))})}(l,r,o.statsPublishIntervalMs),l._update(n),l._peerConnectionManager.setEffectiveAdaptiveSimulcast(l._publisherHintsSignaling.isSetup),l}return i(t,e),Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._peerConnectionManager.connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingConnectionState",{get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._peerConnectionManager.iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._deleteTrackReceiverDeferred=function(e){return this._trackReceiverDeferreds.delete(e)},t.prototype._getOrCreateTrackReceiverDeferred=function(e){var t=this._trackReceiverDeferreds.get(e)||_(),n=this._peerConnectionManager.getTrackReceivers().find(function(t){return t.id===e&&"ended"!==t.readyState});return n?t.resolve(n):this._trackReceiverDeferreds.set(e,t),t},t.prototype._addTrackReceiver=function(e){return this._getOrCreateTrackReceiverDeferred(e.id).resolve(e),this},t.prototype._disconnect=function(t){var n=e.prototype._disconnect.call(this,t);return n&&(this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach(function(e){e.publishFailed(t||new Error("LocalParticipant disconnected"))}),n},t.prototype._getTrackReceiver=function(e){var t=this;return this._getOrCreateTrackReceiverDeferred(e).promise.then(function(n){return t._deleteTrackReceiverDeferred(e),n})},t.prototype._getInitialTrackSwitchOffState=function(e){var t=this._pendingSwitchOffStates.get(e)||!1;return this._pendingSwitchOffStates.delete(e),t&&this._log.warn("["+e+"] was initially switched off! "),t},t.prototype._getTrackSidsToTrackSignalings=function(){var e=S(this.participants,function(e){return Array.from(e.tracks)});return new Map(e)},t.prototype._getOrCreateRemoteParticipant=function(e){var t=this,n=this._RemoteParticipantV2,r=this.participants.get(e.sid),i=this;return r||((r=new n(e,function(e){return t._getInitialTrackSwitchOffState(e)},function(e,n){return t._trackPrioritySignaling.sendTrackPriorityUpdate(e,"subscribe",n)},function(e,n){return t._renderHintsSignaling.setTrackHint(e,n)},function(e){return t._renderHintsSignaling.clearTrackHint(e)})).on("stateChanged",function e(t){"disconnected"===t&&(r.removeListener("stateChanged",e),i.participants.delete(r.sid),i._disconnectedParticipantRevisions.set(r.sid,r.revision))}),this.connectParticipant(r)),r},t.prototype._getState=function(){return{participant:this.localParticipant.getState()}},t.prototype._maybeAddBandwidthProfile=function(e){var t=this.localParticipant,n=t.bandwidthProfile,r=t.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<r?(this._lastBandwidthProfileRevision=r,Object.assign({bandwidth_profile:b(n)},e)):e},t.prototype._publishNewLocalParticipantState=function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))},t.prototype._publishPeerConnectionState=function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))},t.prototype._update=function(e){var t=this;if(e.subscribed&&e.subscribed.revision>this._subscribedRevision){this._subscribedRevision=e.subscribed.revision,e.subscribed.tracks.forEach(function(e){e.id?(t._subscriptionFailures.delete(e.sid),t._subscribed.set(e.sid,e.id)):e.error&&!t._subscriptionFailures.has(e.sid)&&t._subscriptionFailures.set(e.sid,e.error)});var n=new Set(e.subscribed.tracks.filter(function(e){return!!e.id}).map(function(e){return e.sid}));this._subscribed.forEach(function(e,r){n.has(r)||t._subscribed.delete(r)})}var r,i,o=new Set;return(e.participants||[]).forEach(function(e){if(e.sid!==t.localParticipant.sid){var n=t._disconnectedParticipantRevisions.get(e.sid);if(!(n&&e.revision<=n)){n&&t._disconnectedParticipantRevisions.delete(e.sid);var r=t._getOrCreateRemoteParticipant(e);r.update(e),o.add(r)}}}),"synced"===e.type&&this.participants.forEach(function(e){o.has(e)||e.disconnect()}),i=(r=this)._getTrackSidsToTrackSignalings(),r._subscriptionFailures.forEach(function(e,t){var n=i.get(t);n&&(r._subscriptionFailures.delete(t),n.subscribeFailed(C(e.code,e.message)))}),i.forEach(function(e){var t=r._subscribed.get(e.sid);(!t||e.isSubscribed&&e.trackTransceiver.id!==t)&&e.setTrackTransceiver(null),t&&r._getTrackReceiver(t).then(function(t){return e.setTrackTransceiver(t)})}),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections,"synced"===e.type),e.recording&&this.recording.update(e.recording),e.published&&e.published.revision>this._publishedRevision&&(this._publishedRevision=e.published.revision,e.published.tracks.forEach(function(e){e.sid&&t._published.set(e.id,e.sid)}),this.localParticipant.update(e.published)),e.participant&&this.localParticipant.connect(e.participant.sid,e.participant.identity),[this._dominantSpeakerSignaling,this._networkQualitySignaling,this._trackPrioritySignaling,this._trackSwitchOffSignaling,this._renderHintsSignaling,this._publisherHintsSignaling].forEach(function(t){var n=t.channel;!t.isSetup&&e.media_signaling&&e.media_signaling[n]&&e.media_signaling[n].transport&&"data-channel"===e.media_signaling[n].transport.type&&t.setup(e.media_signaling[n].transport.label)}),"warning"===e.type&&e.states&&e.states.revision>this._mediaStatesWarningsRevision&&(this._mediaStatesWarningsRevision=e.states.revision,this.localParticipant.updateMediaStates(e.states)),this},t.prototype._initPublisherHintSignaling=function(){var e=this;this._publisherHintsSignaling.on("updated",function(t,n){Promise.all(t.map(function(t){return e.localParticipant.setPublisherHint(t.track,t.encodings).then(function(e){return{track:t.track,result:e}})})).then(function(t){e._publisherHintsSignaling.sendHintResponse({id:n,hints:t})})});var t=function(t){"video"===t.kind&&t.trackTransceiver.on("replaced",function(){e._publisherHintsSignaling.sendTrackReplaced({trackSid:t.sid})})};Array.from(this.localParticipant.tracks.values()).forEach(function(e){return t(e)}),this.localParticipant.on("trackAdded",function(e){return t(e)})},t.prototype._initTrackSwitchOffSignaling=function(){var e=this;this._trackSwitchOffSignaling.on("updated",function(t,n){try{e._log.debug("received trackSwitch: ",{tracksOn:n,tracksOff:t});var r=new Map;n.forEach(function(e){return r.set(e,!0)}),t.forEach(function(t){r.get(t)&&e._log.warn(t+" is DUPLICATED in both tracksOff and tracksOn list"),r.set(t,!1)}),e.participants.forEach(function(e){e.tracks.forEach(function(e){var t=r.get(e.sid);void 0!==t&&(e.setSwitchedOff(!t),r.delete(e.sid))})}),r.forEach(function(t,n){return e._pendingSwitchOffStates.set(n,!t)})}catch(t){e._log.error("error processing track switch off:",t)}})},t.prototype._initDominantSpeakerSignaling=function(){var e=this;this._dominantSpeakerSignaling.on("updated",function(){return e.setDominantSpeaker(e._dominantSpeakerSignaling.loudestParticipantSid)})},t.prototype._initNetworkQualityMonitorSignaling=function(){var e=this;this._networkQualitySignaling.on("ready",function(){var t=new e._NetworkQualityMonitor(e._peerConnectionManager,e._networkQualitySignaling);e._networkQualityMonitor=t,t.on("updated",function(){"failed"!==e.iceConnectionState&&(e.localParticipant.setNetworkQualityLevel(t.level,t.levels),e.participants.forEach(function(e){var n=t.remoteLevels.get(e.sid);n&&e.setNetworkQualityLevel(n.level,n)}))}),t.start()}),this._networkQualitySignaling.on("teardown",function(){return e._teardownNetworkQualityMonitor()})},t.prototype._teardownNetworkQualityMonitor=function(){this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)},t.prototype.getStats=function(){var e=this;return this._peerConnectionManager.getStats().then(function(t){return new Map(Array.from(t).map(function(t){var n=o(t,2),r=n[0],i=n[1];return[r,Object.assign({},i,{localAudioTrackStats:x(e,i.localAudioTrackStats),localVideoTrackStats:x(e,i.localVideoTrackStats),remoteAudioTrackStats:R(e,i.remoteAudioTrackStats),remoteVideoTrackStats:R(e,i.remoteVideoTrackStats)})]}))})},t}(l);function P(e,t){return t.reduce(function(t,n){var r=e.get(n.trackId);return r?[Object.assign({},n,{trackSid:r})].concat(t):t},[])}function x(e,t){return P(e._published,t)}function R(e,t){var n=new Map(Array.from(e._subscribed.entries()).map(function(e){var t=o(e,2),n=t[0];return[t[1],n]}));return P(n,t)}function L(e,t,n){var r=t.framesEncoded,i=t.packetsSent,o=t.totalEncodeTime,a=t.totalPacketSendDelay,s=Object.assign({},e),c=e.trackSid+"+"+e.ssrc,u=n.get(c)||new Map;if("number"==typeof o&&"number"==typeof r){var l=u.get("avgEncodeDelay")||new E;l.putSample(1e3*o,r),s.avgEncodeDelay=Math.round(l.get()),u.set("avgEncodeDelay",l)}if("number"==typeof a&&"number"==typeof i){var d=u.get("avgPacketSendDelay")||new E;d.putSample(1e3*a,i),s.avgPacketSendDelay=Math.round(d.get()),u.set("avgPacketSendDelay",d)}return n.set(c,u),s}function j(e,t,n){var r=t.estimatedPlayoutTimestamp,i=t.framesDecoded,o=t.jitterBufferDelay,a=t.jitterBufferEmittedCount,s=t.totalDecodeTime,c=Object.assign({},e),u=e.trackSid+"+"+e.ssrc,l=n.get(u)||new Map;if("number"==typeof r&&(c.estimatedPlayoutTimestamp=r),"number"==typeof i&&"number"==typeof s){var d=l.get("avgDecodeDelay")||new E;d.putSample(1e3*s,i),c.avgDecodeDelay=Math.round(d.get()),l.set("avgDecodeDelay",d)}if("number"==typeof o&&"number"==typeof a){var p=l.get("avgJitterBufferDelay")||new E;p.putSample(1e3*o,a),c.avgJitterBufferDelay=Math.round(p.get()),l.set("avgJitterBufferDelay",p)}return n.set(u,l),c}e.exports=O},1583:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,o=null;"number"==typeof n.frameWidthInput&&"number"==typeof n.frameHeightInput&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var a=null;return"number"==typeof n.frameWidthSent&&"number"==typeof n.frameHeightSent&&(a={},Object.defineProperties(a,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:o,enumerable:!0},dimensions:{value:a,enumerable:!0},captureFrameRate:{value:"number"==typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"==typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),i}return i(t,e),t}(n(46));e.exports=o},1601:e=>{"use strict";e.exports=function(e){return e[1]}},1697:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".vp-video {\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  vertical-align: middle;\n  object-fit: cover;\n}\n\n.vp-message-input {\n  width: 100% !important;\n  border: 1px solid !important;\n  border-radius: 9999px !important;\n  padding: 0.5rem 1rem !important;\n  background-color: transparent !important;\n  color: #fff !important;\n  outline: none !important;\n  font-size: 16px !important;\n}\n\n.vp-scrollbar-none {\n  scrollbar-width: none;\n}\n\n@keyframes vp-avatar-pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.3);\n    transform: scale(1);\n  }\n\n  50% {\n    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7);\n    transform: scale(1.05);\n  }\n\n  100% {\n    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.3);\n    transform: scale(1);\n  }\n}\n\n.vp-avatar-pulse {\n  animation: vp-avatar-pulse 1s infinite;\n}\n\n@keyframes vp-wave {\n  0% {\n    transform: scale(0.8);\n    opacity: 0.8;\n  }\n\n  100% {\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n\n.vp-wave {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.2);\n  animation: vp-wave 2s infinite;\n}\n\n.vp-wave:nth-child(1) {\n  animation-delay: 0.5s;\n}\n\n.vp-wave:nth-child(2) {\n  animation-delay: 1s;\n}\n\n.vp-wave:nth-child(3) {\n  animation-delay: 1.5s;\n}\n\n.vp-wave:nth-child(4) {\n  animation-delay: 2s;\n}\n",""]);const s=a},1842:(e,t,n)=>{"use strict";var r=n(1982);e.exports=function(e,t,i,o,a){o="number"==typeof o?o:3;var s=0,c=n(6983),u={},l=c.getOrCreate(u);return function n(){return t(i).then(function(t){return(i.audio?r(l,t,a).catch(function(t){return e.warn("Encountered an error while detecting silence",t),!0}):Promise.resolve(!1)).then(function(r){return r?o<=0?(e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),t):(e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++s+"."),t.getTracks().forEach(function(e){return e.stop()}),o--,n()):(e.info("Got a non-silent audio MediaStreamTrack; returning it."),t)})})}().then(function(e){return c.release(u),e},function(e){throw c.release(u),e})}},1940:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a=n(7007).EventEmitter,s=n(6348).getUserAgent,c=globalThis,u=c.WebSocket?c.WebSocket:n(7330),l=n(3249),d=l.hardwareDevicePublisheriPad,p=l.hardwareDevicePublisheriPhone,f=n(6348),h=n(1013),v=function(e){function t(t,n,r,i,o,a){var c=e.call(this)||this;return a=Object.assign({gateway:y(i,o)+"/v1/VideoEvents",maxReconnectAttempts:5,reconnectIntervalMs:50,userAgent:s(),WebSocket:u},a),Object.defineProperties(c,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:f.defer()},_reconnectAttemptsLeft:{value:a.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:a.WebSocket}}),c._readyToConnect.promise.then(function(e){var i=e.roomSid,o=e.participantSid,s=c;c.on("disconnected",function e(c){if(s._session=null,c&&s._reconnectAttemptsLeft>0)return s.emit("reconnecting"),void function(e,t,n,r,i,o,a){var s=Date.now()-e._connectTimestamp,c=a.reconnectIntervalMs-s;c>0?setTimeout(function(){m(e,t,n,r,i,o,a)},c):m(e,t,n,r,i,o,a)}(s,t,n,r,i,o,a);s.removeListener("disconnected",e)}),m(c,t,n,r,i,o,a)}).catch(function(){}),c}return i(t,e),t.prototype.connect=function(e,t){this._readyToConnect.resolve({roomSid:e,participantSid:t})},t.prototype._publish=function(e){e.session=this._session,this._ws.send(JSON.stringify(e))},t.prototype.disconnect=function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0},t.prototype.publish=function(e,t,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"==typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)},t}(a);function m(e,t,n,r,i,a,s){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new s.WebSocket(s.gateway);var c=e._ws;c.addEventListener("close",function(t){1e3!==t.code?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")}),c.addEventListener("message",function(t){!function(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}(e,JSON.parse(t.data),s)}),c.addEventListener("open",function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:s.userAgent,participantSid:a,roomSid:i},h.isIpad()?e.publisher=o(o({},e.publisher),d):h.isIphone()&&(e.publisher=o(o({},e.publisher),p)),c.send(JSON.stringify(e))})}function y(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}e.exports=v},1982:e=>{"use strict";e.exports=function(e,t,n){n="number"==typeof n?n:250;var r=e.createMediaStreamSource(t),i=e.createAnalyser();i.fftSize=2048,r.connect(i);var o=new Uint8Array(i.fftSize),a=!1;return setTimeout(function(){a=!0},n),function e(){return a?Promise.resolve(!0):(i.getByteTimeDomainData(o),o.some(function(e){return 128!==e&&0!==e})?Promise.resolve(!1):function(e){return e="number"==typeof e?e:0,new Promise(function(t){return setTimeout(t,e)})}().then(e))}().then(function(e){return r.disconnect(),e},function(e){throw r.disconnect(),e})}},2014:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.toString=function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2703));e.exports=o},2087:e=>{"use strict";e.exports=function(e){Object.defineProperties(this,{track:{enumerable:!0,value:e,writable:!0}})}},2183:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t}(n(9406));e.exports=o},2236:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(3325),a=n(3447),s=n(3459),c=function(e){function t(t,n,r){var i=e.call(this,t,"network_quality",r)||this;return Object.defineProperties(i,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_networkQualityInputs:{value:new a},_resendTimer:{value:new s(function(){i._resendTimer.setDelay(1.5*i._resendTimer.delay),i._sendNetworkQualityInputs()},5e3,!1)},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),i.on("ready",function(e){e.on("message",function(e){i._log.debug("Incoming: ",e),"network_quality"===e.type&&i._handleNetworkQualityMessage(e)})}),i._sendNetworkQualityInputs(),i}return i(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._remoteLevels},enumerable:!1,configurable:!0}),t.prototype._handleNetworkQualityMessage=function(e){var t=this,n=!1,r=null,i=e?e.local:null;"number"==typeof i?(r=i,this._levels=null):"object"==typeof i&&i&&(this._levels=i,r="number"==typeof i.level?i.level:Math.min(i.audio.send,i.audio.recv,i.video.send,i.video.recv)),null!==r&&this.level!==r&&(this._level=r,n=!0),this._remoteLevels=e&&e.remotes?e.remotes.reduce(function(e,r){return(t._remoteLevels.get(r.sid)||{}).level!==r.level&&(n=!0),e.set(r.sid,r)},new Map):this._remoteLevels,n&&this.emit("updated"),this._resendTimer.setDelay(5e3),this._resendTimer.isSet&&setTimeout(function(){return t._sendNetworkQualityInputs()},1e3)},t.prototype._sendNetworkQualityInputs=function(){var e=this;return this._resendTimer.clear(),this._networkQualityInputs.take().then(function(t){e._transport&&e._transport.publish(function(e,t){return Object.assign({type:"network_quality"},e,t)}(t,e._networkQualityReportLevels))}).finally(function(){e._resendTimer.start()})},t.prototype.put=function(e){this._networkQualityInputs.put(e)},t}(o);e.exports=c},2329:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7714),a=n(4081),s=n(3249).DEFAULT_LOG_LEVEL,c=n(5014),u=n(6348),l=u.buildLogLevels,d=u.isDeepEqual,p=function(e){function t(t,n,r){var i;r=Object.assign({logLevel:s,LocalTrackPublicationV2:a},r),i=e.call(this)||this;var o=l(r.logLevel);return Object.defineProperties(i,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:t},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:r.LocalTrackPublicationV2},_log:{value:r.log?r.log.createLog("default",i):new c("default",i,o,r.loggerName)},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},audioProcessors:{value:[],writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),i}return i(t,e),t.prototype.toString=function(){return"[LocalParticipantSignaling: "+this.sid+"]"},t.prototype.setSignalingRegion=function(e){this._signalingRegion||(this._signalingRegion=e)},t.prototype.setBandwidthProfile=function(e){d(this._bandwidthProfile,e)||(this._bandwidthProfile=JSON.parse(JSON.stringify(e)),this._bandwidthProfileRevision++,this.didUpdate())},t.prototype.setAudioProcessors=function(e){this.audioProcessors=e},t.prototype.getParameters=function(){return this._encodingParameters},t.prototype.setParameters=function(e){return this._encodingParameters.update(e),this},t.prototype.update=function(e){return this._publishedRevision>=e.revision||(this._publishedRevision=e.revision,e.tracks.forEach(function(e){var t=this.tracks.get(e.id);t&&t.update(e)},this)),this},t.prototype.updateMediaStates=function(e){return e&&e.tracks?(Array.from(this.tracks.values()).forEach(function(t){var n=e.tracks[t.sid];n&&t.updateMediaStates(n)}),this):this},t.prototype._createLocalTrackPublicationSignaling=function(e,t,n,r){return new this._LocalTrackPublicationV2(e,t,n,r,{log:this._log})},t.prototype.addTrack=function(t,n,r,i){var o=this;e.prototype.addTrack.call(this,t,n,r,i);var a=this.getPublication(t),s=a.isEnabled,c=a.updatedPriority,u=function(){s===a.isEnabled&&c===a.updatedPriority||(o.didUpdate(),s=a.isEnabled,c=a.updatedPriority)};return a.on("updated",u),this._removeListener(a),this._removeListeners.set(a,function(){return a.removeListener("updated",u)}),this.didUpdate(),this},t.prototype._removeListener=function(e){var t=this._removeListeners.get(e);t&&t()},t.prototype.getState=function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map(function(e){return e.getState()})}},t.prototype.didUpdate=function(){this._revision++,this.emit("updated")},t.prototype.removeTrack=function(t){var n=e.prototype.removeTrack.call(this,t);return n&&(t.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n},t.prototype.setNetworkQualityConfiguration=function(e){this.networkQualityConfiguration.update(e)},t.prototype.setPublisherHint=function(e,t){var n=Array.from(this.tracks.values()).find(function(t){return t.sid===e});return n?n.trackTransceiver.setPublisherHint(t):(this._log.warn("track:"+e+" not found"),Promise.resolve("UNKNOWN_TRACK"))},t}(o);e.exports=p},2341:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(1320),c=n(9977),u=c.RTCIceCandidate,l=c.RTCPeerConnection,d=c.RTCSessionDescription,p=c.getStats,f=n(9722),h=n(3249),v=h.DEFAULT_ICE_GATHERING_TIMEOUT_MS,m=h.DEFAULT_LOG_LEVEL,y=h.DEFAULT_SESSION_TIMEOUT_SEC,g=h.iceRestartBackoffConfig,b=n(6038),_=b.addOrRewriteNewTrackIds,w=b.addOrRewriteTrackIds,k=b.createCodecMapForMediaSection,S=b.disableRtx,T=b.enableDtxForOpus,E=b.filterLocalCodecs,C=b.getMediaSections,O=b.removeSSRCAttributes,P=b.revertSimulcast,x=b.setCodecPreferences,R=b.setSimulcast,L=n(3459),j=n(3002),A=j.MediaClientLocalDescFailedError,M=j.MediaClientRemoteDescFailedError,D=n(6348),I=D.buildLogLevels,N=D.getPlatform,F=D.isChromeScreenShareTrack,B=D.oncePerTick,V=D.defer,U=n(3253),z=n(9526),H=n(9159),W=n(2183),q=n(8641),Q=n(5014),$=n(5251),K=n(3089),G=f.guessBrowser(),Y=N(),J=/android/.test(Y),X="chrome"===G,Z="firefox"===G,ee="safari"===G,te=0,ne={open:["closed","updating"],updating:["closed","open"],closed:[]},re=function(e){function t(t,n,r,i){var o=e.call(this,"open",ne)||this;i=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:F,iceServers:[],logLevel:m,offerOptions:{},revertSimulcast:P,sessionTimeout:1e3*y,setCodecPreferences:x,setSimulcast:R,Backoff:s,IceConnectionMonitor:z,RTCIceCandidate:u,RTCPeerConnection:l,RTCSessionDescription:d,Timeout:L},i);var a=se(Object.assign({},i,i.rtcConfiguration)),c=I(i.logLevel),p=i.RTCPeerConnection;!0===i.enableDscp&&(i.chromeSpecificConstraints=i.chromeSpecificConstraints||{},i.chromeSpecificConstraints.optional=i.chromeSpecificConstraints.optional||[],i.chromeSpecificConstraints.optional.push({googDscp:!0}));var f=i.log?i.log.createLog("webrtc",o):new Q("webrtc",o,c,i.loggerName),h=new p(a,i.chromeSpecificConstraints);i.dummyAudioMediaStreamTrack&&h.addTrack(i.dummyAudioMediaStreamTrack),Object.defineProperties(o,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:i.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:i.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new i.Timeout(function(){return o._handleIceGatheringTimeout()},v,!1)},_iceRestartBackoff:{value:new i.Backoff(g)},_instanceId:{value:++te},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_log:{value:f},_eventObserver:{value:i.eventObserver},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_rtpNewSenders:{value:new Set},_iceConnectionMonitor:{value:new i.IceConnectionMonitor(h)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:i.offerOptions},_onEncodingParametersChanged:{value:B(function(){o._needsAnswer||le(o)})},_peerConnection:{value:h},_preferredAudioCodecs:{value:r.audio},_preferredVideoCodecs:{value:r.video},_shouldApplyDtx:{value:r.audio.every(function(e){return"opus"!==e.codec})||r.audio.some(function(e){var t=e.codec,n=e.dtx;return"opus"===t&&n})},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new i.Timeout(function(){f.debug("ICE reconnect timed out"),o.close()},i.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new U},_setCodecPreferences:{value:Z&&J&&r.video[0]&&"h264"!==r.video[0].codec.toLowerCase()?function(e){return e}:i.setCodecPreferences},_setSimulcast:{value:i.setSimulcast},_revertSimulcast:{value:i.revertSimulcast},_RTCIceCandidate:{value:i.RTCIceCandidate},_RTCPeerConnection:{value:i.RTCPeerConnection},_RTCSessionDescription:{value:i.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},_mediaTrackSenderToPublisherHints:{value:new Map},id:{enumerable:!0,value:t}}),n.on("changed",o._onEncodingParametersChanged),h.addEventListener("connectionstatechange",o._handleConnectionStateChange.bind(o)),h.addEventListener("datachannel",o._handleDataChannelEvent.bind(o)),h.addEventListener("icecandidate",o._handleIceCandidateEvent.bind(o)),h.addEventListener("iceconnectionstatechange",o._handleIceConnectionStateChange.bind(o)),h.addEventListener("icegatheringstatechange",o._handleIceGatheringStateChange.bind(o)),h.addEventListener("signalingstatechange",o._handleSignalingStateChange.bind(o)),h.addEventListener("track",o._handleTrackEvent.bind(o));var b=o;return o.on("stateChanged",function e(t){"closed"===t&&(b.removeListener("stateChanged",e),b._dataChannels.forEach(function(e,t){b.removeDataTrackSender(t)}))}),o}return i(t,e),t.prototype.toString=function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"},t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._log.debug("Setting setEffectiveAdaptiveSimulcast: ",e),this._preferredVideoCodecs.forEach(function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)})},Object.defineProperty(t.prototype,"_shouldApplySimulcast",{get:function(){return!(!X&&!ee)&&this._preferredVideoCodecs.some(function(e){return"vp8"===e.codec.toLowerCase()&&e.simulcast&&!1!==e.adaptiveSimulcast})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){return"failed"===this.iceConnectionState?"failed":this._peerConnection.connectionState||this.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._isIceConnectionInactive&&"disconnected"===this._peerConnection.iceConnectionState||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isApplicationSectionNegotiated",{get:function(){return"closed"===this._peerConnection.signalingState||!!this._peerConnection.localDescription&&C(this._peerConnection.localDescription.sdp,"application").length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isAdaptiveSimulcastEnabled",{get:function(){var e=this._preferredVideoCodecs.find(function(e){return"adaptiveSimulcast"in e});return e&&!0===e.adaptiveSimulcast},enumerable:!1,configurable:!0}),t.prototype._maybeUpdateEncodings=function(e,t,n){if(void 0===n&&(n=!1),"video"!==e.kind||"ended"===e.readyState)return!1;var r=e.getSettings(),i=r.height,o=r.width;if("number"!=typeof i||"number"!=typeof o)return!1;var a=f.guessBrowser();return!!("safari"===a||"chrome"===a&&this._isAdaptiveSimulcastEnabled)&&(this._updateEncodings(e,t,n),!0)},t.prototype._updateEncodings=function(e,t,n){if(this._isChromeScreenShareTrack(e)){var r=[{scaleResolutionDownBy:1},{scaleResolutionDownBy:1}];t.forEach(function(e,t){var i=r[t];i?(e.scaleResolutionDownBy=i.scaleResolutionDownBy,n&&delete e.active):(e.active=!1,delete e.scaleResolutionDownBy)})}else{var i=e.getSettings(),o=i.width*i.height,a=[{pixels:518400,maxActiveLayers:3},{pixels:129600,maxActiveLayers:2},{pixels:0,maxActiveLayers:1}].find(function(e){return o>=e.pixels}),s=Math.min(t.length,a.maxActiveLayers);t.forEach(function(e,t){t<s?(e.scaleResolutionDownBy=1<<s-t-1,n&&(e.active=!0)):(e.active=!1,delete e.scaleResolutionDownBy)})}this._log.debug("_updateEncodings:",t.map(function(e,t){return"["+t+": "+e.active+", "+(e.scaleResolutionDownBy||0)+"]"}).join(", "))},t.prototype._addIceCandidate=function(e){var t=this;return Promise.resolve().then(function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)}).catch(function(n){t._log.warn("Failed to add RTCIceCandidate "+(e?'"'+e.candidate+'"':"null")+": "+n.message)})},t.prototype._addIceCandidates=function(e){return Promise.all(e.map(this._addIceCandidate,this)).then(function(){})},t.prototype._addOrUpdateTransceiver=function(e){var t=this,n=function(e,t){var n={audio:e._preferredAudioCodecs.map(function(e){return e.codec.toLowerCase()}),video:e._preferredVideoCodecs.map(function(e){return e.codec.toLowerCase()})}[t],r=e._recycledTransceivers[t],i=n.find(function(t){return e._localCodecs.has(t)});if(!i)return r.shift();var o=r.find(function(t){var n=e._remoteCodecMaps.get(t.mid);return n&&n.has(i)});return o&&r.splice(r.indexOf(o),1),o}(this,e.kind);if(n&&n.sender){var r=n.sender.track?n.sender.track.id:null;return r&&this._log.warn("Reusing transceiver: "+n.mid+"] "+r+" => "+e.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(e).then(function(){n.direction="sendrecv"},function(){}).finally(function(){t._replaceTrackPromises.delete(n)})),n}return this._peerConnection.addTransceiver(e,{})},t.prototype._checkIceBox=function(e){var t=ae(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)},t.prototype._answer=function(e){var t=this;return Promise.resolve().then(function(){return t._negotiationRole||(t._negotiationRole="answerer"),t._setRemoteDescription(e)}).catch(function(){throw new M}).then(function(){return t._peerConnection.createAnswer()}).then(function(n){n=Z?new t._RTCSessionDescription({sdp:S(n.sdp),type:n.type}):K(n);var r=O(n.sdp,["mslabel","label"]);if(t._shouldApplySimulcast){var i=r;r=t._setSimulcast(i,t._trackIdsToAttributes),r=t._revertSimulcast(r,i,e.sdp)}return r=r.replace(/42e015/g,"42e01f"),t._setLocalDescription({type:n.type,sdp:r})}).then(function(){return t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription)}).catch(function(e){var n=e instanceof M?e:new A;throw t._publishMediaWarning({message:"Failed to _answer",code:n.code,error:e}),n})},t.prototype._close=function(){return this._iceConnectionMonitor.stop(),"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),this.preempt("closed"),this._encodingParameters.removeListener("changed",this._onEncodingParametersChanged),!0)},t.prototype._handleConnectionStateChange=function(){this.emit("connectionStateChanged")},t.prototype._handleDataChannelEvent=function(e){var t=this,n=e.channel,r=new H(n);this._dataTrackReceivers.add(r),n.addEventListener("close",function(){t._dataTrackReceivers.delete(r)}),this.emit("trackAdded",r)},t.prototype._handleGlare=function(e){var t=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then(function(){return t._trackIdsToAttributes=new Map(t._appliedTrackIdsToAttributes),t._setLocalDescription({type:"rollback"})}).then(function(){return t._needsAnswer=!1,t._answer(e)}).then(function(e){return e?Promise.resolve():t._offer()})},t.prototype._publishMediaWarning=function(e){var t=e.message,n=e.code,r=e.error,i=e.sdp;this._eventObserver.emit("event",{level:"warning",name:"error",group:"media",payload:{message:t,code:n,context:JSON.stringify({error:r.message,sdp:i})}})},t.prototype._handleIceCandidateEvent=function(e){e.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(e.candidate));var t={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this._isIceLite&&e.candidate||(t.ice.revision=this._localCandidatesRevision++,this.emit("candidates",t))},t.prototype._handleIceConnectionStateChange=function(){var e=this,t=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(t),r=this._log;r.debug('ICE connection state is "'+t+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&r.debug("ICE reconnected"):(r.warn("ICE failed"),this._initiateIceRestartBackoff()),"connected"===t?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start(function(){e._iceConnectionMonitor.stop(),e._shouldRestartIce||e._isRestartingIce||(r.warn("ICE Connection Monitor detected inactivity"),e._isIceConnectionInactive=!0,e._initiateIceRestartBackoff(),e.emit("iceConnectionStateChanged"),e.emit("connectionStateChanged"))})):["disconnected","completed"].includes(t)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")},t.prototype._handleIceGatheringTimeout=function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")},t.prototype._handleIceGatheringStateChange=function(){var e=this._peerConnection.iceGatheringState,t=this._log;t.debug('ICE gathering state is "'+e+'"');var n=this._iceGatheringTimeout,r=n.delay,i=n.isSet;"gathering"!==e||this._didGenerateLocalCandidates||i||(t.debug("Starting ICE gathering timeout: "+r),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())},t.prototype._handleSignalingStateChange=function(){"stable"===this._peerConnection.signalingState&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))},t.prototype._handleTrackEvent=function(e){var t=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher=this._trackMatcher||new $,this._trackMatcher.update(n);var r=e.track,i=this._trackMatcher.match(e)||r.id,o=new W(i,r);this._mediaTrackReceivers.forEach(function(e){e.track.id===o.track.id&&t._mediaTrackReceivers.delete(e)}),this._mediaTrackReceivers.add(o),r.addEventListener?r.addEventListener("ended",function(){return t._mediaTrackReceivers.delete(o)}):r.onended=function(){return t._mediaTrackReceivers.delete(o)},this.emit("trackAdded",o)},t.prototype._initiateIceRestart=function(){if("closed"!==this._peerConnection.signalingState){var e=this._log;e.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var t=this._iceReconnectTimeout,n=t.delay;t.isSet||(e.debug("Starting ICE reconnect timeout: "+n),this._iceReconnectTimeout.start()),this.offer().catch(function(t){e.error("offer failed in _initiateIceRestart with: "+t.message)})}},t.prototype._initiateIceRestartBackoff=function(){var e=this;"closed"===this._peerConnection.signalingState||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff(function(){return e._initiateIceRestart()}))},t.prototype._maybeReoffer=function(e){var t=this._shouldOffer;if(e&&e.sdp){var n=this._peerConnection.getSenders().filter(function(e){return e.track});t=["audio","video"].reduce(function(t,r){var i=C(e.sdp,r,"(sendrecv|sendonly)"),o=n.filter(ce.bind(null,r));return t||i.length<o.length},t);var r=this._dataChannels.size>0,i=C(e.sdp,"application").length>0;t=t||r&&!i}return(t?this._offer():Promise.resolve()).then(function(){return t})},t.prototype._offer=function(){var e=this,t=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,t.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then(function(){return e._peerConnection.createOffer(t)}).catch(function(t){var n=new A;throw e._publishMediaWarning({message:"Failed to create offer",code:n.code,error:t}),n}).then(function(t){t=Z?new e._RTCSessionDescription({sdp:S(t.sdp),type:t.type}):K(t);var n=O(t.sdp,["mslabel","label"]);n=e._peerConnection.remoteDescription?E(n,e._peerConnection.remoteDescription.sdp):n;var r=e._setCodecPreferences(n,e._preferredAudioCodecs,e._preferredVideoCodecs);return e._shouldOffer=!1,e._negotiationRole||(e._negotiationRole="offerer"),e._shouldApplySimulcast&&(e._localDescriptionWithoutSimulcast={type:"offer",sdp:r},r=e._setSimulcast(r,e._trackIdsToAttributes)),e._setLocalDescription({type:"offer",sdp:r})})},t.prototype._getMediaTrackSenderId=function(e){var t=Array.from(this._rtpSenders.keys()).find(function(t){return t.track.id===e});return t?t.id:e},t.prototype._addOrRewriteLocalTrackIds=function(e){var t=this,n=this._peerConnection.getTransceivers().filter(function(e){var t=e.sender;return!e.stopped&&t&&t.track}),r=n.filter(function(e){return e.mid}),i=new Map(r.map(function(e){var n=e.mid,r=e.sender;return[n,t._getMediaTrackSenderId(r.track.id)]})),o=w(e.sdp,i),a=n.filter(function(e){return!e.mid}),s=new Map(["audio","video"].map(function(e){return[e,a.filter(function(t){return t.sender.track.kind===e}).map(function(e){var n=e.sender;return t._getMediaTrackSenderId(n.track.id)})]})),c=_(o,i,s);return new this._RTCSessionDescription({sdp:c,type:e.type})},t.prototype._rollbackAndApplyOffer=function(e){var t=this;return this._setLocalDescription({type:"rollback"}).then(function(){return t._setLocalDescription(e)})},t.prototype._setLocalDescription=function(e){var t=this;return"rollback"!==e.type&&this._shouldApplyDtx&&(e=new this._RTCSessionDescription({sdp:T(e.sdp),type:e.type})),this._peerConnection.setLocalDescription(e).catch(function(n){t._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n);var r=new A,i={message:'Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n};throw e.sdp&&(t._log.warn("The SDP was "+e.sdp),i.sdp=e.sdp),t._publishMediaWarning(i),r}).then(function(){"rollback"!==e.type&&(t._localDescription=t._addOrRewriteLocalTrackIds(e),t._shouldApplyDtx&&(t._localDescription=new t._RTCSessionDescription({sdp:T(t._localDescription.sdp,[]),type:t._localDescription.type})),t._localCandidates=[],"offer"===e.type?t._descriptionRevision++:"answer"===e.type&&(t._lastStableDescriptionRevision=t._descriptionRevision,ue(t)),t._localUfrag=ae(e),t.emit("description",t.getState()))})},t.prototype._setRemoteDescription=function(e){var t=this;return e.sdp&&(e.sdp=this._setCodecPreferences(e.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),this._shouldApplyDtx?e.sdp=T(e.sdp):e.sdp=T(e.sdp,[]),Z&&(e.sdp=e.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- ")),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(e.sdp))),e=new this._RTCSessionDescription(e),Promise.resolve().then(function(){if("answer"===e.type&&t._localDescriptionWithoutSimulcast){var n=t._preferredVideoCodecs.find(function(e){return"adaptiveSimulcast"in e}),r=!!n&&!1===n.adaptiveSimulcast,i=t._revertSimulcast(t._localDescription.sdp,t._localDescriptionWithoutSimulcast.sdp,e.sdp,r);if(t._localDescriptionWithoutSimulcast=null,i!==t._localDescription.sdp)return t._rollbackAndApplyOffer({type:t._localDescription.type,sdp:i})}}).then(function(){return t._peerConnection.setRemoteDescription(e)}).then(function(){"answer"===e.type&&(t._isRestartingIce&&(t._log.debug("An ICE restart was in-progress and is now completed"),t._isRestartingIce=!1),ue(t))},function(n){throw t._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n),e.sdp&&t._log.warn("The SDP was "+e.sdp),n})},t.prototype._updateDescription=function(e){var t=this;switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&0===this._lastStableDescriptionRevision?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e).then(function(){}))}var n=e.revision;return Promise.resolve().then(function(){return t._setRemoteDescription(e)}).catch(function(n){var r=new M;throw t._publishMediaWarning({message:'Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n,sdp:e.sdp}),r}).then(function(){return t._lastStableDescriptionRevision=n,t._needsAnswer=!1,t._checkIceBox(e)}).then(function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)}).then(function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription).then(function(){})})},t.prototype._updateIce=function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)},t.prototype.addDataTrackSender=function(e){if(!this._dataChannels.has(e))try{var t={ordered:e.ordered};null!==e.maxPacketLifeTime&&(t.maxPacketLifeTime=e.maxPacketLifeTime),null!==e.maxRetransmits&&(t.maxRetransmits=e.maxRetransmits);var n=this._peerConnection.createDataChannel(e.id,t);e.addDataChannel(n),this._dataChannels.set(e,n)}catch(t){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+e.id+'": '+t.message)}},t.prototype._handleQueuedPublisherHints=function(){var e=this;"stable"===this._peerConnection.signalingState&&this._mediaTrackSenderToPublisherHints.forEach(function(t,n){var r=t.deferred,i=t.encodings;e._mediaTrackSenderToPublisherHints.delete(n),e._setPublisherHint(n,i).then(function(e){return r.resolve(e)}).catch(function(e){return r.reject(e)})})},t.prototype._setPublisherHint=function(e,t){var n=this;if(Z)return Promise.resolve("COULD_NOT_APPLY_HINT");this._mediaTrackSenderToPublisherHints.has(e)&&(this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("REQUEST_SKIPPED"),this._mediaTrackSenderToPublisherHints.delete(e));var r=this._rtpSenders.get(e);if(!r)return this._log.warn("Could not apply publisher hint because RTCRtpSender was not found"),Promise.resolve("UNKNOWN_TRACK");if("closed"===this._peerConnection.signalingState)return this._log.warn('Could not apply publisher hint because signalingState was "closed"'),Promise.resolve("COULD_NOT_APPLY_HINT");if("stable"!==this._peerConnection.signalingState){this._log.debug("Queuing up publisher hint because signalingState:",this._peerConnection.signalingState);var i=V();return this._mediaTrackSenderToPublisherHints.set(e,{deferred:i,encodings:t}),i.promise}var o=r.getParameters();return null!==t&&t.forEach(function(e){var t=e.enabled,r=e.layer_index;o.encodings.length>r?(n._log.debug("layer:"+r+", active:"+o.encodings[r].active+" => "+t),o.encodings[r].active=t):n._log.warn("invalid layer:"+r+", active:"+t)}),this._maybeUpdateEncodings(r.track,o.encodings,null===t),r.setParameters(o).then(function(){return"OK"}).catch(function(e){return n._log.error("Failed to apply publisher hints:",e),"COULD_NOT_APPLY_HINT"})},t.prototype.addMediaTrackSender=function(e){var t=this;if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(e)){var n=this._addOrUpdateTransceiver(e.track).sender;e.addSender(n,function(n){return t._setPublisherHint(e,n)}),this._rtpNewSenders.add(n),this._rtpSenders.set(e,n)}},t.prototype.close=function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},t.prototype.getTrackReceivers=function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))},t.prototype.getState=function(){if(!this._localDescription)return null;var e="answer"===this._localDescription.type?this._lastStableDescriptionRevision:this._descriptionRevision,t={type:this._localDescription.type,revision:e};return this._localDescription.sdp&&(t.sdp=this._localDescription.sdp),{description:t,id:this.id}},t.prototype.offer=function(){var e=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",function(t){return e.transition("updating",t),(e._needsAnswer||e._isRestartingIce?Promise.resolve():e._offer()).then(function(){e.tryTransition("open",t)},function(n){throw e.tryTransition("open",t),n})})},t.prototype.removeDataTrackSender=function(e){var t=this._dataChannels.get(e);t&&(e.removeDataChannel(t),this._dataChannels.delete(e),t.close())},t.prototype.removeMediaTrackSender=function(e){var t=this._rtpSenders.get(e);t&&("closed"!==this._peerConnection.signalingState&&this._peerConnection.removeTrack(t),e.removeSender(t),this._mediaTrackSenderToPublisherHints.has(e)&&(this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("UNKNOWN_TRACK"),this._mediaTrackSenderToPublisherHints.delete(e)),this._rtpNewSenders.delete(t),this._rtpSenders.delete(e))},t.prototype.setConfiguration=function(e){"function"==typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(se(e))},t.prototype.setIceReconnectTimeout=function(e){return this._iceReconnectTimeout.setDelay(e),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this},t.prototype.update=function(e){var t=this;return this.bracket("updating",function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then(function(){t.tryTransition("open",n)},function(e){throw t.tryTransition("open",n),e})})},t.prototype.getStats=function(){var e=this;return p(this._peerConnection,{log:this._log}).then(function(t){return function(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map(function(t){return oe(e,t)}),remoteVideoTrackStats:t.remoteVideoTrackStats.map(function(t){return oe(e,t)}),localAudioTrackStats:t.localAudioTrackStats.map(function(t){return ie(e,t)}),localVideoTrackStats:t.localVideoTrackStats.map(function(t){return ie(e,t)})})}(e,t)})},t}(q);function ie(e,t){var n=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:n})}function oe(e,t){var n=a([],o(e._mediaTrackReceivers)).find(function(e){return e.track.id===t.trackId}),r=n?n.id:null;return Object.assign(t,{trackId:r})}function ae(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function se(e){return void 0===e&&(e={}),Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function ce(e,t){var n=t.track;return n&&n.kind===e&&"ended"!==n.readyState}function ue(e){!function(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach(function(t){if(function(e,t){return!e.stopped&&!t._replaceTrackPromises.has(e)&&["inactive","recvonly"].includes(e.direction)}(t,e)){var n=t.receiver.track;e._recycledTransceivers[n.kind].push(t)}})}(e),function(e){var t=e._peerConnection.localDescription;t&&t.sdp&&C(t.sdp).forEach(function(t){k(t).forEach(function(t,n){return e._localCodecs.add(n)})})}(e),function(e){var t=e._peerConnection.remoteDescription;t&&t.sdp&&C(t.sdp).forEach(function(t){var n=t.match(/^a=mid:(.+)$/m);if(n&&n[1]){var r=n[1],i=k(t);e._remoteCodecMaps.set(r,i)}})}(e),le(e).then(function(){e._handleQueuedPublisherHints()})}function le(e){var t=e._encodingParameters,n=t.maxAudioBitrate,r=t.maxVideoBitrate,i=new Map([["audio",n],["video",r]]),o=[];return e._peerConnection.getSenders().filter(function(e){return e.track}).forEach(function(t){var n=i.get(t.track.kind),r=t.getParameters();null===n||0===n?function(e){Array.isArray(e.encodings)&&e.encodings.forEach(function(e){return delete e.maxBitrate})}(r):e._isChromeScreenShareTrack(t.track)?e._log.warn("Not setting maxBitrate for "+t.track.kind+" Track "+t.track.id+" because it appears to be screen share track: "+t.track.label):function(e,t){Z?e.encodings=[{maxBitrate:t}]:e.encodings.forEach(function(e){e.maxBitrate=t})}(r,n),!Z&&r.encodings.length>0&&("audio"===t.track.kind?r.encodings[0].priority="high":e._isChromeScreenShareTrack(t.track)&&(r.encodings[0].priority="medium"),e._enableDscp&&(r.encodings[0].networkPriority="high"));var a=e._rtpNewSenders.has(t);e._maybeUpdateEncodings(t.track,r.encodings,a),e._rtpNewSenders.delete(t);var s=t.setParameters(r).catch(function(n){e._log.warn("Error while setting encodings parameters for "+t.track.kind+" Track "+t.track.id+": "+(n.message||n.name))});o.push(s)}),Promise.all(o)}e.exports=re},2344:(e,t,n)=>{"use strict";var r=n(9722).defer,i={high:new Set(["low"]),low:new Set(["high"])},o=function(){function e(e){void 0===e&&(e="low");var t=e;Object.defineProperties(this,{_state:{set:function(e){var n=this;if(t!==e){t=e;var r=this._whenDeferreds.get(t);r.forEach(function(e){return e.resolve(n)}),r.clear()}},get:function(){return t}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])}})}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.lower=function(){return this.transition("low")},e.prototype.raise=function(){return this.transition("high")},e.prototype.transition=function(e){if(!i[this.state].has(e))throw a(this.state,e);return this._state=e,this},e.prototype.when=function(e){if(this.state===e)return Promise.resolve(this);if(!i[this.state].has(e))return Promise.reject(a(this.state,e));var t=r();return this._whenDeferreds.get(e).add(t),t.promise},e}();function a(e,t){return new Error('Cannot transition from "'+e+'" to "'+t+'"')}e.exports=o},2359:(e,t,n)=>{"use strict";if("function"==typeof RTCSessionDescription)switch((0,n(9722).guessBrowser)()){case"chrome":e.exports=n(5713);break;case"firefox":e.exports=n(6790);break;default:e.exports=RTCSessionDescription}else e.exports=function(){throw new Error("RTCSessionDescription is not supported")}},2361:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(1049),a=n(6348),s=a.buildLogLevels,c=a.valueToJSON,u=n(3249).DEFAULT_LOG_LEVEL,l=n(5014),d=0,p=function(e){function t(t,n,r){var i=e.call(this)||this;r=Object.assign({logLevel:u},r);var o=s(r.logLevel);return Object.defineProperties(i,{_instanceId:{value:d++},_log:{value:r.log?r.log.createLog("default",i):new l("default",i,o,r.loggerName)},trackName:{enumerable:!0,value:t},trackSid:{enumerable:!0,value:n}}),i}return i(t,e),t.prototype.toJSON=function(){return c(this)},t.prototype.toString=function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(o);e.exports=p},2408:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(2361),c=n(3249),u=c.typeErrors,l=c.trackPriority,d=function(e){function t(t,n,r,i){var s=e.call(this,n.name,t.sid,i)||this;return Object.defineProperties(s,{_reemitSignalingEvent:{value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.emit.apply(s,a([e&&e.length?"warning":"warningsCleared"],o(e)))}},_reemitTrackEvent:{value:function(){return s.emit(s.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:t},_unpublish:{value:r},isTrackEnabled:{enumerable:!0,get:function(){return"data"===this.track.kind||this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return t.updatedPriority}},track:{enumerable:!0,value:n}}),["disabled","enabled"].forEach(function(e){return n.on(e,s._reemitTrackEvent)}),["warning","warningsCleared"].forEach(function(e){return t.on(e,s._reemitSignalingEvent)}),s}return i(t,e),t.prototype.toString=function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype.setPriority=function(e){var t=Object.values(l);if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._signaling.setPriority(e),this},t.prototype.unpublish=function(){var e=this;return["disabled","enabled"].forEach(function(t){return e.track.removeListener(t,e._reemitTrackEvent)}),["warning","warningsCleared"].forEach(function(t){return e._signaling.removeListener(t,e._reemitSignalingEvent)}),this._unpublish(this),this},t}(s);e.exports=d},2481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticVideo=void 0,t.syntheticVideo=function(e){var t=void 0===e?{}:e,n=t.width,r=void 0===n?640:n,i=t.height,o=void 0===i?480:i,a=Object.assign(document.createElement("canvas"),{width:r,height:o}),s=a.getContext("2d");s.fillStyle="green",s.fillRect(0,0,a.width,a.height);var c=!1;requestAnimationFrame(function e(){if(!c){var t=Math.round(255*Math.random()),n=Math.round(255*Math.random()),i=Math.round(255*Math.random()),a=Math.round(255*Math.random());s.fillStyle="rgba("+t+", "+n+", "+i+", "+a+")",s.fillRect(Math.random()*r,Math.random()*o,50,50),requestAnimationFrame(e)}});var u=a.captureStream(30).getTracks()[0],l=u.stop;return u.stop=function(){c=!0,l.call(u)},u}},2551:(e,t,n)=>{"use strict";var r=n(6540),i=n(9982);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var I,N=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 1:return V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return z(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return le(e,t)})}:le);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Te=null;function Ee(e){if(e=bi(e)){if("function"!=typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ce(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Oe(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Pe(e,t){return e(t)}function xe(){}var Re=!1;function Le(e,t,n){if(Re)return e(t,n);Re=!0;try{return Pe(e,t,n)}finally{Re=!1,(null!==Se||null!==Te)&&(xe(),Oe())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(l)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(le){Ae=!1}function De(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ie=!1,Ne=null,Fe=!1,Be=null,Ve={onError:function(e){Ie=!0,Ne=e}};function Ue(e,t,n,r,i,o,a,s,c){Ie=!1,Ne=null,De.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2,ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,kt,St,Tt,Et,Ct=!1,Ot=[],Pt=null,xt=null,Rt=null,Lt=new Map,jt=new Map,At=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function It(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&kt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==xt&&Ft(xt)&&(xt=null),null!==Rt&&Ft(Rt)&&(Rt=null),Lt.forEach(Bt),jt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Ot.length){Ut(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Ut(Pt,e),null!==xt&&Ut(xt,e),null!==Rt&&Ut(Rt,e),Lt.forEach(t),jt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Nt(n),null===n.blockedOn&&At.shift()}var Ht=_.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,$t(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Qt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,$t(e,t,n,r)}finally{bt=i,Ht.transition=o}}function $t(e,t,n,r){if(Wt){var i=Gt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=It(Pt,e,t,n,r,i),!0;case"dragenter":return xt=It(xt,e,t,n,r,i),!0;case"mouseover":return Rt=It(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Lt.set(o,It(Lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jt.set(o,It(jt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Gt(e,t,n,r))&&Wr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(un),dn=N({},un,{view:0,detail:0}),pn=on(dn),fn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(fn),vn=on(N({},fn,{dataTransfer:0})),mn=on(N({},dn,{relatedTarget:0})),yn=on(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),_n=on(N({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Tn}var Cn=N({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(Cn),Pn=on(N({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=on(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=on(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=N({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=on(Ln),An=[9,13,27,32],Mn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var In=l&&"TextEvent"in window&&!Dn,Nn=l&&(!Mn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Kn(e){Fr(e,0)}function Gn(e){if($(_i(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),$n=Qn=null)}function nr(e){if("value"===e.propertyName&&Gn($n)){var t=[];qn(t,$n,e,we(e)),Le(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn($n)}function or(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&cr(gr,r)||(gr=r,0<(r=Qr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function Er(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Er("animationend"),Or=Er("animationiteration"),Pr=Er("animationstart"),xr=Er("transitionend"),Rr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Rr.set(e,t),c(t,[e])}for(var Ar=0;Ar<Lr.length;Ar++){var Mr=Lr[Ar];jr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}jr(Cr,"onAnimationEnd"),jr(Or,"onAnimationIteration"),jr(Pr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(xr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,u){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(o(198));var l=Ne;Ie=!1,Ne=null,Fe||(Fe=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Nr(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Nr(i,s,u),o=c}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,a.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=qt;break;case 4:i=Qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Le(function(){var r=o,i=we(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=On;break;case"focusin":u="focus",c=mn;break;case"focusout":u="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case Cr:case Or:case Pr:c=yn;break;case xr:c=Rn;break;case"scroll":c=pn;break;case"wheel":c=jn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pn}var l=!!(4&t),d=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var f,h=r;null!==h;){var v=(f=h).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==p&&null!=(v=je(h,p))&&l.push(qr(h,v,f))),d)break;h=h.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[hi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=hn,v="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==c?s:_i(c),f=null==u?s:_i(u),(s=new l(v,h+"leave",c,n,i)).target=d,s.relatedTarget=f,v=null,gi(i)===r&&((l=new l(p,h+"enter",u,n,i)).target=f,l.relatedTarget=d,v=l),d=v,c&&u)e:{for(p=u,h=0,f=l=c;f;f=$r(f))h++;for(f=0,v=p;v;v=$r(v))f++;for(;0<h-f;)l=$r(l),h--;for(;0<f-h;)p=$r(p),f--;for(;h--;){if(l===p||null!==p&&l===p.alternate)break e;l=$r(l),p=$r(p)}l=null}else l=null;null!==c&&Kr(a,s,c,l,!1),null!==u&&null!==d&&Kr(a,d,u,l,!0)}if("select"===(c=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Yn;else if(Wn(s))if(Jn)m=ar;else{m=ir;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?qn(a,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Qr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:y}),(g||null!==(g=Un(n)))&&(b.data=g))),(g=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Mn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Qr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g)}Fr(a,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(qr(e,o,i)),null!=(o=je(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=je(n,o))&&a.unshift(qr(n,c,s)):i||null!=(c=je(n,o))&&a.push(qr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),pi="__reactFiber$"+di,fi="__reactProps$"+di,hi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[pi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[pi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var ki=[],Si=-1;function Ti(e){return{current:e}}function Ei(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Ci(e,t){Si++,ki[Si]=e.current,e.current=t}var Oi={},Pi=Ti(Oi),xi=Ti(!1),Ri=Oi;function Li(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ji(e){return null!=e.childContextTypes}function Ai(){Ei(xi),Ei(Pi)}function Mi(e,t,n){if(Pi.current!==Oi)throw Error(o(168));Ci(Pi,t),Ci(xi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return N({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Ri=Pi.current,Ci(Pi,e),Ci(xi,xi.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(xi),Ei(Pi),Ci(Pi,e)):Ei(xi),Ci(xi,n)}var Fi=null,Bi=!1,Vi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),$e(Ze,zi),t}finally{bt=t,Vi=!1}}return null}var Hi=[],Wi=0,qi=null,Qi=0,$i=[],Ki=0,Gi=null,Yi=1,Ji="";function Xi(e,t){Hi[Wi++]=Qi,Hi[Wi++]=qi,qi=e,Qi=t}function Zi(e,t,n){$i[Ki++]=Yi,$i[Ki++]=Ji,$i[Ki++]=Gi,Gi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Yi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Qi=Hi[--Wi],Hi[Wi]=null;for(;e===Gi;)Gi=$i[--Ki],$i[Ki]=null,Ji=$i[--Ki],$i[Ki]=null,Yi=$i[--Ki],$i[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Lu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return!(!(1&e.mode)||128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function ho(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=_.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function _o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===j&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Du(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case k:return(t=Fu(t,e.mode,n)).return=e,t;case j:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);go(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);go(t,r)}return null}function v(i,o,s,c){for(var u=null,l=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=f(i,d,s[v],c);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,v),null===l?u=y:l.sibling=y,l=y,d=m}if(v===s.length)return n(i,d),io&&Xi(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=p(i,s[v],c))&&(o=a(d,o,v),null===l?u=d:l.sibling=d,l=d);return io&&Xi(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(m=h(d,i,v,s[v],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?u=m:l.sibling=m,l=m);return e&&d.forEach(function(e){return t(i,e)}),io&&Xi(i,v),u}function m(i,s,c,u){var l=D(c);if("function"!=typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,v=s,m=s=0,y=null,g=c.next();null!==v&&!g.done;m++,g=c.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=f(i,v,g.value,u);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===d?l=b:d.sibling=b,d=b,v=y}if(g.done)return n(i,v),io&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=c.next())null!==(g=p(i,g.value,u))&&(s=a(g,s,m),null===d?l=g:d.sibling=g,d=g);return io&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=c.next())null!==(g=h(v,i,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===d?l=g:d.sibling=g,d=g);return e&&v.forEach(function(e){return t(i,e)}),io&&Xi(i,m),l}return function e(r,o,a,c){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,l=o;null!==l;){if(l.key===u){if((u=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===j&&bo(u)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=yo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((o=Du(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Mu(a.type,a.key,a.props,null,r.mode,c)).ref=yo(r,o,a),c.return=r,r=c)}return s(r);case k:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,c)).return=r,r=o}return s(r);case j:return e(r,o,(l=a._init)(a._payload),c)}if(te(a))return v(r,o,a,c);if(D(a))return m(r,o,a,c);go(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Nu(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var wo=_o(!0),ko=_o(!1),So=Ti(null),To=null,Eo=null,Co=null;function Oo(){Co=Eo=To=null}function Po(e){var t=So.current;Ei(So),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){To=e,Co=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Lo(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===To)throw Error(o(308));Eo=e,To.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var jo=null;function Ao(e){null===jo?jo=[e]:jo.push(e)}function Mo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Pc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Io=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var l=e.alternate;null!==l&&(s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c)}if(null!==o){var d=i.baseState;for(a=0,l=u=c=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==l&&(l=l.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,f=n,v.tag){case 1:if("function"==typeof(h=v.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=v.payload)?h.call(f,d,p):h))break e;d=N({},d,p);break e;case 2:Io=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=f,c=d):l=l.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===l&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ic|=a,e.lanes=a,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var qo={},Qo=Ti(qo),$o=Ti(qo),Ko=Ti(qo);function Go(e){if(e===qo)throw Error(o(174));return e}function Yo(e,t){switch(Ci(Ko,t),Ci($o,e),Ci(Qo,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Qo),Ci(Qo,t)}function Jo(){Ei(Qo),Ei($o),Ei(Ko)}function Xo(e){Go(Ko.current);var t=Go(Qo.current),n=ce(t,e.type);t!==n&&(Ci($o,e),Ci(Qo,n))}function Zo(e){$o.current===e&&(Ei(Qo),Ei($o))}var ea=Ti(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=_.ReactCurrentDispatcher,oa=_.ReactCurrentBatchConfig,aa=0,sa=null,ca=null,ua=null,la=!1,da=!1,pa=0,fa=0;function ha(){throw Error(o(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(o(301));a+=1,ua=ca=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Xa,t=null!==ca&&null!==ca.next,aa=0,ua=ca=sa=null,la=!1,t)throw Error(o(300));return e}function ya(){var e=0!==pa;return pa=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,ca=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function _a(e,t){return"function"==typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,u=null,l=a;do{var d=l.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var p={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=p,s=r):u=u.next=p,sa.lanes|=d,Ic|=d}l=l.next}while(null!==l&&l!==a);null===u?s=r:u.next=c,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ic|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ta(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ia(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,La(9,Ca.bind(null,n,r,i,t),void 0,null),null===xc)throw Error(o(349));30&aa||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&xa(e)}function Oa(e,t,n){return n(function(){Pa(t)&&xa(e)})}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function xa(e){var t=Do(e,1);null!==t&&nu(t,e,1,-1)}function Ra(e){var t=ga();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return ba().memoizedState}function Aa(e,t,n,r){var i=ga();sa.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&va(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}sa.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Da(e,t){return Aa(8390656,8,e,t)}function Ia(e,t){return Ma(2048,8,e,t)}function Na(e,t){return Ma(4,2,e,t)}function Fa(e,t){return Ma(4,4,e,t)}function Ba(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4,4,Ba.bind(null,t,e),n)}function Ua(){}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 21&aa?(sr(n,t)||(n=vt(),sa.lanes|=n,Ic|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Qa(){return ba().memoizedState}function $a(e,t,n){var r=tu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e)?Ya(t,n):null!==(n=Mo(e,t,n,r))&&(nu(n,e,r,eu()),Ja(n,t,r))}function Ka(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Ya(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,Ao(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Mo(e,t,i,r))&&(nu(n,e,r,i=eu()),Ja(n,t,r))}}function Ga(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){da=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Xa={readContext:Lo,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Za={readContext:Lo,useCallback:function(e,t){return ga().memoizedState=[e,void 0===t?null:t],e},useContext:Lo,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Aa(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$a.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:Ra,useDebugValue:Ua,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=qa.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ga();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===xc)throw Error(o(349));30&aa||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Da(Oa.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ga(),t=xc.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Lo,useCallback:za,useContext:Lo,useEffect:Ia,useImperativeHandle:Va,useInsertionEffect:Na,useLayoutEffect:Fa,useMemo:Ha,useReducer:wa,useRef:ja,useState:function(){return wa(_a)},useDebugValue:Ua,useDeferredValue:function(e){return Wa(ba(),ca.memoizedState,e)},useTransition:function(){return[wa(_a)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Qa,unstable_isNewReconciler:!1},ts={readContext:Lo,useCallback:za,useContext:Lo,useEffect:Ia,useImperativeHandle:Va,useInsertionEffect:Na,useLayoutEffect:Fa,useMemo:Ha,useReducer:ka,useRef:ja,useState:function(){return ka(_a)},useDebugValue:Ua,useDeferredValue:function(e){var t=ba();return null===ca?t.memoizedState=e:Wa(t,ca.memoizedState,e)},useTransition:function(){return[ka(_a)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Bo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nu(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Bo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nu(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Bo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nu(t,e,r,n),Uo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(i,o))}function as(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"==typeof o&&null!==o?o=Lo(o):(i=ji(t)?Ri:Pi.current,o=(r=null!=(r=t.contextTypes))?Li(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Lo(o):(o=ji(t)?Ri:Pi.current,i.context=Li(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wc||(Wc=!0,qc=r),ds(0,t)},n}function hs(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Qc?Qc=new Set([this]):Qc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e)}var gs=_.ReactCurrentOwner,bs=!1;function _s(e,t,n,r){t.child=null===e?ko(t,null,n,r):wo(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=ma(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function ks(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||ju(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Au(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);131072&e.flags&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ac,jc),jc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Ac,jc),jc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ac,jc),jc|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Ac,jc),jc|=r;return _s(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=ji(n)?Ri:Pi.current;return o=Li(t,o),Ro(t,i),n=ma(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Os(e,t,n,r,i){if(ji(n)){var o=!0;Ii(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Hs(e,t),as(t,n,r),cs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Lo(u):Li(t,u=ji(n)?Ri:Pi.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&ss(t,a,r,u),Io=!1;var p=t.memoizedState;a.state=p,Ho(t,r,a,i),c=t.memoizedState,s!==r||p!==c||xi.current||Io?("function"==typeof l&&(rs(t,n,l,r),c=t.memoizedState),(s=Io||os(t,n,s,r,p,c,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,d=t.pendingProps,p=a.context,c="object"==typeof(c=n.contextType)&&null!==c?Lo(c):Li(t,c=ji(n)?Ri:Pi.current);var f=n.getDerivedStateFromProps;(l="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==c)&&ss(t,a,r,c),Io=!1,p=t.memoizedState,a.state=p,Ho(t,r,a,i);var h=t.memoizedState;s!==d||p!==h||xi.current||Io?("function"==typeof f&&(rs(t,n,f,r),h=t.memoizedState),(u=Io||os(t,n,u,r,p,h,c)||!1)?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){Es(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Ni(t,n,!1),Ws(e,t,o);r=t.stateNode,gs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function xs(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Yo(e,t.containerInfo)}function Rs(e,t,n,r,i){return ho(),vo(i),t.flags|=256,_s(e,t,n,r),t.child}var Ls,js,As,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,c=!!(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},1&i||null===s?s=Iu(c,i,0,null):(s.childLanes=0,s.pendingProps=c),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Is(n),t.memoizedState=Ds,e):Fs(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ls(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Iu({mode:"visible",children:r.children},i,0,null),(a=Du(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&wo(t,e.child,null,s),t.child.memoizedState=Is(s),t.memoizedState=Ds,a);if(!(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Bs(e,t,s,r=ls(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),bs||c){if(null!==(r=xc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(e,i),nu(r,e,i,-1))}return vu(),Bs(e,t,s,r=ls(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ou.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&($i[Ki++]=Yi,$i[Ki++]=Ji,$i[Ki++]=Gi,Yi=e.id,Ji=e.overflow,Gi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&c||t.child===a?(i=Au(a,u)).subtreeFlags=14680064&a.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==r?s=Au(r,s):(s=Du(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Is(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Au(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Iu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&vo(r),wo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function Us(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ea,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ic|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(t),null;case 1:case 17:return ji(t.type)&&Ai(),Qs(t),null;case 3:return r=t.stateNode,Jo(),Ei(xi),Ei(Pi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),js(e,t),Qs(t),null;case 5:Zo(t);var i=Go(Ko.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Qs(t),null}if(e=Go(Qo.current),po(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[fi]=a,e=!!(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Br(Dr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var c in ge(n,a),i=null,a)if(a.hasOwnProperty(c)){var u=a[c];"children"===c?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Br("scroll",r)}switch(n){case"input":Q(r),Z(r,a,!0);break;case"textarea":Q(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[pi]=t,e[fi]=r,Ls(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Br(Dr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=G(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ge(n,i),u=i)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&pe(e,l):"number"==typeof l&&pe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Br("scroll",e):null!=l&&b(e,a,l,c))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go(Ko.current),Go(Qo.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return Qs(t),null;case 13:if(Ei(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&1&t.mode&&!(128&t.flags))fo(),ho(),t.flags|=98560,a=!1;else if(a=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pi]=t}else ho(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qs(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Mc&&(Mc=3):vu())),null!==t.updateQueue&&(t.flags|=4),Qs(t),null);case 4:return Jo(),js(e,t),null===e&&zr(t.stateNode.containerInfo),Qs(t),null;case 10:return Po(t.type._context),Qs(t),null;case 19:if(Ei(ea),null===(a=t.memoizedState))return Qs(t),null;if(r=!!(128&t.flags),null===(c=a.rendering))if(r)qs(a,!1);else{if(0!==Mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(c=ta(e))){for(t.flags|=128,qs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>zc&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Qs(t),null}else 2*Je()-a.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,Ci(ea,r?1&n|2:1&n),t):(Qs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&jc)&&(Qs(t),6&t.subtreeFlags&&(t.flags|=8192)):Qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return ji(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ei(xi),Ei(Pi),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ei(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ea),null;case 4:return Jo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go(Qo.current);var o,a=null;switch(n){case"input":i=G(e,i),r=G(e,r),a=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(l,u)):"children"===l?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Br("scroll",e),a||c===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gs=!1,Ys=!1,Js="function"==typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Tu(e,t,n)}else n.current=null}function ec(e,t,n){try{n()}catch(n){Tu(e,t,n)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pi],delete t[fi],delete t[vi],delete t[mi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,dc=!1;function pc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lc,i=dc;lc=null,pc(e,t,n),dc=i,null!==(lc=r)&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),zt(e)):ci(lc,n.stateNode));break;case 4:r=lc,i=dc,lc=n.stateNode.containerInfo,dc=!0,pc(e,t,n),lc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Ys&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&ec(n,t,a),i=i.next}while(i!==r)}pc(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Tu(n,t,e)}pc(e,t,n);break;case 21:pc(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,pc(e,t,n),Ys=r):pc(e,t,n);break;default:pc(e,t,n)}}function hc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function vc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(o(160));fc(a,s,i),lc=null,dc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Tu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(t){Tu(e,e.return,t)}try{nc(5,e,e.return)}catch(t){Tu(e,e.return,t)}}break;case 1:vc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(t){Tu(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&J(i,a),be(c,s);var l=be(c,a);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?me(i,p):"dangerouslySetInnerHTML"===d?de(i,p):"children"===d?pe(i,p):b(i,d,p,l)}switch(c){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(t){Tu(e,e.return,t)}}break;case 6:if(vc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Tu(e,e.return,t)}}break;case 3:if(vc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(t){Tu(e,e.return,t)}break;case 4:default:vc(t,e),yc(e);break;case 13:vc(t,e),yc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Uc=Je())),4&r&&hc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||d,vc(t,e),Ys=l):vc(t,e),yc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&1&e.mode)for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Zs(f,f.return);var v=f.stateNode;if("function"==typeof v.componentWillUnmount){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(e){Tu(r,n,e)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wc(p);continue}}null!==h?(h.return=f,Xs=h):wc(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{i=p.stateNode,l?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=p.stateNode,s=null!=(u=p.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,c.style.display=ve("display",s))}catch(t){Tu(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(t){Tu(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vc(t,e),yc(e),4&r&&hc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),uc(e,sc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(o(161))}}catch(t){Tu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gc(e,t,n){Xs=e,bc(e,t,n)}function bc(e,t,n){for(var r=!!(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Gs;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Ys;s=Gs;var u=Ys;if(Gs=a,(Ys=c)&&!u)for(Xs=i;null!==Xs;)c=(a=Xs).child,22===a.tag&&null!==a.memoizedState?kc(i):null!==c?(c.return=a,Xs=c):kc(i);for(;null!==o;)Xs=o,bc(o,t,n),o=o.sibling;Xs=i,Gs=s,Ys=u}_c(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Xs=o):_c(e)}}function _c(e){for(;null!==Xs;){var t=Xs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ys||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&zt(p)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&ic(t)}catch(e){Tu(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wc(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function kc(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(e){Tu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Tu(t,i,e)}}var o=t.return;try{ic(t)}catch(e){Tu(t,o,e)}break;case 5:var a=t.return;try{ic(t)}catch(e){Tu(t,a,e)}}}catch(e){Tu(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sc,Tc=Math.ceil,Ec=_.ReactCurrentDispatcher,Cc=_.ReactCurrentOwner,Oc=_.ReactCurrentBatchConfig,Pc=0,xc=null,Rc=null,Lc=0,jc=0,Ac=Ti(0),Mc=0,Dc=null,Ic=0,Nc=0,Fc=0,Bc=null,Vc=null,Uc=0,zc=1/0,Hc=null,Wc=!1,qc=null,Qc=null,$c=!1,Kc=null,Gc=0,Yc=0,Jc=null,Xc=-1,Zc=0;function eu(){return 6&Pc?Je():-1!==Xc?Xc:Xc=Je()}function tu(e){return 1&e.mode?2&Pc&&0!==Lc?Lc&-Lc:null!==mo.transition?(0===Zc&&(Zc=vt()),Zc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function nu(e,t,n,r){if(50<Yc)throw Yc=0,Jc=null,Error(o(185));yt(e,n,r),2&Pc&&e===xc||(e===xc&&(!(2&Pc)&&(Nc|=n),4===Mc&&su(e,Lc)),ru(e,r),1===n&&0===Pc&&!(1&t.mode)&&(zc=Je()+500,Bi&&zi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===xc?Lc:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bi=!0,Ui(e)}(cu.bind(null,e)):Ui(cu.bind(null,e)),ai(function(){!(6&Pc)&&zi()}),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=xu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xc=-1,Zc=0,6&Pc)throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=pt(e,e===xc?Lc:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Pc;Pc|=2;var a=hu();for(xc===e&&Lc===t||(Hc=null,zc=Je()+500,pu(e,t));;)try{gu();break}catch(t){fu(e,t)}Oo(),Ec.current=a,Pc=i,null!==Rc?t=0:(xc=null,Lc=0,t=Mc)}if(0!==t){if(2===t&&0!==(i=ht(e))&&(r=i,t=ou(e,i)),1===t)throw n=Dc,pu(e,0),su(e,r),ru(e,Je()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=mu(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ou(e,a))),1!==t)))throw n=Dc,pu(e,0),su(e,r),ru(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wu(e,Vc,Hc);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Uc+500-Je())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Vc,Hc),t);break}wu(e,Vc,Hc);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Vc,Hc),r);break}wu(e,Vc,Hc);break;default:throw Error(o(329))}}}return ru(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Bc;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Vc,Vc=n,null!==t&&au(t)),e}function au(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function su(e,t){for(t&=~Fc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(6&Pc)throw Error(o(327));ku();var t=pt(e,0);if(!(1&t))return ru(e,Je()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Dc,pu(e,0),su(e,t),ru(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Vc,Hc),ru(e,Je()),null}function uu(e,t){var n=Pc;Pc|=1;try{return e(t)}finally{0===(Pc=n)&&(zc=Je()+500,Bi&&zi())}}function lu(e){null!==Kc&&0===Kc.tag&&!(6&Pc)&&ku();var t=Pc;Pc|=1;var n=Oc.transition,r=bt;try{if(Oc.transition=null,bt=1,e)return e()}finally{bt=r,Oc.transition=n,!(6&(Pc=t))&&zi()}}function du(){jc=Ac.current,Ei(Ac)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ai();break;case 3:Jo(),Ei(xi),Ei(Pi),ra();break;case 5:Zo(r);break;case 4:Jo();break;case 13:case 19:Ei(ea);break;case 10:Po(r.type._context);break;case 22:case 23:du()}n=n.return}if(xc=e,Rc=e=Au(e.current,null),Lc=jc=t,Mc=0,Dc=null,Fc=Nc=Ic=0,Vc=Bc=null,null!==jo){for(t=0;t<jo.length;t++)if(null!==(r=(n=jo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}jo=null}return e}function fu(e,t){for(;;){var n=Rc;try{if(Oo(),ia.current=Xa,la){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(aa=0,ua=ca=sa=null,da=!1,pa=0,Cc.current=null,null===n||null===n.return){Mc=1,Dc=t,Rc=null;break}e:{var a=e,s=n.return,c=n,u=t;if(t=Lc,c.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u,d=c,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,ys(h,s,c,0,t),1&h.mode&&vs(a,l,t),u=l;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(!(1&t)){vs(a,l,t),vu();break e}u=Error(o(426))}else if(io&&1&c.mode){var y=ms(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ys(y,s,c,0,t),vo(us(u,c));break e}}a=u=us(u,c),4!==Mc&&(Mc=2),null===Bc?Bc=[a]:Bc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,fs(0,u,t));break e;case 1:c=u;var g=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof g.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Qc&&Qc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,hs(a,c,t));break e}}a=a.return}while(null!==a)}_u(n)}catch(e){t=e,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function hu(){var e=Ec.current;return Ec.current=Xa,null===e?Xa:e}function vu(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===xc||!(268435455&Ic)&&!(268435455&Nc)||su(xc,Lc)}function mu(e,t){var n=Pc;Pc|=2;var r=hu();for(xc===e&&Lc===t||(Hc=null,pu(e,t));;)try{yu();break}catch(t){fu(e,t)}if(Oo(),Pc=n,Ec.current=r,null!==Rc)throw Error(o(261));return xc=null,Lc=0,Mc}function yu(){for(;null!==Rc;)bu(Rc)}function gu(){for(;null!==Rc&&!Ge();)bu(Rc)}function bu(e){var t=Sc(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?_u(e):Rc=t,Cc.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Mc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=$s(n,t,jc)))return void(Rc=n);if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Mc&&(Mc=5)}function wu(e,t,n){var r=bt,i=Oc.transition;try{Oc.transition=null,bt=1,function(e,t,n,r){do{ku()}while(null!==Kc);if(6&Pc)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===xc&&(Rc=xc=null,Lc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||$c||($c=!0,xu(tt,function(){return ku(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=Oc.transition,Oc.transition=null;var s=bt;bt=1;var c=Pc;Pc|=4,Cc.current=null,function(e,t){if(ei=Wt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,c=-1,u=-1,l=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(c=s+i),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++l===i&&(c=s),f===a&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(e){Tu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tc,tc=!1}(e,n),mc(n,e),hr(ti),Wt=!!ei,ti=ei=null,e.current=n,gc(n,e,i),Ye(),Pc=c,bt=s,Oc.transition=a}else e.current=n;if($c&&($c=!1,Kc=e,Gc=i),0===(a=e.pendingLanes)&&(Qc=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wc)throw Wc=!1,e=qc,qc=null,e;!!(1&Gc)&&0!==e.tag&&ku(),1&(a=e.pendingLanes)?e===Jc?Yc++:(Yc=0,Jc=e):Yc=0,zi()}(e,t,n,r)}finally{Oc.transition=i,bt=r}return null}function ku(){if(null!==Kc){var e=_t(Gc),t=Oc.transition,n=bt;try{if(Oc.transition=null,bt=16>e?16:e,null===Kc)var r=!1;else{if(e=Kc,Kc=null,Gc=0,6&Pc)throw Error(o(331));var i=Pc;for(Pc|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(16&Xs.flags){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Xs=l;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(oc(d),d===l){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(2048&(a=Xs).flags)switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Xs=g;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(2064&s.subtreeFlags&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(2048&(c=Xs).flags)try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(e){Tu(c,c.return,e)}if(c===s){Xs=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Xs=w;break e}Xs=c.return}}if(Pc=i,zi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Oc.transition=t}}return!1}function Su(e,t,n){e=Vo(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Tu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qc||!Qc.has(r))){t=Vo(t,e=hs(t,e=us(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,xc===e&&(Lc&n)===n&&(4===Mc||3===Mc&&(130023424&Lc)===Lc&&500>Je()-Uc?pu(e,0):Fc|=n),ru(e,t)}function Cu(e,t){0===t&&(1&e.mode?(t=lt,!(130023424&(lt<<=1))&&(lt=4194304)):t=1);var n=eu();null!==(e=Do(e,t))&&(yt(e,t,n),ru(e,n))}function Ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cu(e,n)}function xu(e,t){return $e(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(e,t,n,r){return new Ru(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=Lu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)ju(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Du(n.children,i,a,t);case T:s=8,i|=8;break;case E:return(e=Lu(12,n,t,2|i)).elementType=E,e.lanes=a,e;case x:return(e=Lu(13,n,t,i)).elementType=x,e.lanes=a,e;case R:return(e=Lu(19,n,t,i)).elementType=R,e.lanes=a,e;case A:return Iu(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case O:s=9;break e;case P:s=11;break e;case L:s=14;break e;case j:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Lu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Du(e,t,n,r){return(e=Lu(7,e,r,t)).lanes=n,e}function Iu(e,t,n,r){return(e=Lu(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=Lu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Lu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,o,a,s,c){return e=new Bu(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Lu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Uu(e){if(!e)return Oi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ji(n))return Di(e,n,t)}return t}function zu(e,t,n,r,i,o,a,s,c){return(e=Vu(n,r,!0,e,0,o,0,s,c)).context=Uu(null),n=e.current,(o=Bo(r=eu(),i=tu(n))).callback=null!=t?t:null,Vo(n,o,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,a))&&(nu(e,i,a,o),Uo(e,i,a)),a}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)bs=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:xs(t),ho();break;case 5:Xo(t);break;case 1:ji(t.type)&&Ii(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Ci(ea,1&ea.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,io&&1048576&t.flags&&Zi(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Li(t,Pi.current);Ro(t,n),i=ma(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(a=!0,Ii(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=is,t.stateNode=i,i._reactInternals=t,cs(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return ju(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===L)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(xs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Ho(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Ws(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ns(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!xi.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Bo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),xo(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),xo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Lo(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ks(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,ji(r)?(e=!0,Ii(t)):e=!1,Ro(t,n),as(t,r,i),cs(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var $u="function"==typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Wu(a);s.call(e)}}Hu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Wu(a);o.call(e)}}var a=zu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=a,e[hi]=a.current,zr(8===e.nodeType?e.parentNode:e),lu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Wu(c);s.call(e)}}var c=Vu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=c,e[hi]=c.current,zr(8===e.nodeType?e.parentNode:e),lu(function(){Hu(t,c,n,r)}),c}(n,t,e,i,r);return Wu(a)}Gu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Gu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu(function(){Hu(null,e,null,null)}),t[hi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),ru(t,Je()),!(6&Pc)&&(zc=Je()+500,zi()))}break;case 13:lu(function(){var t=Do(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Qu(e,1)}},kt=function(e){if(13===e.tag){var t=Do(e,134217728);null!==t&&nu(t,e,134217728,eu()),Qu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Do(e,t);null!==n&&nu(n,e,t,eu()),Qu(e,t)}},Tt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));$(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,xe=lu;var el={usingClientEntryPoint:!1,Events:[bi,_i,wi,Ce,Oe,uu]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),ot=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(o(299));var n=!1,r="",i=$u;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$u;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(lu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2566:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=n(9722),a=o.flatMap,s=o.guessBrowser,c=o.guessBrowserVersion,u=n(5747).getSdpFormat,l=s(),d=c(),p="chrome"===l,f="firefox"===l,h="safari"===l,v=p?d.major:null;function m(e,t){return"function"==typeof e.get?e.get(t):e.find(function(e){return e.id===t})}function y(e){var t=Array.from(e.values()).find(function(e){var t=e.nominated;return"candidate-pair"===e.type&&t});if(!t)return null;var n=m(e,t.localCandidateId),r=m(e,t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],o=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a=n?o.reduce(function(e,t){var r=t.key,i=t.type;return e[r]=typeof n[r]===i?n[r]:"deleted"!==r&&null,e},{}):null,s=r?i.reduce(function(e,t){var n=t.key,i=t.type;return e[n]=typeof r[n]===i?r[n]:null,e},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(e){return"inprogress"===e?"in-progress":e}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(e,n){var r=n.key,i=n.type,o=n.fixup;return e[r]=typeof t[r]===i?o?o(t[r]):t[r]:null,e},{localCandidate:a,remoteCandidate:s})}function g(e){var t=Array.from(e.values()).find(function(e){var t=e.nominated;return"candidate-pair"===e.type&&t});if(!t)return null;var n=m(e,t.localCandidateId),r=m(e,t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],o=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),a={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},s=n?o.reduce(function(e,t){var r=t.ffKeys,i=t.key,o=t.type,s=r&&r.find(function(e){return e in n})||i;return e[i]=typeof n[s]===o?"candidateType"===s&&a[n[s]]||n[s]:"deleted"!==s&&null,e},{}):null,c=r?i.reduce(function(e,t){var n=t.ffKeys,i=t.key,o=t.type,s=n&&n.find(function(e){return e in r})||i;return e[i]=typeof r[s]===o?"candidateType"===s&&a[r[s]]||r[s]:null,e},{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce(function(e,n){var r=n.key,i=n.type;return e[r]=typeof t[r]===i?t[r]:null,e},{localCandidate:s,remoteCandidate:c})}function b(e,t,n){var r="local"===n?"getSenders":"getReceivers";if(e[r])return e[r]().map(function(e){return e.track}).filter(function(e){return e&&e.kind===t});var i="audio"===t?"getAudioTracks":"getVideoTracks";return a(e["local"===n?"getLocalStreams":"getRemoteStreams"](),function(e){return e[i]()})}function _(e,t,n){var o=n.log;return v&&v<67?new Promise(function(n,r){e.getStats(function(e){n([w(e,t)])},null,r)}):e.getStats(t).then(function(e){return o.info("getStats by track successful"),k(e,n)}).catch(function(){return o.warn("getStats by track failed. Getting default stats"),e.getStats().then(function(a){o.info("getStats by default successful");var s=function(e,t){var n,i,o,a,s,c;if(!e||!t)return!1;if(e.getReceivers){var u=e.getReceivers();try{for(var l=r(u),d=l.next();!d.done;d=l.next()){var p=d.value;if(p.track&&p.track.id===t.id)return!0}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}if(e.getRemoteStreams){var f=e.getRemoteStreams();try{for(var h=r(f),v=h.next();!v.done;v=h.next()){var m=v.value.getTracks();try{for(var y=(s=void 0,r(m)),g=y.next();!g.done;g=y.next())if(g.value.id===t.id)return!0}catch(e){s={error:e}}finally{try{g&&!g.done&&(c=y.return)&&c.call(y)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}return!1}(e,t);o.info("Starting filtering stats for "+(s?"remote":"local")+" track");var c=function(e,t,n){var o,a,s,c,u,l,d,p,f,h,v,m,y,g,b,_,w,k,S,T,E,C,O;if(void 0===n&&(n=!1),Array.isArray(e))O=new Map(e.map(function(e){return[e.id||String(Math.random()),e]}));else if(e instanceof Map)O=e;else{if("object"!=typeof e||null===e)return new Map;var P=new Map;Object.keys(e).forEach(function(t){P.set(t,e[t])}),O=P}if(!O||!t)return new Map;var x=new Map,R=t.id,L=t.kind,j=null,A=null,M=null;try{for(var D=r(O),I=D.next();!I.done;I=D.next()){var N=i(I.value,2),F=N[0],B=N[1];if(n&&"inbound-rtp"===B.type&&B.trackIdentifier===R){j=B,A=F,M=B.ssrc;break}if(!n&&"media-source"===B.type&&B.trackIdentifier===R){j=B,A=F;break}"track"===B.type&&B.trackIdentifier===R&&(j||(j=B,A=F))}}catch(e){o={error:e}}finally{try{I&&!I.done&&(a=D.return)&&a.call(D)}finally{if(o)throw o.error}}if(!j)if(n){var V=[];try{for(var U=r(O),z=U.next();!z.done;z=U.next()){var H=i(z.value,2);F=H[0],"inbound-rtp"!==(B=H[1]).type||B.kind!==L&&B.mediaType!==L||V.push({id:F,stat:B})}}catch(e){s={error:e}}finally{try{z&&!z.done&&(c=U.return)&&c.call(U)}finally{if(s)throw s.error}}(1===V.length||V.length>1)&&(j=V[0].stat,A=V[0].id,M=j.ssrc)}else try{for(var W=r(O),q=W.next();!q.done;q=W.next()){var Q=i(q.value,2);if(F=Q[0],"media-source"===(B=Q[1]).type&&B.kind===L){j=B,A=F;break}}}catch(e){u={error:e}}finally{try{q&&!q.done&&(l=W.return)&&l.call(W)}finally{if(u)throw u.error}}if(!j)return x;x.set(A,j);var $=new Set;if(n){if(j.codecId&&$.add(j.codecId),j.transportId&&$.add(j.transportId),j.remoteId&&$.add(j.remoteId),M)try{for(var K=r(O),G=K.next();!G.done;G=K.next()){var Y=i(G.value,2);F=Y[0],"remote-outbound-rtp"===(B=Y[1]).type&&B.ssrc===M&&$.add(F)}}catch(e){d={error:e}}finally{try{G&&!G.done&&(p=K.return)&&p.call(K)}finally{if(d)throw d.error}}try{for(var J=r($),X=J.next();!X.done;X=J.next()){var Z=X.value;O.has(Z)&&x.set(Z,O.get(Z))}}catch(e){f={error:e}}finally{try{X&&!X.done&&(h=J.return)&&h.call(J)}finally{if(f)throw f.error}}try{for(var ee=r(O),te=ee.next();!te.done;te=ee.next()){var ne=i(te.value,2);F=ne[0],"track"===(B=ne[1]).type&&B.trackIdentifier===R&&x.set(F,B)}}catch(e){v={error:e}}finally{try{te&&!te.done&&(m=ee.return)&&m.call(ee)}finally{if(v)throw v.error}}}else{try{for(var re=r(O),ie=re.next();!ie.done;ie=re.next()){var oe=i(ie.value,2);if(F=oe[0],"outbound-rtp"===(B=oe[1]).type&&B.mediaSourceId===A){x.set(F,B),B.codecId&&$.add(B.codecId),B.transportId&&$.add(B.transportId);var ae=F;try{for(var se=(b=void 0,r(O)),ce=se.next();!ce.done;ce=se.next()){var ue=i(ce.value,2),le=ue[0],de=ue[1];"remote-inbound-rtp"===de.type&&de.localId===ae&&x.set(le,de)}}catch(e){b={error:e}}finally{try{ce&&!ce.done&&(_=se.return)&&_.call(se)}finally{if(b)throw b.error}}}}}catch(e){y={error:e}}finally{try{ie&&!ie.done&&(g=re.return)&&g.call(re)}finally{if(y)throw y.error}}try{for(var pe=r($),fe=pe.next();!fe.done;fe=pe.next())Z=fe.value,O.has(Z)&&x.set(Z,O.get(Z))}catch(e){w={error:e}}finally{try{fe&&!fe.done&&(k=pe.return)&&k.call(pe)}finally{if(w)throw w.error}}}var he=null,ve=new Set;try{for(var me=r(x.values()),ye=me.next();!ye.done;ye=me.next())(B=ye.value).transportId&&ve.add(B.transportId)}catch(e){S={error:e}}finally{try{ye&&!ye.done&&(T=me.return)&&T.call(me)}finally{if(S)throw S.error}}try{for(var ge=r(ve),be=ge.next();!be.done;be=ge.next()){var _e=be.value;if(O.has(_e)){var we=O.get(_e);x.set(_e,we),we.selectedCandidatePairId&&(he=we.selectedCandidatePairId),we.localCertificateId&&O.has(we.localCertificateId)&&x.set(we.localCertificateId,O.get(we.localCertificateId)),we.remoteCertificateId&&O.has(we.remoteCertificateId)&&x.set(we.remoteCertificateId,O.get(we.remoteCertificateId))}}}catch(e){E={error:e}}finally{try{be&&!be.done&&(C=ge.return)&&C.call(ge)}finally{if(E)throw E.error}}if(he&&O.has(he)){var ke=O.get(he);x.set(he,ke),ke.localCandidateId&&O.has(ke.localCandidateId)&&x.set(ke.localCandidateId,O.get(ke.localCandidateId)),ke.remoteCandidateId&&O.has(ke.remoteCandidateId)&&x.set(ke.remoteCandidateId,O.get(ke.remoteCandidateId))}return x}(a,t,s);return o.info("Completed filtering stats for "+(s?"remote":"local")+" track"),k(c,n)})})}function w(e,t){var n=e.result().find(function(e){return"ssrc"===e.type&&e.stat("googTrackId")===t.id}),r={};return n&&(r.timestamp=Math.round(Number(n.timestamp)),r=n.names().reduce(function(e,t){switch(t){case"googCodecName":e.codecName=n.stat(t);break;case"googRtt":e.roundTripTime=Number(n.stat(t));break;case"googJitterReceived":e.jitter=Number(n.stat(t));break;case"googFrameWidthInput":e.frameWidthInput=Number(n.stat(t));break;case"googFrameHeightInput":e.frameHeightInput=Number(n.stat(t));break;case"googFrameWidthSent":e.frameWidthSent=Number(n.stat(t));break;case"googFrameHeightSent":e.frameHeightSent=Number(n.stat(t));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(n.stat(t));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(n.stat(t));break;case"googFrameRateInput":e.frameRateInput=Number(n.stat(t));break;case"googFrameRateSent":e.frameRateSent=Number(n.stat(t));break;case"googFrameRateReceived":e.frameRateReceived=Number(n.stat(t));break;case"ssrc":e[t]=n.stat(t);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[t]=Number(n.stat(t))}return e},r)),r}function k(e,t){var n=t.simulateExceptionWhileStandardizingStats;if(void 0!==n&&n)throw new Error("Error while gathering stats");var r=null,i=[],o=null,a=null,s=null,c=null,u=null;e.forEach(function(e){switch(e.type){case"inbound-rtp":r=e;break;case"outbound-rtp":i.push(e);break;case"media-source":u=e;break;case"track":s=e;break;case"codec":c=e;break;case"remote-inbound-rtp":o=e;break;case"remote-outbound-rtp":a=e}});var l=s?s.remoteSource:!u,d=[],p=l?a:o;return(l?[r]:i).forEach(function(e){var t={},n=[e,u,s,c,p&&p.ssrc===e.ssrc?p:null];function r(e){var t=n.find(function(t){return t&&void 0!==t[e]})||null;return t?t[e]:null}var i=r("ssrc");"number"==typeof i&&(t.ssrc=String(i));var o=r("timestamp");t.timestamp=Math.round(o);var a=r("mimeType");"string"==typeof a&&(a=a.split("/"),t.codecName=a[a.length-1]);var f=r("roundTripTime");"number"==typeof f&&(t.roundTripTime=Math.round(1e3*f));var h=r("jitter");"number"==typeof h&&(t.jitter=Math.round(1e3*h));var v=r("frameWidth");"number"==typeof v&&(l?t.frameWidthReceived=v:(t.frameWidthSent=v,t.frameWidthInput=s?s.frameWidth:u.width));var m=r("frameHeight");"number"==typeof m&&(l?t.frameHeightReceived=m:(t.frameHeightSent=m,t.frameHeightInput=s?s.frameHeight:u.height));var y=r("framesPerSecond");"number"==typeof y&&(t[l?"frameRateReceived":"frameRateSent"]=y);var g=r("bytesReceived");"number"==typeof g&&(t.bytesReceived=g);var b=r("bytesSent");"number"==typeof b&&(t.bytesSent=b);var _=r("packetsLost");"number"==typeof _&&(t.packetsLost=_);var w=r("packetsReceived");"number"==typeof w&&(t.packetsReceived=w);var k=r("packetsSent");"number"==typeof k&&(t.packetsSent=k);var S=r("audioLevel");"number"==typeof S&&(S=Math.round(32767*S),l?t.audioOutputLevel=S:t.audioInputLevel=S);var T=r("totalPacketSendDelay");"number"==typeof T&&(t.totalPacketSendDelay=T);var E=r("totalEncodeTime");"number"==typeof E&&(t.totalEncodeTime=E);var C=r("framesEncoded");"number"==typeof C&&(t.framesEncoded=C);var O=r("estimatedPlayoutTimestamp");"number"==typeof O&&(t.estimatedPlayoutTimestamp=O);var P=r("totalDecodeTime");"number"==typeof P&&(t.totalDecodeTime=P);var x=r("framesDecoded");"number"==typeof x&&(t.framesDecoded=x);var R=r("jitterBufferDelay");"number"==typeof R&&(t.jitterBufferDelay=R);var L=r("jitterBufferEmittedCount");"number"==typeof L&&(t.jitterBufferEmittedCount=L),d.push(t)}),d}function S(e,t){void 0===e&&(e=new Map);var n=t.isRemote,r=t.simulateExceptionWhileStandardizingStats;if(void 0!==r&&r)throw new Error("Error while gathering stats");var i=null,o=null;e.forEach(function(t){var n=t.isRemote,r=t.remoteId,a=t.type;if(!n)switch(a){case"inbound-rtp":i=t,o=m(e,r);break;case"outbound-rtp":o=t,i=m(e,r)}});var a=n?i:o,s=n?o:i;function c(e){return a&&void 0!==a[e]?a[e]:s&&void 0!==s[e]?s[e]:null}var u={},l=c("timestamp");u.timestamp=Math.round(l);var d=c("ssrc");"number"==typeof d&&(u.ssrc=String(d));var p=c("bytesSent");"number"==typeof p&&(u.bytesSent=p);var f=c("packetsLost");"number"==typeof f&&(u.packetsLost=f);var h=c("packetsSent");"number"==typeof h&&(u.packetsSent=h);var v=c("roundTripTime");"number"==typeof v&&(u.roundTripTime=Math.round(1e3*v));var y=c("jitter");"number"==typeof y&&(u.jitter=Math.round(1e3*y));var g=c("framerateMean");"number"==typeof g&&(u.frameRateSent=Math.round(g));var b=c("bytesReceived");"number"==typeof b&&(u.bytesReceived=b);var _=c("packetsReceived");"number"==typeof _&&(u.packetsReceived=_);var w=c("framerateMean");"number"==typeof w&&(u.frameRateReceived=Math.round(w));var k=c("totalPacketSendDelay");"number"==typeof k&&(u.totalPacketSendDelay=k);var S=c("totalEncodeTime");"number"==typeof S&&(u.totalEncodeTime=S);var T=c("framesEncoded");"number"==typeof T&&(u.framesEncoded=T);var E=c("estimatedPlayoutTimestamp");"number"==typeof E&&(u.estimatedPlayoutTimestamp=E);var C=c("totalDecodeTime");"number"==typeof C&&(u.totalDecodeTime=C);var O=c("framesDecoded");"number"==typeof O&&(u.framesDecoded=O);var P=c("jitterBufferDelay");"number"==typeof P&&(u.jitterBufferDelay=P);var x=c("jitterBufferEmittedCount");return"number"==typeof x&&(u.jitterBufferEmittedCount=x),u}e.exports=function(e,t){return e&&"function"==typeof e.getStats?function(e,t){var n=b(e,"audio","local"),r=b(e,"video","local"),o=b(e,"audio"),s=b(e,"video"),c={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},l=a([[n,"localAudioTrackStats",!1],[r,"localVideoTrackStats",!1],[o,"remoteAudioTrackStats",!0],[s,"remoteVideoTrackStats",!0]],function(n){var r=i(n,3),o=r[0],a=r[1],s=r[2];return o.map(function(n){return function(e,t,n){return void 0===n&&(n={}),void 0!==n.testForChrome||p?_(e,t,n):void 0!==n.testForFirefox||f?function(e,t,n){return e.getStats(t).then(function(e){return[S(e,n)]})}(e,t,n):void 0!==n.testForSafari||h?void 0!==n.testForSafari||"unified"===u()?_(e,t,n):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" "))):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,n,Object.assign({isRemote:s},t)).then(function(e){e.forEach(function(e){e.trackId=n.id,c[a].push(e)})})})});return Promise.all(l).then(function(){return function(e,t){return void 0===t&&(t={}),void 0!==t.testForChrome||p||void 0!==t.testForSafari||h?e.getStats().then(y):void 0!==t.testForFirefox||f?e.getStats().then(g):Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,t)}).then(function(e){return c.activeIceCandidatePair=e,c})}(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}},2611:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(5713),c=n(7170),u=n(2344),l=n(9181),d=n(2087),p=n(5747),f=p.getSdpFormat,h=p.updatePlanBTrackIdsToSSRCs,v=p.updateUnifiedPlanTrackIdsToSSRCs,m=n(9722),y=m.delegateMethods,g=m.interceptEvent,b=m.isIOSChrome,_=m.legacyPromise,w=m.proxyProperties,k="unified"===f(),S=function(e){function t(t,n){void 0===t&&(t={});var r=e.call(this)||this,i=Object.assign(t.iceTransportPolicy?{iceTransports:t.iceTransportPolicy}:{},t);g(r,"datachannel"),g(r,"signalingstatechange");var s=f(i.sdpSemantics),c=new RTCPeerConnection(i,n);return Object.defineProperties(r,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new l},_peerConnection:{value:c},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:s},_senders:{value:new Map},_signalingStateLatch:{value:new u},_tracksToSSRCs:{value:new Map,writable:!0}}),c.addEventListener("datachannel",function(e){P(e.channel),r.dispatchEvent(e)}),c.addEventListener("signalingstatechange",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"stable"===c.signalingState&&(r._appliedTracksToSSRCs=new Map(r._tracksToSSRCs)),r._pendingLocalOffer||r._pendingRemoteOffer||r.dispatchEvent.apply(r,a([],o(e)))}),c.ontrack=function(){},"function"!=typeof c.addTrack&&c.addStream(r._localStream),w(RTCPeerConnection.prototype,r,c),r}return i(t,e),Object.defineProperty(t.prototype,"localDescription",{get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if("function"==typeof this._peerConnection.addTrack)return(t=this._peerConnection).addTrack.apply(t,a([e],o(n)));if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+e.id+", \n        "+e.kind+"]: RTCPeerConnection is closed");var i=this._senders.get(e);if(i&&i.track)throw new Error("Cannot add MediaStreamTrack ['"+e.id+", \n        "+e.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(e),this._peerConnection.addStream(this._localStream),i=new d(e),this._senders.set(e,i),i},t.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");if("function"==typeof this._peerConnection.addTrack)try{return this._peerConnection.removeTrack(e)}catch(e){}else{var t=e.track;if(!t)return;(e=this._senders.get(t))&&e.track&&(e.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(t),this._peerConnection.addStream(this._localStream))}},t.prototype.getSenders=function(){return"function"==typeof this._peerConnection.addTrack?this._peerConnection.getSenders():Array.from(this._senders.values())},t.prototype.addIceCandidate=function(e){for(var t,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return n._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e),r.length>0?_.apply(void 0,a([t],o(r))):t},t.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},t.prototype.createAnswer=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e=this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()}).then(function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),new s({type:"answer",sdp:x(t._sdpFormat,t._tracksToSSRCs,e.sdp)})},function(e){throw t._pendingRemoteOffer=null,e}):this._peerConnection.createAnswer().then(function(e){return t._rolledBackTracksToSSRCs.clear(),new s({type:"answer",sdp:x(t._sdpFormat,t._tracksToSSRCs,e.sdp)})}),n.length>1?_.apply(void 0,a([e],o(n))):e},t.prototype.createOffer=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=o(t,3),i=r[0],a=r[1],c=r[2]||i||{};if(b()){if(c.offerToReceiveVideo&&!this._audioTransceiver&&(!k||!E(this,"audio"))){delete c.offerToReceiveAudio;try{this._audioTransceiver=k?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(e){return Promise.reject(e)}}if(c.offerToReceiveVideo&&!this._videoTransceiver&&(!k||!E(this,"video"))){delete c.offerToReceiveVideo;try{this._videoTransceiver=k?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(e){return Promise.reject(e)}}}var u=this._peerConnection.createOffer(c).then(function(t){return e._rolledBackTracksToSSRCs.clear(),new s({type:t.type,sdp:x(e._sdpFormat,e._tracksToSSRCs,t.sdp)})});return t.length>1?_(u,i,a):u},t.prototype.createDataChannel=function(e,t){t=function(e){return e=Object.assign({},e),O()&&"maxPacketLifeTime"in e&&(e.maxRetransmitTime=e.maxPacketLifeTime),e}(t);var n=this._peerConnection.createDataChannel(e,t);return P(n),n},t.prototype.setLocalDescription=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o(e,3),r=n[0],i=n[1],a=n[2];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var s=T(this,!0,r);return e.length>1?_(s,i,a):s},t.prototype.setRemoteDescription=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o(e,3),r=n[0],i=n[1],a=n[2];this._rolledBackTracksToSSRCs.clear();var s=T(this,!1,r);return e.length>1?_(s,i,a):s},t}(c);function T(e,t,n){var r,i,o=t?e._pendingLocalOffer:e._pendingRemoteOffer,a=t?e._pendingRemoteOffer:e._pendingLocalOffer,s=t?"have-local-offer":"have-remote-offer",c=t?"setLocalDescription":"setRemoteDescription";if(!t&&a&&"answer"===n.type)r=function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then(function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function(){e._signalingStateLatch.lower()})}(e,n);else if("offer"===n.type){if(e.signalingState!==s&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));o||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var u=e.signalingState;i=C(n),t?e._pendingLocalOffer=i:e._pendingRemoteOffer=i,r=Promise.resolve(),e.signalingState!==u&&r.then(function(){return e.dispatchEvent(new Event("signalingstatechange"))})}else"rollback"===n.type&&(e.signalingState!==s?r=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),(r=Promise.resolve()).then(function(){return e.dispatchEvent(new Event("signalingstatechange"))})));return r||e._peerConnection[c](C(n))}function E(e,t){return!!e.getTransceivers().find(function(e){var n=e.receiver,r=(void 0===n?{}:n).track;return(void 0===r?{}:r).kind===t})}function C(e){return e instanceof s&&e._description?e._description:new RTCSessionDescription(e)}function O(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function P(e){return Object.defineProperty(e,"maxRetransmits",{value:65535===e.maxRetransmits?null:e.maxRetransmits}),O()&&Object.defineProperty(e,"maxPacketLifeTime",{value:65535===e.maxRetransmitTime?null:e.maxRetransmitTime}),e}function x(e,t,n){return"unified"===e?v(t,n):h(t,n)}y(RTCPeerConnection.prototype,S.prototype,"_peerConnection"),e.exports=S},2614:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7007).EventEmitter,a=["signaling","room","media","quality","video-processor","preflight"],s=["debug","error","info","warning"],c=function(e){function t(t,n,r,i){void 0===i&&(i=null);var o=e.call(this)||this;return o.on("event",function(e){var o=e.name,c=e.group,u=e.level,l=e.payload;if("string"!=typeof o)throw r.error("Unexpected name: ",o),new Error("Unexpected name: ",o);if(!a.includes(c))throw r.error("Unexpected group: ",c),new Error("Unexpected group: ",c);if(!s.includes(u))throw r.error("Unexpected level: ",u),new Error("Unexpected level: ",u);var d=Date.now(),p=d-n,f=Object.assign({elapsedTime:p,level:u},l||{});t.publish(c,o,f);var h=Object.assign({elapsedTime:p,group:c,level:u,name:o,timestamp:d},l?{payload:l}:{});r[{debug:"debug",error:"error",info:"info",warning:"warn"}[u]]("event",h),i&&"signaling"===c&&i.emit("event",h)}),o}return i(t,e),t}(o);e.exports=c},2658:e=>{"use strict";"function"==typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function(){throw new Error("MediaStreamTrack is not supported")}},2703:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t.name,t.sid,n)||this;Object.defineProperties(r,{_signaling:{value:t},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return t.isEnabled}},kind:{enumerable:!0,value:t.kind},publishPriority:{enumerable:!0,get:function(){return t.priority}},track:{enumerable:!0,get:function(){return this._track}}});var i=t.error,o=t.isEnabled,a=t.isSwitchedOff,s=t.priority;return t.on("updated",function(){if(i!==t.error)return i=t.error,void r.emit("subscriptionFailed",t.error);o!==t.isEnabled&&(o=t.isEnabled,r.track&&r.track._setEnabled(t.isEnabled),r.emit(t.isEnabled?"trackEnabled":"trackDisabled")),a!==t.isSwitchedOff&&(r._log.debug(r.trackSid+": "+(a?"OFF":"ON")+" => "+(t.isSwitchedOff?"OFF":"ON")),a=t.isSwitchedOff,r.track?(r.track._setSwitchedOff(t.isSwitchedOff),r.emit(a?"trackSwitchedOff":"trackSwitchedOn",r.track)):a&&r._log.warn("Track was not subscribed when switched Off.")),s!==t.priority&&(s=t.priority,r.emit("publishPriorityChanged",s))}),r}return i(t,e),t.prototype.toString=function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype._subscribed=function(e){!this._track&&e&&(this._track=e,this.emit("subscribed",e))},t.prototype._unsubscribe=function(){if(this._track){var e=this._track;this._track=null,this.emit("unsubscribed",e)}},t}(n(2361));e.exports=o},2733:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t,"track_switch_off",n)||this;return r.on("ready",function(e){e.on("message",function(e){"track_switch_off"===e.type&&r._setTrackSwitchOffUpdates(e.off||[],e.on||[])})}),r}return i(t,e),t.prototype._setTrackSwitchOffUpdates=function(e,t){this.emit("updated",e,t)},t}(n(3325));e.exports=o},2746:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return i(t,e),t.prototype.toString=function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2408));e.exports=o},2780:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalTracks=void 0;var c=n(5327),u=n(6348).buildLogLevels,l=n(9977),d=l.getUserMedia,p=l.MediaStreamTrack,f=n(4228),h=f.LocalAudioTrack,v=f.LocalDataTrack,m=f.LocalVideoTrack,y=n(5014),g=n(3249),b=g.DEFAULT_LOG_LEVEL,_=g.DEFAULT_LOGGER_NAME,w=g.typeErrors.INVALID_VALUE,k=n(1842),S=0;t.createLocalTracks=function(e){return i(this,void 0,void 0,function(){var t,n,l,f,g,T,E,C,O,P,x,R,L,j=this;return o(this,function(A){switch(A.label){case 0:if(n=r({audio:t=!(e&&("audio"in e||"video"in e)),getUserMedia:d,loggerName:_,logLevel:b,LocalAudioTrack:h,LocalDataTrack:v,LocalVideoTrack:m,MediaStreamTrack:p,Log:y,video:t},e),l="[createLocalTracks #"+ ++S+"]",f=u(n.logLevel),g=new n.Log("default",l,f,n.loggerName),delete(T=Object.assign({log:g},n)).name,!1===n.audio&&!1===n.video)return g.info("Neither audio nor video requested, so returning empty LocalTracks"),[2,[]];if(n.tracks)return g.info("Adding user-provided LocalTracks"),g.debug("LocalTracks:",n.tracks),[2,n.tracks];if((E={audio:"object"==typeof n.audio&&n.audio.name?{name:n.audio.name}:{defaultDeviceCaptureMode:"auto"},video:"object"==typeof n.video&&n.video.name?{name:n.video.name}:{}}).audio.isCreatedByCreateLocalTracks=!0,E.video.isCreatedByCreateLocalTracks=!0,"object"==typeof n.audio)if("boolean"==typeof n.audio.workaroundWebKitBug1208516&&(E.audio.workaroundWebKitBug1208516=n.audio.workaroundWebKitBug1208516),"noiseCancellationOptions"in n.audio&&(C=n.audio.noiseCancellationOptions,delete n.audio.noiseCancellationOptions),"defaultDeviceCaptureMode"in n.audio){if(["auto","manual"].every(function(e){return e!==n.audio.defaultDeviceCaptureMode}))throw w("CreateLocalAudioTrackOptions.defaultDeviceCaptureMode",["auto","manual"]);E.audio.defaultDeviceCaptureMode=n.audio.defaultDeviceCaptureMode}else E.audio.defaultDeviceCaptureMode="auto";"object"==typeof n.video&&"boolean"==typeof n.video.workaroundWebKitBug1208516&&(E.video.workaroundWebKitBug1208516=n.video.workaroundWebKitBug1208516),"object"==typeof n.audio&&delete n.audio.name,"object"==typeof n.video&&delete n.video.name,O={audio:n.audio,video:n.video},P="object"==typeof n.audio&&n.audio.workaroundWebKitBug180748,A.label=1;case 1:return A.trys.push([1,4,,5]),[4,P?k(g,n.getUserMedia,O):n.getUserMedia(O)];case 2:return x=A.sent(),R=s(s([],a(x.getAudioTracks())),a(x.getVideoTracks())),g.info("Call to getUserMedia successful; got tracks:",R),[4,Promise.all(R.map(function(e){return i(j,void 0,void 0,function(){var t,n,i;return o(this,function(o){switch(o.label){case 0:return"audio"===e.kind&&C?[4,c.applyNoiseCancellation(e,C,g)]:[3,2];case 1:return t=o.sent(),n=t.cleanTrack,i=t.noiseCancellation,[2,new T.LocalAudioTrack(n,r(r(r({},E.audio),T),{noiseCancellation:i}))];case 2:if("audio"===e.kind)return[2,new T.LocalAudioTrack(e,r(r({},E.audio),T))];o.label=3;case 3:return[2,new T.LocalVideoTrack(e,r(r({},E.video),T))]}})})}))];case 3:return[2,A.sent()];case 4:throw L=A.sent(),g.warn("Call to getUserMedia failed:",L),L;case 5:return[2]}})})}},2793:(e,t,n)=>{"use strict";var r=n(3249),i=r.DEFAULT_LOG_LEVEL,o=r.DEFAULT_LOGGER_NAME;function a(e,t){t=Object.assign({loggerName:o,logLevel:i},t);var n={};n.loggerName=t.loggerName,n.logLevel=t.logLevel,delete t.loggerName,delete t.logLevel,["getUserMedia","enumerateDevices","MediaStream","mapMediaElement","disposeMediaElement"].forEach(function(e){e in t&&(n[e]=t[e],delete t[e])});var r=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,r(n).then(function(e){return e[0]})}e.exports={audio:function(e){return a("audio",e)},video:function(e){return a("video",e)}}},2963:(e,t,n)=>{"use strict";var r=n(9722),i=r.guessBrowser,o=r.support,a=n(5747).getSdpFormat,s=n(1013),c=s.isAndroid,u=s.isMobile,l=s.isNonChromiumEdge,d=s.rebrandedChromeBrowser,p=s.mobileWebKitBrowser,f=["crios","edg","edge","electron","headlesschrome"],h=["chrome","firefox"],v=["chrome","safari"],m=[];e.exports=function(){var e=i();if(!e)return!1;var t=d(e),n=p(e),r=c()?h:v;return!!e&&o()&&"unified"===a()&&(!t||f.includes(t))&&!l(e)&&(!n||m.includes(n))&&(!u()||r.includes(e))}},3002:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(4798),a={};t.createTwilioError=function(e,t){return t="string"==typeof t&&t?t:"Unknown error",a[e="number"==typeof e?e:0]?new a[e]:new o(e,t)};var s=function(e){function t(){var n=e.call(this,20101,"Invalid Access Token")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.AccessTokenInvalidError=s,Object.defineProperty(a,20101,{value:s});var c=function(e){function t(){var n=e.call(this,20102,"Invalid Access Token header")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.AccessTokenHeaderInvalidError=c,Object.defineProperty(a,20102,{value:c});var u=function(e){function t(){var n=e.call(this,20103,"Invalid Access Token issuer/subject")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.AccessTokenIssuerInvalidError=u,Object.defineProperty(a,20103,{value:u});var l=function(e){function t(){var n=e.call(this,20104,"Access Token expired or expiration date invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.AccessTokenExpiredError=l,Object.defineProperty(a,20104,{value:l});var d=function(e){function t(){var n=e.call(this,20105,"Access Token not yet valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.AccessTokenNotYetValidError=d,Object.defineProperty(a,20105,{value:d});var p=function(e){function t(){var n=e.call(this,20106,"Invalid Access Token grants")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.AccessTokenGrantsInvalidError=p,Object.defineProperty(a,20106,{value:p});var f=function(e){function t(){var n=e.call(this,20107,"Invalid Access Token signature")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.AccessTokenSignatureInvalidError=f,Object.defineProperty(a,20107,{value:f});var h=function(e){function t(){var n=e.call(this,53e3,"Signaling connection error")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.SignalingConnectionError=h,Object.defineProperty(a,53e3,{value:h});var v=function(e){function t(){var n=e.call(this,53001,"Signaling connection disconnected")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.SignalingConnectionDisconnectedError=v,Object.defineProperty(a,53001,{value:v});var m=function(e){function t(){var n=e.call(this,53002,"Signaling connection timed out")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.SignalingConnectionTimeoutError=m,Object.defineProperty(a,53002,{value:m});var y=function(e){function t(){var n=e.call(this,53003,"Client received an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.SignalingIncomingMessageInvalidError=y,Object.defineProperty(a,53003,{value:y});var g=function(e){function t(){var n=e.call(this,53004,"Client sent an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.SignalingOutgoingMessageInvalidError=g,Object.defineProperty(a,53004,{value:g});var b=function(e){function t(){var n=e.call(this,53006,"Video server is busy")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.SignalingServerBusyError=b,Object.defineProperty(a,53006,{value:b});var _=function(e){function t(){var n=e.call(this,53100,"Room name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomNameInvalidError=_,Object.defineProperty(a,53100,{value:_});var w=function(e){function t(){var n=e.call(this,53101,"Room name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomNameTooLongError=w,Object.defineProperty(a,53101,{value:w});var k=function(e){function t(){var n=e.call(this,53102,"Room name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomNameCharsInvalidError=k,Object.defineProperty(a,53102,{value:k});var S=function(e){function t(){var n=e.call(this,53103,"Unable to create Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomCreateFailedError=S,Object.defineProperty(a,53103,{value:S});var T=function(e){function t(){var n=e.call(this,53104,"Unable to connect to Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomConnectFailedError=T,Object.defineProperty(a,53104,{value:T});var E=function(e){function t(){var n=e.call(this,53105,"Room contains too many Participants")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomMaxParticipantsExceededError=E,Object.defineProperty(a,53105,{value:E});var C=function(e){function t(){var n=e.call(this,53106,"Room not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomNotFoundError=C,Object.defineProperty(a,53106,{value:C});var O=function(e){function t(){var n=e.call(this,53107,"MaxParticipants is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomMaxParticipantsOutOfRangeError=O,Object.defineProperty(a,53107,{value:O});var P=function(e){function t(){var n=e.call(this,53108,"RoomType is not valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomTypeInvalidError=P,Object.defineProperty(a,53108,{value:P});var x=function(e){function t(){var n=e.call(this,53109,"Timeout is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomTimeoutOutOfRangeError=x,Object.defineProperty(a,53109,{value:x});var R=function(e){function t(){var n=e.call(this,53110,"StatusCallbackMethod is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomStatusCallbackMethodInvalidError=R,Object.defineProperty(a,53110,{value:R});var L=function(e){function t(){var n=e.call(this,53111,"StatusCallback is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomStatusCallbackInvalidError=L,Object.defineProperty(a,53111,{value:L});var j=function(e){function t(){var n=e.call(this,53112,"Status is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomStatusInvalidError=j,Object.defineProperty(a,53112,{value:j});var A=function(e){function t(){var n=e.call(this,53113,"Room exists")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomRoomExistsError=A,Object.defineProperty(a,53113,{value:A});var M=function(e){function t(){var n=e.call(this,53114,"Room creation parameter(s) incompatible with the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomInvalidParametersError=M,Object.defineProperty(a,53114,{value:M});var D=function(e){function t(){var n=e.call(this,53115,"MediaRegion is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomMediaRegionInvalidError=D,Object.defineProperty(a,53115,{value:D});var I=function(e){function t(){var n=e.call(this,53116,"There are no media servers available in the MediaRegion")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomMediaRegionUnavailableError=I,Object.defineProperty(a,53116,{value:I});var N=function(e){function t(){var n=e.call(this,53117,"The subscription operation requested is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomSubscriptionOperationNotSupportedError=N,Object.defineProperty(a,53117,{value:N});var F=function(e){function t(){var n=e.call(this,53118,"Room completed")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomCompletedError=F,Object.defineProperty(a,53118,{value:F});var B=function(e){function t(){var n=e.call(this,53124,"The AudioOnly flag is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomAudioOnlyFlagNotSupportedError=B,Object.defineProperty(a,53124,{value:B});var V=function(e){function t(){var n=e.call(this,53125,"The track kind is not supported by the Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.RoomTrackKindNotSupportedError=V,Object.defineProperty(a,53125,{value:V});var U=function(e){function t(){var n=e.call(this,53200,"Participant identity is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ParticipantIdentityInvalidError=U,Object.defineProperty(a,53200,{value:U});var z=function(e){function t(){var n=e.call(this,53201,"Participant identity is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ParticipantIdentityTooLongError=z,Object.defineProperty(a,53201,{value:z});var H=function(e){function t(){var n=e.call(this,53202,"Participant identity contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ParticipantIdentityCharsInvalidError=H,Object.defineProperty(a,53202,{value:H});var W=function(e){function t(){var n=e.call(this,53203,"The maximum number of published tracks allowed in the Room at the same time has been reached")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ParticipantMaxTracksExceededError=W,Object.defineProperty(a,53203,{value:W});var q=function(e){function t(){var n=e.call(this,53204,"Participant not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ParticipantNotFoundError=q,Object.defineProperty(a,53204,{value:q});var Q=function(e){function t(){var n=e.call(this,53205,"Participant disconnected because of duplicate identity")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ParticipantDuplicateIdentityError=Q,Object.defineProperty(a,53205,{value:Q});var $=function(e){function t(){var n=e.call(this,53300,"Track is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.TrackInvalidError=$,Object.defineProperty(a,53300,{value:$});var K=function(e){function t(){var n=e.call(this,53301,"Track name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.TrackNameInvalidError=K,Object.defineProperty(a,53301,{value:K});var G=function(e){function t(){var n=e.call(this,53302,"Track name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.TrackNameTooLongError=G,Object.defineProperty(a,53302,{value:G});var Y=function(e){function t(){var n=e.call(this,53303,"Track name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.TrackNameCharsInvalidError=Y,Object.defineProperty(a,53303,{value:Y});var J=function(e){function t(){var n=e.call(this,53304,"Track name is duplicated")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.TrackNameIsDuplicatedError=J,Object.defineProperty(a,53304,{value:J});var X=function(e){function t(){var n=e.call(this,53305,"The server has reached capacity and cannot fulfill this request")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.TrackServerTrackCapacityReachedError=X,Object.defineProperty(a,53305,{value:X});var Z=function(e){function t(){var n=e.call(this,53400,"Client is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.MediaClientLocalDescFailedError=Z,Object.defineProperty(a,53400,{value:Z});var ee=function(e){function t(){var n=e.call(this,53401,"Server is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.MediaServerLocalDescFailedError=ee,Object.defineProperty(a,53401,{value:ee});var te=function(e){function t(){var n=e.call(this,53402,"Client is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.MediaClientRemoteDescFailedError=te,Object.defineProperty(a,53402,{value:te});var ne=function(e){function t(){var n=e.call(this,53403,"Server is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.MediaServerRemoteDescFailedError=ne,Object.defineProperty(a,53403,{value:ne});var re=function(e){function t(){var n=e.call(this,53404,"No supported codec")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.MediaNoSupportedCodecError=re,Object.defineProperty(a,53404,{value:re});var ie=function(e){function t(){var n=e.call(this,53405,"Media connection failed or Media activity ceased")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.MediaConnectionError=ie,Object.defineProperty(a,53405,{value:ie});var oe=function(e){function t(){var n=e.call(this,53407,"Media connection failed due to DTLS handshake failure")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.MediaDTLSTransportFailedError=oe,Object.defineProperty(a,53407,{value:oe});var ae=function(e){function t(){var n=e.call(this,53500,"Unable to acquire configuration")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ConfigurationAcquireFailedError=ae,Object.defineProperty(a,53500,{value:ae});var se=function(e){function t(){var n=e.call(this,53501,"Unable to acquire TURN credentials")||this;return Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(o);t.ConfigurationAcquireTurnFailedError=se,Object.defineProperty(a,53501,{value:se})},3057:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(n(5791));e.exports=o},3089:(e,t,n)=>{"use strict";var r=n(9977).RTCSessionDescription,i=n(6038),o=i.createPtToCodecName,a=i.getMediaSections;function s(e){var t=o(e);e=function(e,t){return Array.from(t.keys()).reduce(function(e,n){var r=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(e.match(r)||[]).slice("rtx"===t.get(n)?1:0).reduce(function(e,t){var r=new RegExp("\r\n"+t),i=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return e.replace(r,"").replace(i,"")},e)},e)}(e,t);var n=function(e){var t=new Map;return e.forEach(function(e,n){var r=t.get(e)||new Set;return t.set(e,r.add(n))}),t}(t),r=n.get("rtx")||new Set,i=new Set,a=function(e,t,n,r){return Array.from(n).reduce(function(n,i){var o=new RegExp("a=fmtp:"+i+" apt=(\\d+)"),a=e.match(o);if(!a)return r.add(i),n;var s=Number.parseInt(a[1]);return t.has(s)?"rtx"===t.get(s)?(r.add(i),n):n.set(i,s):(r.add(i),n)},new Map)}(e,t,r,i),s=function(e,t){var n=Array.from(e).reduce(function(e,t){var n=t[0],r=t[1],i=e.get(r)||new Set;return e.set(r,i.add(n))},new Map);return Array.from(n).reduce(function(e,n){var r=n[0],i=Array.from(n[1]);return i.length>1?(i.forEach(function(e){t.add(e)}),e):e.set(r,i[0])},new Map)}(a,i),u=Array.from(i);return["h264","vp8","vp9"].reduce(function(e,t){var r=n.get(t)||new Set;return Array.from(r).reduce(function(e,t){return s.has(t)?e:e.add(t)},e)},new Set).forEach(function(t){if(u.length){var n=u.shift();e=function(e,t,n){return e.endsWith("\r\n")?e+"a=fmtp:"+t+" apt="+n+"\r\n":e+"\r\na=fmtp:"+t+" apt="+n}(e=c(e,n),n,t)}}),u.forEach(function(t){e=function(e,t){var n=new RegExp("a=rtpmap:"+t+".*\r\n","gm");return e.replace(n,"")}(e=c(e,t),t)}),e}function c(e,t){var n=new RegExp("a=fmtp:"+t+".*\r\n","gm");return e.replace(n,"")}e.exports=function(e){var t,n,i={type:e.type};return"rollback"!==e.type&&(i.sdp=(t=e.sdp,n=a(t),[t.split("\r\nm=")[0]].concat(n.map(s)).join("\r\n"))),new r(i)}},3211:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(9977).MediaStreamTrack,a=n(6348),s=a.asLocalTrack,c=a.asLocalTrackPublication,u=a.trackClass,l=n(3249),d=l.typeErrors,p=l.trackPriority,f=n(5100).ZS,h=n(4228),v=h.LocalAudioTrack,m=h.LocalDataTrack,y=h.LocalVideoTrack,g=n(2746),b=n(6112),_=n(6135),w=function(e){function t(t,n,r){var i=this,a=(r=Object.assign({LocalAudioTrack:v,LocalVideoTrack:y,LocalDataTrack:m,MediaStreamTrack:o,LocalAudioTrackPublication:g,LocalVideoTrackPublication:_,LocalDataTrackPublication:b,shouldStopLocalTracks:!1,tracks:n},r)).shouldStopLocalTracks?new Set(n.filter(function(e){return"data"!==e.kind})):new Set;return i=e.call(this,t,r)||this,Object.defineProperties(i,{_eventObserver:{value:r.eventObserver},_LocalAudioTrack:{value:r.LocalAudioTrack},_LocalDataTrack:{value:r.LocalDataTrack},_LocalVideoTrack:{value:r.LocalVideoTrack},_MediaStreamTrack:{value:r.MediaStreamTrack},_LocalAudioTrackPublication:{value:r.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:r.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:r.LocalVideoTrackPublication},_tracksToStop:{value:a},signalingRegion:{enumerable:!0,get:function(){return t.signalingRegion}}}),i._handleTrackSignalingEvents(),i}return i(t,e),t.prototype._addTrack=function(t,n,r){var i=e.prototype._addTrack.call(this,t,n);return i&&"disconnected"!==this.state&&this._addLocalTrack(t,r),i},t.prototype._addLocalTrack=function(e,t){var n,r=null===(n=e.noiseCancellation)||void 0===n?void 0:n.vendor;this._signaling.addTrack(e._trackSender,e.name,t,r),this._log.info("Added a new "+u(e,!0)+":",e.id),this._log.debug(u(e,!0)+":",e)},t.prototype._removeTrack=function(t,n){var r=e.prototype._removeTrack.call(this,t,n);return r&&"disconnected"!==this.state&&(this._signaling.removeTrack(t._trackSender),this._log.info("Removed a "+u(t,!0)+":",t.id),this._log.debug(u(t,!0)+":",t)),r},t.prototype._getTrackEvents=function(){return e.prototype._getTrackEvents.call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])},t.prototype.toString=function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=this._log;if("disconnected"!==this.state){var n=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.disable(),t.debug("Disabled the "+u(n,!0)+":",n.id))},r=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.enable(),t.debug("Enabled the "+u(n,!0)+":",n.id))},i=function(t){var n=e._signaling.getPublication(t._trackSender);return n&&n.stop(),n},o=function(a){t.debug("Transitioned to state:",a),"disconnected"===a?(t.debug("Removing LocalTrack event listeners"),e._signaling.removeListener("stateChanged",o),e.removeListener("trackDisabled",n),e.removeListener("trackEnabled",r),e.removeListener("trackStopped",i),e._tracks.forEach(function(e){var t=i(e);t&&e._trackSender.removeClone(t._trackTransceiver)}),t.info("LocalParticipant disconnected. Stopping "+e._tracksToStop.size+" automatically-acquired LocalTracks"),e._tracksToStop.forEach(function(e){e.stop()})):"connected"===a&&(t.info("reconnected"),setTimeout(function(){return e.emit("reconnected")},0))};this.on("trackDisabled",n),this.on("trackEnabled",r),this.on("trackStopped",i),this._signaling.on("stateChanged",o),this._tracks.forEach(function(n){e._addLocalTrack(n,p.PRIORITY_STANDARD),e._getOrCreateLocalTrackPublication(n).catch(function(e){t.warn("Failed to get or create LocalTrackPublication for "+n+":",e)})})}},t.prototype._getOrCreateLocalTrackPublication=function(e){var t=k(this.tracks,e);if(t)return Promise.resolve(t);var n=this._log,r=this,i=this._signaling.getPublication(e._trackSender);return i?new Promise(function(o,a){i.on("updated",function s(){var l=i.error;if(l)return i.removeListener("updated",s),n.warn("Failed to publish the "+u(e,!0)+": "+l.message),r._removeTrack(e,e.id),setTimeout(function(){r.emit("trackPublicationFailed",l,e)}),void a(l);if(!r._tracks.has(e.id))return i.removeListener("updated",s),void a(new Error("The "+e+" was unpublished"));if(i.sid){i.removeListener("updated",s);var d={log:n,LocalAudioTrackPublication:r._LocalAudioTrackPublication,LocalDataTrackPublication:r._LocalDataTrackPublication,LocalVideoTrackPublication:r._LocalVideoTrackPublication};t=k(r.tracks,e);var p=function(e){return r.emit("trackWarning",e,t)},f=function(){return r.emit("trackWarningsCleared",t)};t||(t=c(e,i,function(e){t.removeListener("trackWarning",p),t.removeListener("trackWarningsCleared",f),r.unpublishTrack(e.track)},d),r._addTrackPublication(t)),t.on("warning",p),t.on("warningsCleared",f);var h=r._signaling.state;"connected"!==h&&"connecting"!==h||(e._processorEventObserver&&e._processorEventObserver.on("event",function(e){r._eventObserver.emit("event",{name:e.name,payload:e.data,group:"video-processor",level:"info"})}),e.processedTrack&&(e._captureFrames(),e._setSenderMediaStreamTrack(!0))),"connected"===h&&setTimeout(function(){r.emit("trackPublished",t)}),o(t)}})}):Promise.reject(new Error("Unexpected error: The "+e+" cannot be published"))},t.prototype.publishTrack=function(e,t){var n,r=k(this.tracks,e);if(r)return Promise.resolve(r);t=Object.assign({log:this._log,priority:p.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},t);try{n=s(e,t)}catch(e){return Promise.reject(e)}var i=n.noiseCancellation,o=this._signaling.audioProcessors;i&&!o.includes(i.vendor)&&(this._log.warn(i.vendor+" is not supported in this room. disabling it permanently"),i.disablePermanently());var a=Object.values(p);if(!a.includes(t.priority))return Promise.reject(d.INVALID_VALUE("LocalTrackPublishOptions.priority",a));var c=this._addTrack(n,n.id,t.priority)||this._tracks.get(n.id);return this._getOrCreateLocalTrackPublication(c)},t.prototype.publishTracks=function(e){if(!Array.isArray(e))throw d.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(e.map(this.publishTrack,this))},t.prototype.setBandwidthProfile=function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")},t.prototype.setNetworkQualityConfiguration=function(e){if("object"!=typeof e||null===e)throw d.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach(function(t){if(t in e&&("number"!=typeof e[t]||isNaN(e[t])))throw d.INVALID_TYPE("networkQualityConfiguration."+t,"number")}),this._signaling.setNetworkQualityConfiguration(e),this},t.prototype.setParameters=function(e){if(void 0!==e&&"object"!=typeof e)throw d.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");if(e){if(this._signaling.getParameters().adaptiveSimulcast&&e.maxVideoBitrate)throw d.INVALID_TYPE("encodingParameters",'encodingParameters.maxVideoBitrate is not compatible with "preferredVideoCodecs=auto"');["maxAudioBitrate","maxVideoBitrate"].forEach(function(t){if(void 0!==e[t]&&"number"!=typeof e[t]&&null!==e[t])throw d.INVALID_TYPE("encodingParameters."+t,"number, null or undefined")})}else null===e&&(e={maxAudioBitrate:null,maxVideoBitrate:null});return this._signaling.setParameters(e),this},t.prototype.unpublishTrack=function(e){f(e,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var t=this._tracks.get(e.id);if(!t)return null;if(this._signaling.getPublication(t._trackSender).publishFailed(new Error("The "+t+" was unpublished")),!(t=this._removeTrack(t,t.id)))return null;var n=k(this.tracks,t);return n&&this._removeTrackPublication(n),n},t.prototype.unpublishTracks=function(e){var t=this;if(!Array.isArray(e))throw d.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return e.reduce(function(e,n){var r=t.unpublishTrack(n);return r?e.concat(r):e},[])},t}(n(4438));function k(e,t){return Array.from(e.values()).find(function(e){return e.track===t||e.track.mediaStreamTrack===t})||null}e.exports=w},3249:(e,t,n)=>{"use strict";var r=n(4084);e.exports.SDK_NAME=r.name+".js",e.exports.SDK_VERSION=r.version,e.exports.SDP_FORMAT="unified",e.exports.hardwareDevicePublisheriPad={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPad",hwDeviceType:"tablet",platformName:"iOS"},e.exports.hardwareDevicePublisheriPhone={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPhone",hwDeviceType:"mobile",platformName:"iOS"},e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_REGION="gll",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.DEFAULT_LOGGER_NAME="twilio-video",e.exports.WS_SERVER=function(e,t){return t="gll"===t?"global":encodeURIComponent(t),"prod"===e?"wss://"+t+".vss.twilio.com/signaling":"wss://"+t+".vss."+e+".twilio.com/signaling"},e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.typeErrors={ILLEGAL_INVOKE:function(e,t){return new TypeError("Illegal call to "+e+": "+t)},INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+(["a","e","i","o","u"].includes(t.toLowerCase()[0])?"an":"a")+" "+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of "+t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}},e.exports.DEFAULT_FRAME_RATE=24,e.exports.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS=1e4,e.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,e.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,e.exports.DEFAULT_NQ_LEVEL_LOCAL=1,e.exports.DEFAULT_NQ_LEVEL_REMOTE=0,e.exports.MAX_NQ_LEVEL=3,e.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,e.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,e.exports.iceRestartBackoffConfig={factor:1.1,min:1,max:1e3*e.exports.DEFAULT_SESSION_TIMEOUT_SEC,jitter:1},e.exports.reconnectBackoffConfig={factor:1.5,min:80,jitter:1},e.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},e.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},e.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"},e.exports.clientTrackSwitchOffControl={MODE_AUTO:"auto",MODE_MANUAL:"manual"},e.exports.videoContentPreferencesMode={MODE_AUTO:"auto",MODE_MANUAL:"manual"}},3253:(e,t,n)=>{"use strict";var r=n(192),i=function(){function e(){Object.defineProperties(this,{_filter:{value:new r({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return e.prototype.setUfrag=function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]},e.prototype.update=function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]},e}();e.exports=i},3261:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(1013).isIOS,a=n(9977).MediaStream,s=n(6348),c=s.waitForEvent,u=s.waitForSometime,l=n(6942),d=function(e){function t(t,n){var r=this;n=Object.assign({playPausedElementsIfNotBackgrounded:o()&&"object"==typeof document&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState},n),r=e.call(this,t.id,t.kind,n)||this;var i=!1;if("function"!=typeof(n=Object.assign({MediaStream:a},n)).MediaStream)throw new Error("MediaTrack received an invalid MediaStream constructor: "+n.MediaStream);return Object.defineProperties(r,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return i},set:function(e){i=e}},_playPausedElementsIfNotBackgrounded:{value:n.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:n.workaroundWebKitBug212780||n.playPausedElementsIfNotBackgrounded},_unprocessedTrack:{value:null,writable:!0},_MediaStream:{value:n.MediaStream},_mapMediaElement:{value:n.mapMediaElement},_disposeMediaElement:{value:n.disposeMediaElement},isStarted:{enumerable:!0,get:function(){return i}},mediaStreamTrack:{enumerable:!0,get:function(){return this._unprocessedTrack||t.track}},processedTrack:{enumerable:!0,value:null,writable:!0}}),r._initialize(),r}return i(t,e),t.prototype._start=function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)},t.prototype._initialize=function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack&&this.mediaStreamTrack.addEventListener?this.mediaStreamTrack.addEventListener("ended",function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)}):this.mediaStreamTrack&&(this.mediaStreamTrack.onended=function(){e._end(),e.mediaStreamTrack.onended=null}),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl,this.mediaStreamTrack),this._attachments.delete(this._dummyEl))},t.prototype._end=function(){this._log.debug("Ended"),this._dummyEl&&(this._dummyEl.remove(),this._disposeMediaElement?this._disposeMediaElement(this._dummyEl):this._dummyEl.srcObject=null,this._dummyEl.oncanplay=null,this._dummyEl=null)},t.prototype.attach=function(e){var t=this;if("string"==typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e),this._shouldShimAttachedElements&&!this._elShims.has(e)){var n=this._playPausedElementsIfNotBackgrounded?function(){return function(e,t){var n=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([c(document,"visibilitychange"),u(1e3)]).then(function(){"visible"===document.visibilityState&&l.whenResolved("audio").then(function(){return t.info("Playing unintentionally paused <"+n+"> element"),t.debug("Element:",e),e.play()}).then(function(){t.info("Successfully played unintentionally paused <"+n+"> element"),t.debug("Element:",e)}).catch(function(r){t.warn("Error while playing unintentionally paused <"+n+"> element:",{error:r,el:e})})})}(e,t._log)}:null;this._elShims.set(e,function(e,t){void 0===t&&(t=null);var n=e.pause,r=e.play,i=!1;e.pause=function(){return i=!0,n.call(e)},e.play=function(){return i=!1,r.call(e)};var o=t?function(){i||t()}:null;return o&&e.addEventListener("pause",o),{pausedIntentionally:function(){return i},unShim:function(){e.pause=n,e.play=r,o&&e.removeEventListener("pause",o)}}}(e,n))}return e},t.prototype._attach=function(e,t){void 0===t&&(t=this.processedTrack||this.mediaStreamTrack);var n=e.srcObject;n instanceof this._MediaStream||(n=new this._MediaStream);var r="audio"===t.kind?"getAudioTracks":"getVideoTracks";return n[r]().forEach(function(e){n.removeTrack(e)}),n.addTrack(t),this._mapMediaElement&&(this._log.debug("Mapping element using mapMediaElement before attaching media to element"),this._mapMediaElement(e)),e.srcObject=n,e.autoplay=!0,e.playsInline=!0,this._attachments.has(e)||this._attachments.add(e),e},t.prototype._selectElement=function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t},t.prototype._updateElementsMediaStreamTrack=function(){var e=this;this._log.debug("Reattaching all elements to update mediaStreamTrack"),this._getAllAttachedElements().forEach(function(t){return e._attach(t)})},t.prototype._createElement=function(){return"undefined"!=typeof document?document.createElement(this.kind):null},t.prototype.detach=function(e){var t;return t="string"==typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t},t.prototype._detachElements=function(e){return e.map(this._detachElement.bind(this))},t.prototype._detachElement=function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;return t instanceof this._MediaStream&&t.removeTrack(this.processedTrack||this.mediaStreamTrack),this._disposeMediaElement&&(this._log.debug("Disposing element using disposeMediaElement after removing media from element"),this._disposeMediaElement(e)),this._attachments.delete(e),this._shouldShimAttachedElements&&this._elShims.has(e)&&(this._elShims.get(e).unShim(),this._elShims.delete(e)),e},t.prototype._getAllAttachedElements=function(){var e=[];return this._attachments.forEach(function(t){e.push(t)}),e},t}(n(7784));e.exports=d},3268:e=>{"use strict";e.exports=function(e){var t=e.location,n=e.URL;return[t,n].some(function(e){return!e})?function(e){return Promise.reject(new Error("Failed to import: "+e+": dynamicImport is not supported"))}:(e.__twilioVideoImportedModules={},function(r){return r in e.__twilioVideoImportedModules?Promise.resolve(e.__twilioVideoImportedModules[r]):new Function("scope","return import('"+new n(r,t)+"').then(m => scope.__twilioVideoImportedModules['"+r+"'] = m);")(e)})}(globalThis)},3272:e=>{"use strict";e.exports=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e,writable:!0},trackId:{enumerable:!0,value:t,writable:!0},lastStats:{enumerable:!0,value:n,writable:!0}})}},3325:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7007),a=0,s=function(e){function t(t,n,r){var i=e.call(this)||this;return Object.defineProperties(i,{_instanceId:{value:a++},channel:{value:n},_log:{value:r.log.createLog("default",i)},_getReceiver:{value:t},_receiverPromise:{value:null,writable:!0},_transport:{value:null,writable:!0}}),i}return i(t,e),Object.defineProperty(t.prototype,"isSetup",{get:function(){return!!this._receiverPromise},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[MediaSignaling #"+this._instanceId+":"+this.channel+"]"},t.prototype.setup=function(e){var t=this;this._teardown(),this._log.info("setting up msp transport for id:",e);var n=this._getReceiver(e).then(function(e){if("data"!==e.kind&&t._log.error("Expected a DataTrackReceiver"),t._receiverPromise===n){try{t._transport=e.toDataTransport(),t.emit("ready",t._transport)}catch(e){t._log.error("Failed to toDataTransport: "+e.message)}e.once("close",function(){return t._teardown()})}});this._receiverPromise=n},t.prototype._teardown=function(){this._transport&&(this._log.info("Tearing down"),this._transport=null,this._receiverPromise=null,this.emit("teardown"))},t}(o);e.exports=s},3349:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_dataChannel:{value:t},_messageQueue:{value:[]}}),t.addEventListener("open",function(){n._messageQueue.splice(0).forEach(function(e){return n._publish(e)})}),t.addEventListener("message",function(e){var t=e.data;try{var r=JSON.parse(t);n.emit("message",r)}catch(e){}}),n.publish({type:"ready"}),n}return i(t,e),t.prototype._publish=function(e){var t=JSON.stringify(e);try{this._dataChannel.send(t)}catch(e){}},t.prototype.publish=function(e){var t=this._dataChannel;return"closing"!==t.readyState&&"closed"!==t.readyState&&("connecting"===t.readyState?(this._messageQueue.push(e),!0):(this._publish(e),!0))},t}(n(7007).EventEmitter);e.exports=o},3439:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=n(6348),o=i.difference,a=i.flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var c=function(){function e(e,t,n){Object.defineProperties(this,{cName:{enumerable:!0,value:n},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:t},trackId:{enumerable:!0,value:e}})}return e.prototype.addSimulcastSSRCs=function(){if(!this.isSimulcastEnabled){var e=[s(),s()];e.forEach(function(e){this.primarySSRCs.add(e)},this),this.rtxPairs.size&&e.forEach(function(e){this.rtxPairs.set(s(),e)},this)}},e.prototype.addSSRC=function(e,t,n){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||n},e.prototype.toSdpLines=function(e){var t=this,n=e?[]:Array.from(this.rtxPairs.entries()).map(function(e){return e.reverse()}),r=Array.from(this.primarySSRCs.values()),i=n.length?a(n):r,o=a(i,function(e){return["a=ssrc:"+e+" cname:"+t.cName,"a=ssrc:"+e+" msid:"+t.streamId+" "+t.trackId]}),s=n.map(function(e){return"a=ssrc-group:FID "+e.join(" ")}),c=["a=ssrc-group:SIM "+r.join(" ")];return s.concat(o).concat(c)},e}();function u(e,t){return(e.match(new RegExp(t,"gm"))||[]).map(function(e){return(e.match(new RegExp(t))||[]).slice(1)})}e.exports=function(e,t){var n=function(e){var t=function(e){return new Set(a(u(e,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(e),n=function(e){return new Map(u(e,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map(function(e){return e.reverse()}))}(e),i=function(e){var t=r(a(u(e,"^a=msid:(.+) (.+)$")),2),n=t[0],i=t[1];return a(u(e,"^a=ssrc:(.+) cname:.+$")).map(function(e){return[e,n,i]})}(e);return i.reduce(function(r,i){var o=i[0],a=i[1],s=i[2],u=r.get(s)||new c(s,a,function(e,t){var n="a=ssrc:"+t+" cname:(.+)";return e.match(new RegExp(n))[1]}(e,o)),l=n.get(o)||null;return u.addSSRC(o,l,t.has(o)),r.set(s,u)},new Map)}(e),i=Array.from(n.keys()),s=Array.from(t.keys()),l=o(i,s),d=o(s,i);a(l,function(e){return n.get(e)}).forEach(function(e){e.addSimulcastSSRCs(),t.set(e.trackId,e)}),s=Array.from(t.keys());var p=o(s,d),f=a(p,function(e){return t.get(e)}),h=!e.match(/a=rtpmap:[0-9]+ rtx/),v=a(f,function(e){return e.toSdpLines(h)}),m=a(new Set(e.split("\r\n").concat(v))),y="a=x-google-flag:conference";return e.match(y)||m.push(y),m.join("\r\n")}},3447:(e,t,n)=>{"use strict";var r=n(6348).defer,i=function(){function e(){Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return e.prototype.put=function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this},e.prototype.take=function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=r();return this._deferreds.push(t),t.promise.then(function(t){return e._hasValue=!1,t})},e}();e.exports=i},3459:e=>{"use strict";var t=function(){function e(e,t,n){void 0===n&&(n=!0),Object.defineProperties(this,{_delay:{value:t,writable:!0},_fn:{value:e},_timeout:{value:null,writable:!0}}),n&&this.start()}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSet",{get:function(){return!!this._timeout},enumerable:!1,configurable:!0}),e.prototype.setDelay=function(e){this._delay=e},e.prototype.start=function(){var e=this;this.isSet||(this._timeout=setTimeout(function(){var t=e._fn;e.clear(),t()},this._delay))},e.prototype.clear=function(){clearTimeout(this._timeout),this._timeout=null},e.prototype.reset=function(){this.clear(),this.start()},e}();e.exports=t},3461:function(e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=function(){function e(e){Object.defineProperties(this,{_callback:{value:e}})}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.makeVisible=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},e.prototype.makeInvisible=function(e){var t=this._makeFakeEntry(e,!1);this._callback([t])},e.prototype._makeFakeEntry=function(e,t){return{target:e,isIntersecting:t}},e}(),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.resize=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},t}(r);e.exports={NullIntersectionObserver:i,NullResizeObserver:o,NullObserver:r}},3619:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=function(e){function t(t){var n=e.call(this,t.id,t)||this;return Object.defineProperties(n,{_clones:{value:new Set},_eventsToReemitters:{value:new Map([["mute",function(){return n.queue("muted")}],["unmute",function(){return n.queue("unmuted")}]])},_senders:{value:new Set},_senderToPublisherHintCallbacks:{value:new Map},isPublishing:{enumerable:!0,get:function(){return!!this._clones.size}},muted:{enumerable:!0,get:function(){return this._track.muted}}}),n._reemitMediaStreamTrackEvents(),n}return i(t,e),t.prototype._reemitMediaStreamTrackEvents=function(e){void 0===e&&(e=this._track);var t=this._eventsToReemitters,n=this._track;e.addEventListener?t.forEach(function(t,n){return e.addEventListener(n,t)}):t.forEach(function(t,n){e["on"+n]=t}),n!==e&&(t.forEach(function(e,t){return n.removeEventListener(t,e)}),n.muted!==e.muted&&t.get(e.muted?"mute":"unmute")())},t.prototype.clone=function(){var e=new t(this.track.clone());return this._clones.add(e),e},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.setMediaStreamTrack=function(e){var t=this,n=Array.from(this._clones),r=Array.from(this._senders);return Promise.all(n.map(function(t){return t.setMediaStreamTrack(e.clone())}).concat(r.map(function(n){return t._replaceTrack(n,e)}))).finally(function(){t._reemitMediaStreamTrackEvents(e),t._track=e})},t.prototype.addSender=function(e,t){return this._senders.add(e),t&&this._senderToPublisherHintCallbacks.set(e,t),this},t.prototype.removeSender=function(e){return this._senders.delete(e),this._senderToPublisherHintCallbacks.delete(e),this},t.prototype.setPublisherHint=function(e){var t=o(Array.from(this._senderToPublisherHintCallbacks.values()),1)[0];return t?t(e):Promise.resolve("COULD_NOT_APPLY_HINT")},t.prototype._replaceTrack=function(e,t){var n=this;return e.replaceTrack(t).then(function(e){return n.setPublisherHint(null).catch(function(){}),n.emit("replaced"),e})},t}(n(9406));e.exports=a},3719:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(8641),c=n(6348),u=c.buildLogLevels,l=c.makeUUID,d=n(5014),p=n(8302),f=n(3459),h=0,v={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},m={closed:"close",open:"open",waiting:"waiting"},y=3005,g=globalThis,b=g.WebSocket?g.WebSocket:n(7330),_={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},w=new Map([[3e3,_.TIMEOUT],[3001,_.TIMEOUT],[3002,_.FAILED],[3003,_.FAILED],[3004,_.TIMEOUT],[3006,_.BUSY],[3007,_.TIMEOUT]]),k=function(e){function t(t,n){var r=e.call(this,"early",v)||this;n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:3,maxConsecutiveMissedHeartbeats:3,requestedHeartbeatTimeout:5e3,openTimeout:15e3,welcomeTimeout:5e3,Log:d,WebSocket:b},n);var i=u(n.logLevel),s=new n.Log("default",r,i,n.loggerName),c=n.networkMonitor?new p(function(){var e=c.type,t="Network changed"+(e?" to "+e:"");s.debug(t),r._close({code:3004,reason:t})}):null;Object.defineProperties(r,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++h},_log:{value:s},_messageQueue:{value:[]},_networkMonitor:{value:c},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:t},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var l={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return r.on("stateChanged",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e in m&&r.emit.apply(r,a([m[e]],o(t)));var i={name:e,group:"signaling",level:l[r.state]};if("closed"===e){var s=o(t,1)[0];i.payload={reason:s},i.level=s===_.LOCAL?"info":"error"}r._eventObserver.emit("event",i)}),r._eventObserver.emit("event",{name:r.state,group:"signaling",level:l[r.state]}),r._connect(),r}return i(t,e),t.prototype.toString=function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"},t.prototype._close=function(e){var t=e.code,n=e.reason;if("closed"!==this.state){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&t!==y&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var r=this._log;1e3===t?(r.debug("Closed"),this.transition("closed",null,[_.LOCAL])):(r.warn("Closed: "+t+" - "+n),t!==y&&this.transition("closed",null,[w.get(t)||_.REMOTE]));var i=this._ws.readyState,o=this._options.WebSocket;i!==o.CLOSING&&i!==o.CLOSED&&this._ws.close(t,n)}},t.prototype._connect=function(){var e=this,t=this._log;if("waiting"===this.state)this.transition("early");else if("early"!==this.state)return void t.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;t.debug("Created a new WebSocket:",n),n.addEventListener("close",function(t){return e._close(t)});var r=this._options.openTimeout;this._openTimeout=new f(function(){var t="Failed to open in "+r+" ms";e._close({code:3007,reason:t})},r),n.addEventListener("open",function(){t.debug("WebSocket opened:",n),e._openTimeout.clear(),e._startHandshake(),e._networkMonitor&&e._networkMonitor.start()}),n.addEventListener("message",function(n){t.debug("Incoming: "+n.data);try{n=JSON.parse(n.data)}catch(t){return void e.emit("error",t)}switch(n.type){case"bad":e._handleBad(n);break;case"busy":e._handleBusy(n);break;case"bye":break;case"msg":e._handleMessage(n);case"heartbeat":e._handleHeartbeat();break;case"welcome":e._handleWelcome(n);break;default:e._log.debug("Unknown message type: "+n.type),e.emit("error",new Error("Unknown message type: "+n.type))}})},t.prototype._handleBad=function(e){var t=e.reason,n=this._log;if(["connecting","open"].includes(this.state)){if("connecting"===this.state)return n.warn("Closing: 3002 - "+t),void this._close({code:3002,reason:t});n.debug("Error: "+t),this.emit("error",new Error(t))}else n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.')},t.prototype._handleBusy=function(e){var t=this,n=e.cookie,r=e.keepAlive,i=e.retryAfter,o=this._log;if(["connecting","waiting"].includes(this.state)){this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var a=i<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+i+" ms";if(i<0)return o.warn("Closing: 3006 - "+a),void this._close({code:3006,reason:a});var s=this._options.maxConsecutiveFailedHellos;this._hellosLeft=s,this._cookie=n||null,r?(o.warn(a),this._busyWaitTimeout=new f(function(){return t._startHandshake()},i)):(o.warn("Closing: 3005 - "+a),this._close({code:y,reason:a}),this._busyWaitTimeout=new f(function(){return t._connect()},i)),this.transition("waiting",null,[r,i])}else o.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.')},t.prototype._handleHeartbeat=function(){"open"===this.state?this._heartbeatTimeout.reset():this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.')},t.prototype._handleHeartbeatTimeout=function(){if("open"===this.state){var e=this._log,t=this._options.maxConsecutiveMissedHeartbeats;e.debug("Consecutive heartbeats missed: "+t);var n="Missed "+t+' "heartbeat" messages';e.warn("Closing: 3001 - "+n),this._close({code:3001,reason:n})}},t.prototype._handleMessage=function(e){var t=e.body;"open"===this.state?this.emit("message",t):this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.')},t.prototype._handleWelcome=function(e){var t=this,n=e.negotiatedTimeout,r=this._log;if(["connecting","waiting"].includes(this.state)){"waiting"===this.state&&(r.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var i=n*this._options.maxConsecutiveMissedHeartbeats,o=n-200;this._welcomeTimeout.clear(),this._heartbeatTimeout=new f(function(){return t._handleHeartbeatTimeout()},i),this._messageQueue.splice(0).forEach(function(e){return t._send(e)}),this._sendHeartbeatTimeout=new f(function(){return t._sendHeartbeat()},o),this.transition("open")}else r.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.')},t.prototype._handleWelcomeTimeout=function(){if("connecting"===this.state){var e=this._log;if(this._hellosLeft<=0){var t="All handshake attempts failed";return e.warn("Closing: 3000 - "+t),void this._close({code:3e3,reason:t})}var n=this._options.maxConsecutiveFailedHellos;e.warn("Handshake attempt "+(n-this._hellosLeft)+" failed"),this._startHandshake()}},t.prototype._send=function(e){if(this._ws.readyState===this._options.WebSocket.OPEN){var t=JSON.stringify(e);this._log.debug("Outgoing: "+t);try{this._ws.send(t),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch(e){var n="Failed to send message";this._log.warn("Closing: 3003 - "+n),this._close({code:3003,reason:n})}}},t.prototype._sendHeartbeat=function(){"closed"!==this.state&&this._send({type:"heartbeat"})},t.prototype._sendHello=function(){var e=this._options,t=e.helloBody,n=e.requestedHeartbeatTimeout,r={id:l(),timeout:n,type:"hello",version:2};this._cookie&&(r.cookie=this._cookie),t&&(r.body=t),this._send(r)},t.prototype._sendOrEnqueue=function(e){var t=this;if("closed"!==this.state){var n="open"===this.state?function(e){return t._send(e)}:function(e){return t._messageQueue.push(e)};n(e)}},t.prototype._startHandshake=function(){var e=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),"connecting"===this.state){this._hellosLeft--,this._sendHello();var t=this._options.welcomeTimeout;this._welcomeTimeout=new f(function(){return e._handleWelcomeTimeout()},t)}},t.prototype.close=function(){"closed"!==this.state&&(this._sendOrEnqueue({type:"bye"}),this._close({code:1e3,reason:"Normal"}))},t.prototype.sendMessage=function(e){this._sendOrEnqueue({body:e,type:"msg"})},t}(s);k.CloseReason=_,e.exports=k},3731:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._handleTrackSignalingEvents(),r.once("disconnected",r._unsubscribeTracks.bind(r)),r}return i(t,e),t.prototype.toString=function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._addTrack=function(t,n,r){return e.prototype._addTrack.call(this,t,r)?(n._subscribed(t),this.emit("trackSubscribed",t,n),t):null},t.prototype._addTrackPublication=function(t){var n=e.prototype._addTrackPublication.call(this,t);return n?(this.emit("trackPublished",n),n):null},t.prototype._getTrackPublicationEvents=function(){return a(a([],o(e.prototype._getTrackPublicationEvents.call(this))),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])},t.prototype._unsubscribeTracks=function(){var e=this;this.tracks.forEach(function(t){if(t.isSubscribed){var n=t.track;t._unsubscribe(),e.emit("trackUnsubscribed",n,t)}})},t.prototype._removeTrack=function(t,n,r){var i=this._tracks.get(r);return i?(e.prototype._removeTrack.call(this,i,r),n._unsubscribe(),this.emit("trackUnsubscribed",i,n),i):null},t.prototype._removeTrackPublication=function(t){this._signaling.clearTrackHint(t.trackSid);var n=e.prototype._removeTrackPublication.call(this,t);return n?(this.emit("trackUnpublished",n),n):null},t}(n(4438));e.exports=s},3732:e=>{"use strict";e.exports=function(e){return void 0===e&&(e={audio:!0,video:!0}),"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e):Promise.reject(new Error("getUserMedia is not supported"))}},3743:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(3325),a=n(3459),s=n(6348).isDeepEqual,c=1,u=function(e){function t(t,n){var r=e.call(this,t,"render_hints",n)||this;return Object.defineProperties(r,{_trackSidsToRenderHints:{value:new Map},_responseTimer:{value:new a(function(){r._sendAllHints(),r._responseTimer.setDelay(2*r._responseTimer.delay)},2e3,!1)}}),r.on("ready",function(e){e.on("message",function(e){r._log.debug("Incoming: ",e),"render_hints"===e.type?r._processHintResults(e&&e.subscriber&&e.subscriber.hints||[]):r._log.warn("Unknown message type: ",e.type)}),r._sendAllHints()}),r}return i(t,e),t.prototype._sendAllHints=function(){var e=this;Array.from(this._trackSidsToRenderHints.keys()).forEach(function(t){var n=e._trackSidsToRenderHints.get(t);n.renderDimensions&&(n.isDimensionDirty=!0),"enabled"in n&&(n.isEnabledDirty=!0)}),this._sendHints()},t.prototype._processHintResults=function(e){var t=this;this._responseTimer.clear(),this._responseTimer.setDelay(2e3),e.forEach(function(e){"OK"!==e.result&&t._log.debug("Server error processing hint:",e)}),this._sendHints()},t.prototype._sendHints=function(){var e=this;if(this._transport&&!this._responseTimer.isSet){var t=[];if(Array.from(this._trackSidsToRenderHints.keys()).forEach(function(n){var r=e._trackSidsToRenderHints.get(n);if(r.isEnabledDirty||r.isDimensionDirty){var i={track:n};r.isEnabledDirty&&(i.enabled=r.enabled,r.isEnabledDirty=!1),r.isDimensionDirty&&(i.render_dimensions=r.renderDimensions,r.isDimensionDirty=!1),t.push(i)}}),t.length>0){var n={type:"render_hints",subscriber:{id:c++,hints:t}};this._log.debug("Outgoing: ",n),this._transport.publish(n),this._responseTimer.start()}}},t.prototype.setTrackHint=function(e,t){var n=this._trackSidsToRenderHints.get(e)||{isEnabledDirty:!1,isDimensionDirty:!1};"enabled"in t&&n.enabled!==t.enabled&&(n.enabled=!!t.enabled,n.isEnabledDirty=!0),t.renderDimensions&&!s(t.renderDimensions,n.renderDimensions)&&(n.renderDimensions=t.renderDimensions,n.isDimensionDirty=!0),this._trackSidsToRenderHints.set(e,n),this._sendHints()},t.prototype.clearTrackHint=function(e){this._trackSidsToRenderHints.delete(e)},t}(o);e.exports=u},4004:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7872),a=n(6948),s=n(9516),c=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this,t,n,r)||this,u=o>0?i/o:0;return Object.defineProperties(c,{deltaPacketsLost:{enumerable:!0,value:i},deltaPacketsReceived:{enumerable:!0,value:o},fractionLost:{enumerable:!0,value:a},jitter:{enumerable:!0,value:s},phonyFractionLost:{enumerable:!0,value:u}}),c}return i(t,e),t.of=function(e,n,r){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var i=(r.timestamp-n.timestamp)/1e3,o=r.bytesReceived-n.bytesReceived,a=i>0?o/i*8:0,s=Math.max(r.packetsLost-n.packetsLost,0),c=r.packetsReceived-n.packetsReceived,u=r.fractionLost,l=r.jitter;return new t(n.id,e,a,s,c,u,l)},t.summarize=function(e){var t=e.map(function(e){return e.summarize()});return{bitrate:s(t.map(function(e){return e.bitrate})),fractionLost:o(t.map(function(e){return e.fractionLost})),jitter:o(t.map(function(e){return e.jitter}))}},t.prototype.summarize=function(){return{bitrate:this.bitrate,fractionLost:"number"==typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}},t}(a);e.exports=c},4081:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7260),a=n(6192),s=n(3002).createTwilioError,c=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r)||this;return Object.defineProperties(a,{_log:{value:o.log.createLog("default",a)},_mediaStates:{value:{recordings:null},writable:!0},_noiseCancellationVendor:{value:i}}),a}return i(t,e),t.prototype.getState=function(){var e={enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority};return this._noiseCancellationVendor&&(e.audio_processor=this._noiseCancellationVendor),e},t.prototype.toString=function(){return"[LocalTrackPublicationV2: "+this.sid+"]"},t.prototype.update=function(e){switch(e.state){case"ready":this.setSid(e.sid);break;case"failed":var t=e.error;this.publishFailed(s(t.code,t.message))}return this},t.prototype.updateMediaStates=function(e){if(!e||!e.recordings||this._mediaStates.recordings===e.recordings)return this;switch(this._mediaStates.recordings=e.recordings,this._mediaStates.recordings){case"OK":this._log.info("Warnings have cleared."),this.emit("warningsCleared");break;case"NO_MEDIA":this._log.warn("Recording media lost."),this.emit("warning",a.recordingMediaLost);break;default:this._log.warn("Unknown media state detected: "+this._mediaStates.recordings)}return this},t}(o);e.exports=c},4084:e=>{"use strict";e.exports=JSON.parse('{"name":"twilio-video","title":"Twilio Video","description":"Twilio Video JavaScript Library","version":"2.31.0","homepage":"https://twilio.com","author":"Mark Andrus Roberts <mroberts@twilio.com>","contributors":["Ryan Rowland <rrowland@twilio.com>","Manjesh Malavalli <mmalavalli@twilio.com>","Makarand Patwardhan <mpatwardhan@twilio.com>","Luis Rivas <lrivas@twilio.com>"],"keywords":["twilio","webrtc","library","javascript","video","rooms"],"repository":{"type":"git","url":"https://github.com/twilio/twilio-video.js.git"},"devDependencies":{"@babel/core":"^7.14.2","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/preset-env":"^7.14.2","@babel/preset-typescript":"^7.13.0","@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","@typescript-eslint/eslint-plugin":"^4.13.0","@typescript-eslint/parser":"^4.0.0","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1","browserify":"^17.0.0","cheerio":"^0.22.0","cors":"^2.8.5","electron":"^17.2.0","envify":"^4.0.0","eslint":"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","express":"^4.16.2","glob":"^7.1.7","ink-docstrap":"^1.3.2","inquirer":"^7.0.0","is-docker":"^2.0.0","jsdoc":"^3.5.5","jsdoc-babel":"^0.5.0","json-loader":"^0.5.7","karma":"6.4.1","karma-browserify":"^8.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32","karma-typescript":"^5.5.1","karma-typescript-es6-transform":"^5.5.1","mocha":"^3.2.0","mock-require":"^3.0.3","ncp":"^2.0.0","node-http-server":"^8.1.2","npm-run-all":"^4.0.2","nyc":"^15.1.0","regex-replace":"^2.3.1","requirejs":"^2.3.3","rimraf":"^2.6.1","simple-git":"^1.126.0","sinon":"^4.0.1","ts-node":"4.0.1","tslint":"5.8.0","twilio":"^3.49.0","twilio-release-tool":"^1.0.2","typescript":"4.2.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","watchify":"^3.11.1","webrtc-adapter":"^7.7.1"},"engines":{"node":">=0.12"},"license":"BSD-3-Clause","main":"./es5/index.js","types":"./tsdef/index.d.ts","scripts":{"lint:js":"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/** ","lint:ts":"eslint ./tsdef/*.ts ./lib/**/*.ts","lint":"npm-run-all lint:js lint:ts","patch-linkifyit-111":"regex-replace \\"readonly linkify: LinkifyIt.LinkifyIt;\\" \\"readonly linkify: typeof LinkifyIt;\\" \\"node_modules/@types/markdown-it/lib/index.d.ts\\" --filecontents","printVersion":"node --version && npm --version","test:unit":"npm-run-all printVersion build:es5 && nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov --reporter=text mocha -r ts-node/register ./test/unit/*","test:unit:quick":"nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov mocha -r ts-node/register","test:serversiderender":"mocha ./test/serversiderender/index.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:integration":"npm run build:es5 && node ./scripts/karma.js karma/integration.conf.js","test:umd:install":"npm install puppeteer@19.2.2","test:umd":"mocha ./test/umd/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework":"npm-run-all test:framework:install test:framework:no-framework test:framework:react","test":"npm-run-all test:unit test:integration","build:es5":"rimraf ./es5 && mkdir -p es5 && npm run patch-linkifyit-111 && tsc tsdef/twilio-video-tests.ts --noEmit --lib es2018,dom && tsc","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":"uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments \\"/^! twilio-video.js/\\" -b beautify=false,ascii_only=true","build":"npm-run-all clean lint docs test:unit test:integration build:es5 build:js build:min.js test:umd","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js","docs":"node ./scripts/docs.js ./dist/docs","watch":"tsc -w","clean":"rimraf ./coverage ./es5 ./dist"},"dependencies":{"events":"^3.3.0","util":"^0.12.4","ws":"^7.4.6","xmlhttprequest":"^1.8.0"},"browser":{"ws":"./src/ws.js","xmlhttprequest":"./src/xmlhttprequest.js"}}')},4177:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{id:{enumerable:!0,value:t},kind:{enumerable:!0,value:n}}),r}return i(t,e),t.prototype.stop=function(){this.emit("stopped")},t}(n(5376));e.exports=o},4228:(e,t,n)=>{"use strict";e.exports={LocalAudioTrack:n(7278),LocalVideoTrack:n(4721),LocalDataTrack:n(9112)}},4330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(){this._end=void 0,this.start()}return e.prototype.start=function(){return this._start=Date.now(),this},e.prototype.stop=function(){return this._end=Date.now(),this},e.prototype.getTimeMeasurement=function(){return{start:this._start,end:this._end,duration:void 0===this._end?void 0:this._end-this._start}},e}();t.Timer=n},4357:(e,t,n)=>{"use strict";var r=n(3057),i=n(6706);e.exports=function(e){var t=e.level,n=e.audio,o=e.video;Object.defineProperties(this,{level:{value:t,enumerable:!0},audio:{value:n?new r(n):null,enumerable:!0},video:{value:o?new i(o):null,enumerable:!0}})}},4438:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(1049),c=n(1385),u=n(5395),l=n(9229),d=n(8343),p=n(7942),f=n(2014),h=n(6348),v=0,m=function(e){function t(t,n){var r=e.call(this)||this,i=function(e){var t=e.map(function(e){return[e.id,e]}),n=t.filter(function(e){return"audio"===e[1].kind}),r=t.filter(function(e){return"video"===e[1].kind});return{audioTracks:n,dataTracks:t.filter(function(e){return"data"===e[1].kind}),tracks:t,videoTracks:r}}((n=Object.assign({RemoteAudioTrack:c,RemoteAudioTrackPublication:u,RemoteDataTrack:l,RemoteDataTrackPublication:d,RemoteVideoTrack:p,RemoteVideoTrackPublication:f,tracks:[]},n)).tracks),o=n.log.createLog("default",r),a=new Map(i.audioTracks),s=new Map(i.dataTracks),h=new Map(i.tracks),m=new Map(i.videoTracks);return Object.defineProperties(r,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:a},_dataTracks:{value:s},_instanceId:{value:++v},_clientTrackSwitchOffControl:{value:n.clientTrackSwitchOffControl},_contentPreferencesMode:{value:n.contentPreferencesMode},_log:{value:o},_signaling:{value:t},_tracks:{value:h},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:m},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return t.identity}},networkQualityLevel:{enumerable:!0,get:function(){return t.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return t.networkQualityStats}},sid:{enumerable:!0,get:function(){return t.sid}},state:{enumerable:!0,get:function(){return t.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map},_MediaStream:{value:n.MediaStream},_mapMediaElement:{value:n.mapMediaElement},_disposeMediaElement:{value:n.disposeMediaElement}}),r._tracks.forEach(y.bind(null,r)),t.on("networkQualityLevelChanged",function(){return r.emit("networkQualityLevelChanged",r.networkQualityLevel,r.networkQualityStats&&(r.networkQualityStats.audio||r.networkQualityStats.video)?r.networkQualityStats:null)}),function(e,t){var n=e._log;"disconnected"!==e.state&&t.on("stateChanged",function r(i){n.debug("Transitioned to state:",i),e.emit(i,e),"disconnected"===i&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",r),e._tracks.forEach(function(t){var n=e._trackEventReemitters.get(t.id);t&&n&&n.forEach(function(e,n){t.removeListener(n,e)})}),t.tracks.forEach(function(t){var n=e._tracks.get(t.id),r=e._trackEventReemitters.get(t.id);n&&r&&r.forEach(function(e,t){n.removeListener(t,e)})}),e._trackEventReemitters.clear(),e.tracks.forEach(function(t){e._trackPublicationEventReemitters.get(t.trackSid).forEach(function(e,n){t.removeListener(n,e)})}),e._trackPublicationEventReemitters.clear())})}(r,t),o.info("Created a new Participant"+(r.identity?": "+r.identity:"")),r}return i(t,e),t.prototype._getTrackEvents=function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]},t.prototype._getTrackPublicationEvents=function(){return[]},t.prototype.toString=function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},t.prototype._addTrack=function(e,t){var n=this._log;return this._tracks.has(t)?null:(this._tracks.set(t,e),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].set(t,e),y(this,e,t),n.info("Added a new "+h.trackClass(e)+":",t),n.debug(h.trackClass(e)+":",e),e)},t.prototype._addTrackPublication=function(e){var t=this._log;return this.tracks.has(e.trackSid)?null:(this.tracks.set(e.trackSid,e),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].set(e.trackSid,e),function(e,t){var n=new Map;"disconnected"!==e.state&&(e._getTrackPublicationEvents().forEach(function(r){var i=o(r,2),s=i[0],c=i[1];n.set(s,function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.emit.apply(e,a(a([c],o(n)),[t]))}),t.on(s,n.get(s))}),e._trackPublicationEventReemitters.set(t.trackSid,n))}(this,e),t.info("Added a new "+h.trackPublicationClass(e)+":",e.trackSid),t.debug(h.trackPublicationClass(e)+":",e),e)},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=e._log,n=e._clientTrackSwitchOffControl,r=e._contentPreferencesMode,i=e._MediaStream,a=e._mapMediaElement,s=e._disposeMediaElement,c=this;if("disconnected"!==this.state){var u=this._RemoteAudioTrack,l=this._RemoteAudioTrackPublication,d=this._RemoteVideoTrack,p=this._RemoteVideoTrackPublication,f=this._RemoteDataTrack,h=this._RemoteDataTrackPublication,v=this._signaling;v.on("trackAdded",m),v.on("trackRemoved",y),v.tracks.forEach(m),v.on("stateChanged",function e(n){"disconnected"===n?(t.debug("Removing event listeners"),v.removeListener("stateChanged",e),v.removeListener("trackAdded",m),v.removeListener("trackRemoved",y)):"connected"===n&&(t.info("reconnected"),setTimeout(function(){return c.emit("reconnected")},0))})}function m(e){var n=new(0,{audio:l,data:h,video:p}[e.kind])(e,{log:t});c._addTrackPublication(n);var r=e.isSubscribed;r&&g(e),c._trackSignalingUpdatedEventCallbacks.set(e.sid,function(){if(r!==e.isSubscribed){if(r=e.isSubscribed)return void g(e);!function(e){var t=o(Array.from(c._tracks.entries()).find(function(t){return o(t,2)[1].sid===e.sid}),2),n=t[0],r=t[1],i=c.tracks.get(e.sid);r&&c._removeTrack(r,i,n)}(e)}}),e.on("updated",c._trackSignalingUpdatedEventCallbacks.get(e.sid))}function y(e){e.isSubscribed&&e.setTrackTransceiver(null);var t=c._trackSignalingUpdatedEventCallbacks.get(e.sid);t&&(e.removeListener("updated",t),c._trackSignalingUpdatedEventCallbacks.delete(e.sid));var n=c.tracks.get(e.sid);n&&c._removeTrackPublication(n)}function g(e){var o=e.isEnabled,l=e.name,p=e.kind,h=e.sid,m=e.trackTransceiver,y=e.isSwitchedOff,g={audio:u,video:d,data:f}[p],b=c.tracks.get(h);if(g&&p===m.kind){var _={log:t,name:l,clientTrackSwitchOffControl:n,contentPreferencesMode:r,mapMediaElement:a,disposeMediaElement:s};i&&(_.MediaStream=i);var w="data"===p?new g(h,m,_):new g(h,m,o,y,function(e){return v.updateSubscriberTrackPriority(h,e)},function(t){e.isSubscribed&&v.updateTrackRenderHint(h,t)},_);c._addTrack(w,b,m.id)}}},t.prototype._removeTrack=function(e,t){if(!this._tracks.has(t))return null;this._tracks.delete(t),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].delete(t),(this._trackEventReemitters.get(t)||new Map).forEach(function(t,n){e.removeListener(n,t)});var n=this._log;return n.info("Removed a "+h.trackClass(e)+":",t),n.debug(h.trackClass(e)+":",e),e},t.prototype._removeTrackPublication=function(e){if(!(e=this.tracks.get(e.trackSid)))return null;this.tracks.delete(e.trackSid),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].delete(e.trackSid),(this._trackPublicationEventReemitters.get(e.trackSid)||new Map).forEach(function(t,n){e.removeListener(n,t)});var t=this._log;return t.info("Removed a "+h.trackPublicationClass(e)+":",e.trackSid),t.debug(h.trackPublicationClass(e)+":",e),e},t.prototype.toJSON=function(){return h.valueToJSON(this)},t}(s);function y(e,t,n){var r=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach(function(n){var i=n[0],s=n[1];r.set(i,function(){var t=[s].concat([].slice.call(arguments));return e.emit.apply(e,a([],o(t)))}),t.on(i,r.get(i))}),e._trackEventReemitters.set(n,r))}e.exports=m},4465:(e,t,n)=>{"use strict";var r=n(9495),i=n(8602),o=n(1566),a=n(8812),s=n(3002),c=s.SignalingConnectionDisconnectedError,u=s.SignalingIncomingMessageInvalidError,l=n(6348),d=l.flatMap,p=l.createRoomConnectEventPayload;e.exports=function(e,t,n,s,l,f){f=Object.assign({PeerConnectionManager:i,RoomV2:o,Transport:a},f);var h=l.video[0]&&!0===l.video[0].adaptiveSimulcast,v=f.PeerConnectionManager,m=f.RoomV2,y=f.Transport,g=f.iceServers,b=f.log,_=new v(s,l,f),w=d(n.tracks,function(e){return[e.trackTransceiver]});_.setTrackSenders(w);var k,S=new Error("Canceled"),T=new r(function(r,i,o){var a=f.automaticSubscription,s=f.bandwidthProfile,l=f.dominantSpeaker,d=f.environment,v=f.eventObserver,w=f.loggerName,T=f.logLevel,E=f.name,C=f.networkMonitor,O=f.networkQuality,P=f.notifyWarnings,x=f.realm,R=f.sdpSemantics,L=!!s,j=!!s,A=!!s&&("disabled"!==f.clientTrackSwitchOffControl||"disabled"!==f.contentPreferencesMode),M=Object.assign({adaptiveSimulcast:h,automaticSubscription:a,dominantSpeaker:l,environment:d,eventObserver:v,loggerName:w,logLevel:T,networkMonitor:C,networkQuality:O,notifyWarnings:P,iceServers:g,onIced:function(e){return o()?(i(S),Promise.reject(S)):(b.debug("Got ICE servers:",e),f.iceServers=e,_.setConfiguration(f),_.createAndOffer().then(function(){if(o())throw i(S),S;b.debug("createAndOffer() succeeded."),_.dequeue("description")}).catch(function(e){throw b.error("createAndOffer() failed:",e),i(e),e}))},realm:x,renderHints:A,sdpSemantics:R,trackPriority:L,trackSwitchOff:j},s?{bandwidthProfile:s}:{});k=new y(E,e,n,_,t,M);var D=p(f);v.emit("event",D),k.once("connected",function(e){b.debug("Transport connected:",e),o()?i(S):e.participant?r(new m(n,e,k,_,f)):i(new u)}),k.once("stateChanged",function(e,t){"disconnected"===e?(k=null,i(t||new c)):b.debug("Transport state changed:",e)})},function(){k&&(k.disconnect(),k=null)});return T.catch(function(){k&&(k.disconnect(),k=null),_.close()}),T}},4543:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(n(592));e.exports=o},4600:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(1049),c=n(3731),u=n(1354),l=n(6348),d=l.flatMap,p=l.valueToJSON,f=0,h=function(e){function t(t,n,r){var i,s,c=e.call(this)||this,u=r.log.createLog("default",c),l=new Map;return Object.defineProperties(c,{_log:{value:u},_clientTrackSwitchOffControl:{value:r.clientTrackSwitchOffControl||"disabled"},_contentPreferencesMode:{value:r.contentPreferencesMode||"disabled"},_instanceId:{value:++f},_options:{value:r},_participants:{value:l},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:l},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),function(e,t){var n=["trackWarning","trackWarningsCleared"].map(function(n){return{eventName:n,handler:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.emit.apply(e,a([n],o(a(a([],o(r)),[t]))))}}});n.forEach(function(e){var n=e.eventName,r=e.handler;return t.on(n,r)}),e.once("disconnected",function(){return n.forEach(function(e){var n=e.eventName,r=e.handler;return t.removeListener(n,r)})})}(c,t),i=c,(s=n.recording).on("updated",function(){var e=s.isEnabled;i._log.info("Recording "+(e?"started":"stopped")),i.emit("recording"+(e?"Started":"Stopped"))}),function(e,t){var n=e._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(m.bind(null,e)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",m.bind(null,e)),t.on("dominantSpeakerChanged",function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)}),t.on("stateChanged",function r(i,o){switch(n.info("Transitioned to state:",i),i){case"disconnected":e.participants.forEach(function(e){e._unsubscribeTracks()}),e.emit(i,e,o),e.localParticipant.tracks.forEach(function(e){e.unpublish()}),t.removeListener("stateChanged",r);break;case"reconnecting":setTimeout(function(){return e.emit("reconnecting",o)},0);break;default:setTimeout(function(){return e.emit("reconnected")},0)}})}(c,n),function(e){var t=e.localParticipant._signaling.audioProcessors;e.localParticipant.audioTracks.forEach(function(n){var r=n.track.noiseCancellation;r&&!t.includes(r.vendor)&&(e._log.warn(r.vendor+" is not supported in this room. disabling it permanently"),r.disablePermanently())})}(c),u.info("Created a new Room:",c.name),u.debug("Initial RemoteParticipants:",Array.from(c._participants.values())),c}return i(t,e),t.prototype.toString=function(){return"[Room #"+this._instanceId+": "+this.sid+"]"},t.prototype.disconnect=function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},t.prototype.getStats=function(){var e=this;return this._signaling.getStats().then(function(t){return Array.from(t).map(function(t){var n=o(t,2),r=n[0],i=n[1];return new u(r,Object.assign({},i,{localAudioTrackStats:v(e,i.localAudioTrackStats),localVideoTrackStats:v(e,i.localVideoTrackStats)}))})})},t.prototype.refreshInactiveMedia=function(){var e=this.localParticipant.tracks,t=Array.from(e.values()).filter(function(e){return"data"!==e.track.kind}).map(function(e){return e.track}),n=d(this.participants,function(e){return Array.from(e.tracks.values())}).filter(function(e){var t=e.track;return t&&"data"!==t.kind}).map(function(e){return e.track}),r=t.concat(n),i=new Event("unmute");t.forEach(function(e){var t=e.isMuted,n=e.mediaStreamTrack;t&&n.dispatchEvent(i)});var o=new Event("pause");return r.forEach(function(e){var t=e._attachments,n=e._elShims;return t.forEach(function(e){var t=n.get(e);e.paused&&t&&!t.pausedIntentionally()&&e.dispatchEvent(o)})}),this},t.prototype.toJSON=function(){return p(this)},t}(s);function v(e,t){var n=e.localParticipant._signaling;return t.reduce(function(e,t){var r=n.tracks.get(t.trackId),i=n.getSender(r);return i?[Object.assign({},t,{trackId:i.id})].concat(e):e},[])}function m(e,t){var n=e._log,r=e._clientTrackSwitchOffControl,i=e._contentPreferencesMode,s=e._options,u=s.MediaStream,l=s.mapMediaElement,d=s.disposeMediaElement,p=new c(t,{log:n,clientTrackSwitchOffControl:r,contentPreferencesMode:i,MediaStream:u,mapMediaElement:l,disposeMediaElement:d});n.info("A new RemoteParticipant connected:",p),e._participants.set(p.sid,p),e.emit("participantConnected",p);var f=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map(function(t){var n=o(Array.isArray(t)?t:[t,t],2),r=n[0],i=n[1];function s(){var t=[].slice.call(arguments);t.unshift(i),t.push(p),e.emit.apply(e,a([],o(t)))}return p.on(r,s),[r,s]});p.once("disconnected",function(){var t=e.dominantSpeaker;n.info("RemoteParticipant disconnected:",p),e._participants.delete(p.sid),f.forEach(function(e){p.removeListener(e[0],e[1])}),e.emit("participantDisconnected",p),p===t&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)})}e.exports=h},4632:(e,t,n)=>{"use strict";var r=n(1982);e.exports=function(e){var t=n(6983),i={},o=t.getOrCreate(i),a=3;return function t(){return a--,r(o,e.srcObject,250).then(function(e){return!!e&&(!(a>0)||t())}).catch(function(){return!0})}().finally(function(){t.release(i)})}},4719:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeStat=void 0,t.makeStat=function(e){return e&&e.length?{min:Math.min.apply(Math,r([],n(e))),max:Math.max.apply(Math,r([],n(e))),average:e.reduce(function(e,t){return e+t},0)/e.length}:null}},4721:(e,t,n)=>{"use strict";var r=n(40),i=n(8669);function o(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,o.prototype),n}r(o,i),e.exports=o},4728:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(7170),c=n(6790),u=n(5747).updateUnifiedPlanTrackIdsToSSRCs,l=n(9722),d=l.delegateMethods,p=l.interceptEvent,f=l.legacyPromise,h=l.proxyProperties,v=function(e){function t(t){var n=e.call(this)||this;p(n,"signalingstatechange");var r,i=new RTCPeerConnection(t);return Object.defineProperties(n,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:i},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},peerIdentity:{enumerable:!0,value:Promise.resolve({idp:"",name:""})}}),i.addEventListener("signalingstatechange",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._rollingBack||n.signalingState===r||(r=n.signalingState,n._isClosed?setTimeout(function(){return n.dispatchEvent.apply(n,a([],o(e)))}):n.dispatchEvent.apply(n,a([],o(e))))}),h(RTCPeerConnection.prototype,n,i),n}return i(t,e),Object.defineProperty(t.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localDescription",{get:function(){return g(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),t.prototype.createAnswer=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e=this._peerConnection.createAnswer().then(function(e){return y(t,e),g(e,t._initiallyNegotiatedDtlsRole)}),"function"==typeof n[0]?f.apply(void 0,a([e],o(n))):e},t.prototype.createOffer=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,i=o(t,3),a=i[0],s=i[1],l=i[2]||a||{};return r=(r="have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState?m(this,"have-local-offer"===this.signalingState,function(){return e.createOffer(l)}):this._peerConnection.createOffer(l)).then(function(t){return new c({type:t.type,sdp:u(e._tracksToSSRCs,t.sdp)})}),t.length>1?f(r,a,s):r},t.prototype.setLocalDescription=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,i=o(t),s=i[0],c=i.slice(1);return s&&"answer"===s.type&&"have-local-offer"===this.signalingState&&(r=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),r?t.length>1?f.apply(void 0,a([r],o(c))):r:(e=this._peerConnection).setLocalDescription.apply(e,a([],o(t)))},t.prototype.setRemoteDescription=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,i=o(t),s=i[0],c=i.slice(1);return s&&"have-remote-offer"===this.signalingState&&("answer"===s.type?r=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===s.type&&(r=m(this,!1,function(){return e._peerConnection.setRemoteDescription(s)}))),r||(r=this._peerConnection.setRemoteDescription(s)),r=r.then(function(){return y(e,s,!0)}),t.length>1?f.apply(void 0,a([r],o(c))):r},t.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},t}(s);function m(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new c({type:"rollback"})).then(n).then(function(t){return e._rollingBack=!1,t},function(t){throw e._rollingBack=!1,t})}function y(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function g(e,t){return e&&"answer"===e.type&&t?new c({type:e.type,sdp:e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)}):e}d(RTCPeerConnection.prototype,v.prototype,"_peerConnection"),e.exports=v},4798:function(e){"use strict";var t,n=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e){function t(n){var o,a=[].slice.call(arguments,1);o=e.apply(this,i([],r(a)))||this,Object.setPrototypeOf(o,t.prototype);var s=Error.apply(o,a);return s.name="TwilioError",Object.defineProperty(o,"code",{value:n,enumerable:!0}),Object.getOwnPropertyNames(s).forEach(function(e){Object.defineProperty(this,e,{value:s[e],enumerable:!0})},o),o}return n(t,e),t.prototype.toString=function(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e},t}(Error);e.exports=o},4810:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(5847),a=n(9060),s=function(e){function t(t,n,r,i,o,s){var c=e.call(this,t.sid,t.identity)||this;return s=Object.assign({RemoteTrackPublicationV2:a},s),Object.defineProperties(c,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:s.RemoteTrackPublicationV2},_getInitialTrackSwitchOffState:{value:n},updateSubscriberTrackPriority:{value:function(e,t){return r(e,t)}},updateTrackRenderHint:{value:function(e,t){return i(e,t)}},clearTrackHint:{value:function(e){return o(e)}},revision:{enumerable:!0,get:function(){return this._revision}}}),c.update(t)}return i(t,e),t.prototype._getOrCreateTrack=function(e){var t=this._RemoteTrackPublicationV2,n=this.tracks.get(e.sid);return n||(n=new t(e,this._getInitialTrackSwitchOffState(e.sid)),this.addTrack(n)),n},t.prototype.update=function(e){var t=this;if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var n=new Set;switch(e.tracks.forEach(function(e){var r=t._getOrCreateTrack(e);r.update(e),n.add(r)}),this.tracks.forEach(function(e){n.has(e)||t.removeTrack(e)}),e.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity)}return this},t}(o);e.exports=s},4905:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{audioLevel:{value:"number"==typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),r}return i(t,e),t}(n(1519));e.exports=o},5014:function(e,t,n){"use strict";var r,i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},a=n(7584).getLogger,s=n(3249),c=s.DEFAULT_LOG_LEVEL,u=s.DEFAULT_LOGGER_NAME,l=n(3249).typeErrors,d=function(){function e(t,n,r,i,o){if("string"!=typeof t)throw l.INVALID_TYPE("moduleName","string");if(!n)throw l.REQUIRED_ARGUMENT("component");"object"!=typeof r&&(r={}),o=o||a,m(r),Object.defineProperties(this,{_component:{value:n},_logLevels:{value:r},_warnings:{value:new Set},_loggerName:{get:function(){var e=i&&"string"==typeof i?i:u;return this._logLevelsEqual||(e=e+"-"+t),e}},_logger:{get:function(){var e=o(this._loggerName),n=this._logLevels[t]||c;return n="off"===n?"silent":n,e.setDefaultLevel(n),e}},_logLevelsEqual:{get:function(){return 1===new Set(Object.values(this._logLevels)).size}},logLevel:{get:function(){return e.getLevelByName(r[t]||c)}},name:{get:n.toString.bind(n)}})}return e.getLevelByName=function(t){return isNaN(t)?(v(t=t.toUpperCase()),e[t]):parseInt(t,10)},e.prototype.createLog=function(t,n){var r=this._loggerName;return this._logLevelsEqual||(r=r.substring(0,r.lastIndexOf("-"))),new e(t,n,this._logLevels,r)},e.prototype.setLevels=function(e){return m(e),Object.assign(this._logLevels,e),this},e.prototype.log=function(t,n){var r=e._levels[t];if(!r)throw l.INVALID_VALUE("logLevel",f);r=r.toLowerCase();var a=[(new Date).toISOString(),r,this.name];return(this._logger[r]||function(){}).apply(void 0,o([],i(a.concat(n)))),this},e.prototype.debug=function(){return this.log(e.DEBUG,[].slice.call(arguments))},e.prototype.deprecated=function(e){var t=function(e){if((r=r||new Map).has(e))return r.get(e);var t=new Set;return r.set(e,t),t}(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))},e.prototype.info=function(){return this.log(e.INFO,[].slice.call(arguments))},e.prototype.warn=function(){return this.log(e.WARN,[].slice.call(arguments))},e.prototype.warnOnce=function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))},e.prototype.error=function(){return this.log(e.ERROR,[].slice.call(arguments))},e.prototype.throw=function(t,n){throw t.clone&&(t=t.clone(n)),this.log(e.ERROR,t),t},e}();Object.defineProperties(d,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:["DEBUG","INFO","WARN","ERROR","OFF"]}});var p={},f=[],h=d._levels.map(function(e,t){return p[e]=!0,f.push(t),e});function v(e){if(!(e in p))throw l.INVALID_VALUE("level",h)}function m(e){Object.keys(e).forEach(function(t){v(e[t].toUpperCase())})}e.exports=d},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},5081:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function o(e,t,n,r){var i=[];return e.forEach(function(e){0!==r.length&&!r.includes(e.type)||0!==n.length&&!n.includes(e.kind)||"number"!=typeof e[t]||i.push(e[t])}),i}function a(e){return[{key:"transportId",type:"string"},{key:"candidateType",type:"string"},{key:"port",altKeys:["portNumber"],type:"number"},{key:"address",altKeys:["ip","ipAddress"],type:"string"},{key:"priority",type:"number"},{key:"protocol",altKeys:["transport"],type:"string"},{key:"url",type:"string"},{key:"relayProtocol",type:"string"}].reduce(function(t,n){var r=[n.key];n.altKeys&&(r=r.concat(n.altKeys));var i=r.find(function(t){return t in e});return i&&typeof e[i]===n.type&&(t[n.key]=e[i]),t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCombinedConnectionStats=void 0,t.getCombinedConnectionStats=function(e){var t=e.publisher,s=e.subscriber;return n(this,void 0,void 0,function(){var e,n,c,u,l,d,p,f,h,v,m,y,g,b,_;return r(this,function(r){switch(r.label){case 0:return[4,Promise.all([t,s].map(function(e){return e.getStats()}))];case 1:return e=i.apply(void 0,[r.sent(),2]),n=e[0],c=e[1],u=o(c,"timestamp",["audio"],["inbound-rtp"]),l=u.length>0?u[0]:0,d=o(c,"jitter",["audio"],["inbound-rtp"]).reduce(function(e,t){return Math.max(e,t)},0),p=o(c,"packetsReceived",["audio","video"],["inbound-rtp"]).reduce(function(e,t){return e+t},0),f=o(c,"packetsLost",["audio","video"],["inbound-rtp"]).reduce(function(e,t){return e+t},0),h=o(n,"roundTripTime",["audio","video"],["remote-inbound-rtp"]).reduce(function(e,t){return Math.max(e,t)},0),v=o(c,"currentRoundTripTime",[],["candidate-pair"]).reduce(function(e,t){return Math.max(e,t)},0),m=1e3*(v||h),y=o(n,"bytesSent",[],["candidate-pair"]).reduce(function(e,t){return e+t},0),g=o(c,"bytesReceived",[],["candidate-pair"]).reduce(function(e,t){return e+t},0),b=function(e){var t=null,n=[];e.forEach(function(e){"transport"===e.type&&e.selectedCandidatePairId?t=e.selectedCandidatePairId:"candidate-pair"===e.type&&n.push(e)});var r=n.find(function(e){return e.selected||t&&e.id===t});if(!r)return null;var i=r,o=e.get(i.localCandidateId),s=e.get(i.remoteCandidateId);return o&&s?{localCandidate:a(o),remoteCandidate:a(s)}:null}(c),_=[],c.forEach(function(e){"local-candidate"!==e.type&&"remote-candidate"!==e.type||_.push(a(e))}),[2,{timestamp:l,jitter:d,packets:p,packetsLost:f,roundTripTime:m,bytesSent:y,bytesReceived:g,selectedIceCandidatePairStats:b,iceCandidateStats:_}]}})})}},5085:(e,t,n)=>{"use strict";var r=n(9495);e.exports=function(e,t,n,i){var o,a=new Error("Canceled");return new r(function(s,c,u){var l;e(function(e){return u()?r.reject(a):(l=t(e),n(l).then(function(e){if(u())throw a;return o=e()}))}).then(function(e){if(u())throw e.disconnect(),a;s(i(l,e))}).catch(function(e){c(e)})},function(){o&&o.cancel()})}},5100:(e,t,n)=>{"use strict";var r=n(6348).isNonArrayObject,i=n(3249),o=i.typeErrors,a=i.clientTrackSwitchOffControl,s=i.videoContentPreferencesMode,c=i.subscriptionMode,u=i.trackPriority,l=i.trackSwitchOffMode;function d(e,t,n){return void 0===n&&(n=[]),void 0===e?null:null!==e&&r(e)?n.reduce(function(n,r){var i=r.prop,a=r.type,s=r.values;if(n||!(i in e))return n;var c=e[i];return a&&typeof c!==a||"number"===a&&isNaN(c)?o.INVALID_TYPE(t+"."+i,a):Array.isArray(s)&&!s.includes(c)?o.INVALID_VALUE(t+"."+i,s):n},null):o.INVALID_TYPE(t,"object")}t.Pn=function(e){var t=d(e,"options.bandwidthProfile");return!e||t?t:(t=d(e.video,"options.bandwidthProfile.video",[{prop:"contentPreferencesMode",values:Object.values(s)},{prop:"dominantSpeakerPriority",values:Object.values(u)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(c)},{prop:"clientTrackSwitchOffControl",values:Object.values(a)},{prop:"trackSwitchOffMode",values:Object.values(l)}]))||(e.video?"maxTracks"in e.video&&"clientTrackSwitchOffControl"in e.video?new TypeError("options.bandwidthProfile.video.maxTracks is deprecated. Use options.bandwidthProfile.video.clientTrackSwitchOffControl instead."):"renderDimensions"in e.video&&"contentPreferencesMode"in e.video?new TypeError("options.bandwidthProfile.video.renderDimensions is deprecated. Use options.bandwidthProfile.video.contentPreferencesMode instead."):function(e){var t="options.bandwidthProfile.video.renderDimensions",n=d(e,t);return e?n||Object.values(u).reduce(function(n,r){return n||d(e[r],t+"."+r,[{prop:"height",type:"number"},{prop:"width",type:"number"}])},null):n}(e.video.renderDimensions):null)},t.ZS=function(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw o.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}},5251:(e,t,n)=>{"use strict";var r=n(6038).getMediaSections,i=function(){function e(){Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return e.prototype.match=function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null},e.prototype.update=function(e){var t=r(e,"(audio|video)");this._midsToTrackIds=t.reduce(function(e,t){var n=t.match(/^a=mid:(.+)$/m)||[],r=t.match(/^a=msid:.+ (.+)$/m)||[],i=n[1],o=r[1];return i&&o?e.set(i,o):e},this._midsToTrackIds)},e}();e.exports=i},5287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var _=b.prototype=new g;_.constructor=b,v(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function x(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+P(c,0):o,w(a)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),x(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var l=o+P(s=e[u],u);c+=x(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=x(s=s.value,t,i,l=o+P(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function R(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",function(e){return t.call(n,e,i++)}),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},A={transition:null},M={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},5306:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return Object.defineProperties(i,{audioLevel:{value:"number"==typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"==typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return i(t,e),t}(n(46));e.exports=o},5327:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyNoiseCancellation=t.NoiseCancellationImpl=void 0;var o=n(7535),a=(n(5014),function(){function e(e,t){this._processor=e,this._sourceTrack=t,this._disabledPermanent=!1}return Object.defineProperty(e.prototype,"vendor",{get:function(){return this._processor.vendor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceTrack",{get:function(){return this._sourceTrack},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._processor.isEnabled()},enumerable:!1,configurable:!0}),e.prototype.enable=function(){if(this._disabledPermanent)throw new Error(this.vendor+" noise cancellation is disabled permanently for this track");return this._processor.enable(),Promise.resolve()},e.prototype.disable=function(){return this._processor.disable(),Promise.resolve()},e.prototype.reacquireTrack=function(e){return r(this,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return t=this._processor.isEnabled(),this._processor.disconnect(),[4,e()];case 1:return n=i.sent(),this._sourceTrack=n,[4,this._processor.connect(n)];case 2:return r=i.sent(),t?this._processor.enable():this._processor.disable(),[2,r]}})})},e.prototype.disablePermanently=function(){return this._disabledPermanent=!0,this.disable()},e.prototype.stop=function(){this._processor.disconnect(),this._sourceTrack.stop()},e}());t.NoiseCancellationImpl=a,t.applyNoiseCancellation=function(e,t,n){return r(this,void 0,void 0,function(){var r,s,c,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,o.createNoiseCancellationAudioProcessor(t,n)];case 1:return r=i.sent(),s=r.connect(e),c=new a(r,e),[2,{cleanTrack:s,noiseCancellation:c}];case 2:return u=i.sent(),n.warn("Failed to create noise cancellation. Returning normal audio track: "+u),[2,{cleanTrack:e}];case 3:return[2]}})})}},5338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},5376:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_queuedEvents:{value:new Map}}),t}return i(t,e),t.prototype.dequeue=function(e){var t=this,n=!0;if(!e)return this._queuedEvents.forEach(function(e,t){n=this.dequeue(t)&&n},this),n;var r=this._queuedEvents.get(e)||[];return this._queuedEvents.delete(e),r.reduce(function(n,r){return t.emit.apply(t,a([],o([e].concat(r))))&&n},n)},t.prototype.queue=function(){var e=[].slice.call(arguments);if(this.emit.apply(this,a([],o(e))))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1},t}(n(7007).EventEmitter);e.exports=s},5395:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.toString=function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2703));e.exports=o},5438:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(n(592));e.exports=o},5490:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(1013).isIOS,a=n(4632),s=n(9722).isIOSChrome,c=n(8375),u=function(e){function t(t,n){var r=this,i=(null==n?void 0:n.noiseCancellation)||null,a=(r=e.call(this,t,n)||this)._log,s=t.label,c=void 0===s?"":s,u=t.getSettings(),l=u.deviceId,d=void 0===l?"":l,p=u.groupId,f=void 0===p?"":p;return Object.defineProperties(r,{_currentDefaultDeviceInfo:{value:{deviceId:d,groupId:f,label:c},writable:!0},_enumerateDevices:{value:"function"==typeof(null==n?void 0:n.enumerateDevices)?n.enumerateDevices:navigator.mediaDevices.enumerateDevices},_defaultDeviceCaptureMode:{value:o()&&!i||!r._isCreatedByCreateLocalTracks||"object"!=typeof navigator||"object"!=typeof navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.addEventListener||"function"!=typeof(null==n?void 0:n.enumerateDevices)&&"function"!=typeof navigator.mediaDevices.enumerateDevices?"manual":(null==n?void 0:n.defaultDeviceCaptureMode)||"auto"},_onDeviceChange:{value:function(){r._enumerateDevices().then(function(e){var t=e.find(function(e){var t=e.deviceId;return"audioinput"===e.kind&&"default"!==t});t&&["deviceId","groupId"].some(function(e){return t[e]!==r._currentDefaultDeviceInfo[e]})&&(a.info("Default device changed, restarting the LocalAudioTrack"),a.debug('Old default device: "'+r._currentDefaultDeviceInfo.deviceId+'" => "'+r._currentDefaultDeviceInfo.label+'"'),a.debug('New default device: "'+t.deviceId+'" => "'+t.label+'"'),r._currentDefaultDeviceInfo=t,r._restartDefaultDevice().catch(function(e){return a.warn("Failed to restart: "+e.message)}))},function(e){a.warn("Failed to run enumerateDevices(): "+e.message)})}},_restartOnDefaultDeviceChangeCleanup:{value:null,writable:!0},noiseCancellation:{enumerable:!0,value:i,writable:!1}}),a.debug("defaultDeviceCaptureMode:",r._defaultDeviceCaptureMode),r._maybeRestartOnDefaultDeviceChange(),r}return i(t,e),t.prototype.toString=function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},t.prototype.attach=function(t){return(t=e.prototype.attach.call(this,t)).muted=!0,t},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._maybeRestartOnDefaultDeviceChange=function(){var e=this,t=this,n=t._constraints,r=t._defaultDeviceCaptureMode,i=t._log,o=(this.noiseCancellation?this.noiseCancellation.sourceTrack:this.mediaStreamTrack).getSettings().deviceId,a=function(e){return e!==o||"default"===e},s=function e(t){return void 0===t&&(t={}),"string"==typeof t?a(t):Array.isArray(t)?t.every(a):t.exact?e(t.exact):!t.ideal||e(t.ideal)}(n.deviceId);"auto"===r&&s?this._restartOnDefaultDeviceChangeCleanup||(i.info("LocalAudioTrack will be restarted if the default device changes"),navigator.mediaDevices.addEventListener("devicechange",this._onDeviceChange),this._restartOnDefaultDeviceChangeCleanup=function(){i.info("Cleaning up the listener to restart the LocalAudioTrack if the default device changes"),navigator.mediaDevices.removeEventListener("devicechange",e._onDeviceChange),e._restartOnDefaultDeviceChangeCleanup=null}):(i.info("LocalAudioTrack will NOT be restarted if the default device changes"),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup())},t.prototype._reacquireTrack=function(t){var n=this;return this._log.debug("_reacquireTrack: ",t),this.noiseCancellation?this.noiseCancellation.reacquireTrack(function(){return e.prototype._reacquireTrack.call(n,t)}):e.prototype._reacquireTrack.call(this,t)},t.prototype._restartDefaultDevice=function(){var e=this,t=Object.assign({},this._constraints),n=Object.assign({},t,{deviceId:this._currentDefaultDeviceInfo.deviceId});return this.restart(n).then(function(){e._constraints=t,e._maybeRestartOnDefaultDeviceChange()})},t.prototype._setMediaStreamTrack=function(t){var n=this,r=this._log,i=this.noiseCancellation,o=e.prototype._setMediaStreamTrack.call(this,t);return s()&&i&&(r.debug("iOS Chrome detected, checking if the restarted Krisp audio is silent"),o=o.then(function(){return a(n._dummyEl)}).then(function(t){return r.debug("Krisp audio is "+(t?"silent, using source audio":"not silent")),t&&i.disablePermanently().then(function(){return e.prototype._setMediaStreamTrack.call(n,i.sourceTrack)})})),o},t.prototype.disable=function(){return e.prototype.disable.apply(this,arguments)},t.prototype.enable=function(){return e.prototype.enable.apply(this,arguments)},t.prototype.restart=function(){return e.prototype.restart.apply(this,arguments)},t.prototype.stop=function(){return this.noiseCancellation&&this.noiseCancellation.stop(),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup(),e.prototype.stop.apply(this,arguments)},t}(n(8656)(c));e.exports=u},5586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mosToScore=t.calculateMOS=void 0;var n=94.768;t.calculateMOS=function(e,t,r){var i=e+2*t+10,o=0;switch(!0){case i<160:o=n-i/40;break;case i<1e3:o=n-(i-120)/10}return 1+.035*(o=1==r<=o/2.5?Math.max(o-2.5*r,6.52):0)+7e-6*o*(o-60)*(100-o)},t.mosToScore=function(e){return e?e>4.2?5:e>4?4:e>3.6?3:e>3?2:1:0}},5619:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=n(9722).guessBrowser,s=n(6918),c=n(6461),u=n(6456),l=n(6756),d=function(){function e(e){Object.defineProperties(this,{pc:{enumerable:!0,value:e},ice:{enumerable:!0,value:new s},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(){var e,t,n,o=this;return("firefox"===a()?(t=(e=this).pc.getTransceivers().filter(function(e){return e.currentDirection&&e.currentDirection.match(/send/)&&e.sender.track}).map(function(e){return e.sender}),n=e.pc.getTransceivers().filter(function(e){return e.currentDirection&&e.currentDirection.match(/recv/)}).map(function(e){return e.receiver}),Promise.all([p(t),p(n),e.pc.getStats()]).then(function(t){var n=r(t,3),i=n[0],o=n[1],a=n[2],s=h(e),c=g(e);i.forEach(function(t,n){return _(e,t,c,n)}),k(s,c);var u=v(e),l=b(e);o.forEach(function(t,n){return w(e,t,l,n)}),k(u,l),S(e.ice,a)})):function(e){return e.pc.getStats().then(function(t){var n=h(e),r=g(e);_(e,t,r),k(n,r);var i=v(e),o=b(e);w(e,t,o),k(i,o),S(e.ice,t)})}(this)).then(function(){var e=i([],r(o.audio.send.values())),t=i([],r(o.video.send.values())),n=i([],r(o.audio.recv.values())),a=i([],r(o.video.recv.values())),s=new c(o.ice.lastReport,{send:e.map(function(e){return e.lastReport}).filter(function(e){return e}),recv:n.map(function(e){return e.lastReport}).filter(function(e){return e})},{send:t.map(function(e){return e.lastReport}).filter(function(e){return e}),recv:a.map(function(e){return e.lastReport}).filter(function(e){return e})});return o.lastReport=s,s})},e}();function p(e){return Promise.all(e.map(function(e){var t=e.track.id;return e.getStats().then(function(e){var n,r;try{for(var i=o(e.values()),a=i.next();!a.done;a=i.next()){var s=a.value;"inbound-rtp"===s.type&&(s.id=t+"-"+s.id)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[t,e]})})).then(function(e){return new Map(e)})}function f(e,t,n,r,i){var o=t[r.mediaType];if(!i){var a=n.get(r.trackId);a&&(i=a.trackIdentifier)}if(o&&i){if(o.has(r.id))return o.get(r.id);var s=new e(i,r);o.set(r.id,s)}return null}function h(e){return{audio:e.audio.send,video:e.video.send}}function v(e){return{audio:e.audio.recv,video:e.video.recv}}function m(e,t,n,r){return f(l,h(e),t,n,r)}function y(e,t,n,r){return f(u,v(e),t,n,r)}function g(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function b(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function _(e,t,n,r){var i,s;try{for(var c=o(t.values()),u=c.next();!u.done;u=c.next()){var l=u.value;if("outbound-rtp"===l.type&&!l.isRemote){if("firefox"!==a()&&!l.trackId)continue;var d=n[l.mediaType];d&&d.delete(l.id);var p=m(e,t,l,r);if(p){var f=t.get(l.remoteId);p.next(r||p.trackId,l,f)}}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}function w(e,t,n,r){var i,a;try{for(var s=o(t.values()),c=s.next();!c.done;c=s.next()){var u=c.value;if("inbound-rtp"===u.type&&!u.isRemote){var l=n[u.mediaType];l&&l.delete(u.id);var d=y(e,t,u,r);d&&d.next(r||d.trackId,u)}}}catch(e){i={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}function k(e,t){var n=function(n){var r=e[n];t[n].forEach(function(e){return r.delete(e)})};for(var r in t)n(r)}function S(e,t){var n,r,i,a,s;try{for(var c=o(t.values()),u=c.next();!u.done;u=c.next())"transport"===(p=u.value).type&&(s=t.get(p.selectedCandidatePairId))}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(s)e.next(s);else try{for(var l=o(t.values()),d=l.next();!d.done;d=l.next()){var p;"candidate-pair"!==(p=d.value).type||!p.nominated||"selected"in p&&!p.selected||e.next(p)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}e.exports=d},5713:e=>{"use strict";var t=function(){function e(e){this.descriptionInitDict=e;var t=e&&"rollback"===e.type?null:new RTCSessionDescription(e);Object.defineProperties(this,{_description:{get:function(){return t}}})}return Object.defineProperty(e.prototype,"sdp",{get:function(){return this._description?this._description.sdp:this.descriptionInitDict.sdp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._description?this._description.type:this.descriptionInitDict.type},enumerable:!1,configurable:!0}),e}();e.exports=t},5747:(e,t,n)=>{"use strict";var r=n(9722),i=r.flatMap,o=r.guessBrowser,a=null,s=null;function c(e){return e&&function(){if("boolean"==typeof a)return a;if("undefined"==typeof RTCPeerConnection)return a=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),a=!1}catch(e){a=!0}return a}()?{"plan-b":"planb","unified-plan":"unified"}[e]:function(){if(!s)if("undefined"!=typeof RTCPeerConnection&&"addTransceiver"in RTCPeerConnection.prototype){var e=new RTCPeerConnection;try{e.addTransceiver("audio"),s="unified"}catch(e){s="planb"}e.close()}else s="planb";return s}()}function u(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce(function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t},new Set)}function l(e,t){return u(e,t)}function d(e){return l("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function p(e){return l("^a=msid:.+ +(.+) *$",e)}function f(e,t){return u("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function h(e,t,n){return void 0===t&&(t=".*"),void 0===n&&(n=".*"),e.split("\r\nm=").slice(1).map(function(e){return"m="+e}).filter(function(e){var r=new RegExp("m="+t,"gm"),i=new RegExp("a="+n,"gm");return r.test(e)&&i.test(e)})}function v(e){return Array.from(u("^a=ssrc:([0-9]+) +.*$",e))}function m(e,t){var n=h(e),r=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),o=n.filter(function(e){return e.match(r)});return new Set(i(o,v))}function y(e,t,n){return new Map(Array.from(e(n)).map(function(e){return[e,t(n,e)]}))}function g(e){return y(d,f,e)}function b(e){return y(p,m,e)}function _(e,t,n){var r=e(n),i=new Map;r.forEach(function(e,r){if(t.has(r)){var o=Array.from(t.get(r)),a=Array.from(e);o.forEach(function(e,t){var r=a[t];i.set(r,e);var o="^a=ssrc:"+r+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(o,"gm"),s)})}else t.set(r,e)});var o="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(o,"gm"))||[]).forEach(function(e){var t=e.match(new RegExp(o));if(t){var r=t[1],a=t[2].split(" ").map(function(e){return i.get(e)||e}).join(" ");n=n.replace(t[0],r+a)}}),n}t.clearChromeCachedSdpFormat=function(){s=null},t.getSdpFormat=function(e){return{chrome:c(e),firefox:"unified",safari:"undefined"!=typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[o()]||null},t.getMediaSections=h,t.getPlanBTrackIds=d,t.getUnifiedPlanTrackIds=p,t.getPlanBSSRCs=f,t.getUnifiedPlanSSRCs=m,t.updatePlanBTrackIdsToSSRCs=function(e,t){return _(g,e,t)},t.updateUnifiedPlanTrackIdsToSSRCs=function(e,t){return _(b,e,t)}},5791:(e,t,n)=>{"use strict";var r=n(4543),i=n(5438);e.exports=function(e){var t=e.send,n=e.recv,o=e.sendStats,a=void 0===o?null:o,s=e.recvStats,c=void 0===s?null:s;Object.defineProperties(this,{send:{value:t,enumerable:!0},recv:{value:n,enumerable:!0},sendStats:{value:a?new r(a):null,enumerable:!0},recvStats:{value:c?new i(c):null,enumerable:!0}})}},5847:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this)||this;return r.connect(t,n),r}return i(t,e),t}(n(8533));e.exports=o},6038:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=n(6348),o=i.difference,a=i.flatMap,s=n(3439),c={0:"PCMU",8:"PCMA"};function u(e){return Array.from(d(e)).reduce(function(e,t){var n=t[0],r=t[1],i=e.get(r)||[];return e.set(r,i.concat(n))},new Map)}function l(e){return h(e).reduce(function(e,t){var n=f(t);return n?e.set(n,t):e},new Map)}function d(e){return v(e).reduce(function(t,n){var r=new RegExp("a=rtpmap:"+n+" ([^/]+)"),i=e.match(r),o=i?i[1].toLowerCase():c[n]?c[n].toLowerCase():"";return t.set(n,o)},new Map)}function p(e,t){var n=new RegExp("^a=fmtp:"+e+" (.+)$","m"),i=t.match(n);return i&&i[1].split(";").reduce(function(e,t){var n=r(t.split("="),2),i=n[0],o=n[1];return e[i]=isNaN(o)?o:parseInt(o,10),e},{})}function f(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function h(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map(function(e){return"m="+e}).filter(function(e){var r=new RegExp("m="+(t||".*"),"gm"),i=new RegExp("a="+(n||".*"),"gm");return r.test(e)&&i.test(e)})}function v(e){var t=e.split("\r\n")[0].match(/([0-9]+)/g);return t?t.slice(1).map(function(e){return parseInt(e,10)}):[]}function m(e,t){var n=t.split("\r\n"),r=n[0],i=n.slice(1);return[r=r.replace(/([0-9]+\s?)+$/,e.join(" "))].concat(i).join("\r\n")}function y(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map(function(e){if(!/^m=(audio|video)/.test(e))return e;var n=f(e);if(!n)return e;var i=t.get(n);if(!i)return e;var o=(e.match(/^a=msid:(.+)$/m)||[])[1];if(!o)return e;var a=r(o.split(" "),2),s=a[0],c=a[1],u=new RegExp("msid:"+s+(c?" "+c:"")+"$","gm");return e.replace(u,"msid:"+s+" "+i)})).join("\r\n")}function g(e,t){var n=Object.entries(t).map(function(e){var t=r(e,2);return t[0]+"="+t[1]}).join(";");return"a=fmtp:"+e+" "+n}t.addOrRewriteNewTrackIds=function(e,t,n){var i=Array.from(n).reduce(function(n,i){var o=r(i,2),a=o[0],s=o[1];return h(e,a,"send(only|recv)").map(f).filter(function(e){return!t.has(e)}).forEach(function(e,t){return n.set(e,s[t])}),n},new Map);return y(e,i)},t.addOrRewriteTrackIds=y,t.createCodecMapForMediaSection=u,t.createPtToCodecName=d,t.disableRtx=function(e){var t=h(e);return[e.split("\r\nm=")[0]].concat(t.map(function(e){if(!/^m=video/.test(e))return e;var t=u(e).get("rtx");if(!t)return e;var n=new Set(v(e));t.forEach(function(e){return n.delete(e)});var r=e.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),i=r&&r[1],o=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(i?[new RegExp("^a=ssrc:"+i+" .+$")]:[]);return e=e.split("\r\n").filter(function(e){return o.every(function(t){return!t.test(e)})}).join("\r\n"),m(Array.from(n),e)})).join("\r\n")},t.enableDtxForOpus=function(e,t){var n=h(e),r=e.split("\r\nm=")[0];return t=t||n.filter(function(e){return/^m=audio/.test(e)}).map(f),[r].concat(n.map(function(e){if(!/^m=audio/.test(e))return e;var n=u(e).get("opus");if(!n)return e;var r=p(n,e);if(!r)return e;var i=g(n,r),o=new RegExp(i),a=f(e);t.includes(a)?r.usedtx=1:delete r.usedtx;var s=g(n,r);return e.replace(o,s)})).join("\r\n")},t.filterLocalCodecs=function(e,t){var n=h(e),i=e.split("\r\nm=")[0],o=l(t);return[i].concat(n.map(function(e){return function(e,t,n){if(!/^m=(audio|video)/.test(e))return e;var i=f(e),o=i&&t.get(i);if(!o)return e;var s=d(o),c=u(e),l=a(Array.from(s),function(t){var i=r(t,2),a=i[0],s=i[1];return"rtx"===s||n.includes(s)?[]:function(e,t,n,r,i){var o=n.get(e)||[];if(o.length<=1)return o;var a=p(t,i);if(!a)return o;var s=o.find(function(e){var t=p(e,r);return t&&Object.keys(a).every(function(e){return a[e]===t[e]})});return"number"==typeof s?[s]:o}(s,a,c,e,o)}),h=c.get("rtx")||[];l=l.concat(h.filter(function(t){var n=p(t,e);return n&&l.includes(n.apt)}));var y=e.split("\r\n").filter(function(e){var t=e.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),n=t&&t[2];return!t||n&&l.includes(parseInt(n,10))});return m(v(e).filter(function(e){return l.includes(e)}),y.join("\r\n"))}(e,o,[])})).join("\r\n")},t.getMediaSections=h,t.removeSSRCAttributes=function(e,t){return e.split("\r\n").filter(function(e){return!t.find(function(t){return new RegExp("a=ssrc:.*"+t+":","g").test(e)})}).join("\r\n")},t.revertSimulcast=function(e,t,n,r){void 0===r&&(r=!1);var i=l(n),o=l(t),a=h(e);return[e.split("\r\nm=")[0]].concat(a.map(function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var t=e.match(/^a=mid:(.+)$/m),n=t&&t[1];if(!n)return e;var a=i.get(n),s=d(a),c=v(a),u=c.length&&"vp8"===s.get(c[0]);return r||!u?o.get(n).replace(/\r\n$/,""):e})).concat("").join("\r\n")},t.setCodecPreferences=function(e,t,n){var r=h(e);return[e.split("\r\nm=")[0]].concat(r.map(function(e){if(!/^m=(audio|video)/.test(e))return e;var r=e.match(/^m=(audio|video)/)[1],i=u(e),s=function(e,t){t=t.map(function(e){return e.codec.toLowerCase()});var n=a(t,function(t){return e.get(t)||[]}),r=o(Array.from(e.keys()),t),i=a(r,function(t){return e.get(t)});return n.concat(i)}(i,"audio"===r?t:n),c=m(s,e),l=i.get("pcma")||[],d=i.get("pcmu")||[];return("audio"===r?new Set(l.concat(d)):new Set).has(s[0])?c.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):c})).join("\r\n")},t.setSimulcast=function(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map(function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var n=u(e),r=v(e),i=new Set(n.get("vp8")||[]);return r.some(function(e){return i.has(e)})?s(e,t):e})).concat("").join("\r\n")}},6112:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return i(t,e),t.prototype.toString=function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2408));e.exports=o},6135:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return i(t,e),t.prototype.toString=function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2408));e.exports=o},6192:e=>{"use strict";e.exports={recordingMediaLost:"recording-media-lost"}},6195:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(190),a=n(6348).makeUUID,s=function(e){function t(t,n,r){var i=e.call(this,a(),t,n,r)||this;return Object.defineProperties(i,{_clones:{value:new Set},_dataChannels:{value:new Set}}),i}return i(t,e),t.prototype._addClone=function(e){this._clones.add(e)},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.addDataChannel=function(e){return this._dataChannels.add(e),this},t.prototype.clone=function(){var e=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",function(){return e.removeClone(n)}),n},t.prototype.removeDataChannel=function(e){return this._dataChannels.delete(e),this},t.prototype.send=function(e){return this._dataChannels.forEach(function(t){try{t.send(e)}catch(e){}}),this._clones.forEach(function(t){try{t.send(e)}catch(e){}}),this},t.prototype.stop=function(){this._dataChannels.forEach(function(e){return e.close()}),this._clones.forEach(function(e){return e.stop()}),e.prototype.stop.call(this)},t}(o);e.exports=s},6237:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7007).EventEmitter,a=n(3249).DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS,s=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_lastStatsSaveTime:{value:null,writable:!0},_lastStatsPublishTime:{value:null,writable:!0},_log:{value:t},_processorInfo:{value:null,writable:!0},_stats:{value:null,writable:!0}}),n.on("add",function(e){n._lastStatsSaveTime=Date.now(),n._lastStatsPublishTime=Date.now(),n._processorInfo=e,n._stats=[],n._reemitEvent("add",n._getEventData())}),n.on("remove",function(){var e=n._getEventData();n._lastStatsSaveTime=null,n._lastStatsPublishTime=null,n._processorInfo=null,n._stats=null,n._reemitEvent("remove",e)}),n.on("start",function(){n._reemitEvent("start",n._getEventData())}),n.on("stop",function(e){n._reemitEvent("stop",Object.assign({message:e},n._getEventData()))}),n.on("stats",function(){return n._maybeEmitStats()}),n}return i(t,e),t.prototype._getEventData=function(){if(!this._processorInfo)return{};var e=this._processorInfo,t=e.processor,n={captureHeight:e.captureHeight,captureWidth:e.captureWidth,inputFrameRate:e.inputFrameRate,isRemoteVideoTrack:e.isRemoteVideoTrack,inputFrameBufferType:e.inputFrameBufferType,outputFrameBufferContextType:e.outputFrameBufferContextType};return n.name=t._name||"VideoProcessor",["assetsPath","blurFilterRadius","debounce","fitType","isSimdEnabled","maskBlurRadius","pipeline","version"].forEach(function(e){var r=t["_"+e];void 0!==r&&(n[e]=r)}),Object.keys(n).forEach(function(e){var t=n[e];"boolean"==typeof t&&(n[e]=t?"true":"false")}),n},t.prototype._maybeEmitStats=function(){if(this._stats&&this._processorInfo){var e=this._processorInfo.processor._benchmark;if(e){var t=Date.now();if(!(t-this._lastStatsSaveTime<1e3)){var n={outputFrameRate:e.getRate("totalProcessingDelay")};if(["captureFrameDelay","imageCompositionDelay","inputImageResizeDelay","processFrameDelay","segmentationDelay"].forEach(function(t){n[t]=e.getAverageDelay(t)}),this._lastStatsSaveTime=t,this._stats.push(n),!(t-this._lastStatsPublishTime<a)){this._lastStatsPublishTime=t;var r=this._stats.splice(0).reduce(function(e,t,r){return Object.keys(n).forEach(function(n){e[n]||(e[n]=0),e[n]=(e[n]*r+t[n])/(r+1)}),e},{});Object.keys(r).forEach(function(e){r[e]=parseFloat(r[e].toFixed(2))}),this._reemitEvent("stats",Object.assign({},r,this._getEventData()))}}}}},t.prototype._reemitEvent=function(e,t){this._log.debug("VideoProcessor:"+e,t),this.emit("event",{name:e,data:t})},t}(o);e.exports=s},6301:e=>{"use strict";e.exports=function(e){var t=e.jitter,n=void 0===t?null:t,r=e.rtt,i=void 0===r?null:r,o=e.level,a=void 0===o?null:o;Object.defineProperties(this,{jitter:{value:n,enumerable:!0},rtt:{value:i,enumerable:!0},level:{value:a,enumerable:!0}})}},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},6348:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(3249),c=s.typeErrors,u=s.trackPriority,l=n(9722),d=n(7128).sessionSID,p=n(6192);function f(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"}function h(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var i;try{i=typeof e[r]}catch(e){}"function"===i&&(t[r]=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return(e=this[n])[r].apply(e,a([],o(t)))})}}function v(e){return"object"==typeof e&&!Array.isArray(e)}function m(e){Object.getOwnPropertyNames(e).forEach(function(t){t.startsWith("_")&&y(e,t)})}function y(e,t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}function g(e){return e.map(b)}function b(e){return Array.isArray(e)?g(e):e instanceof Set?g(a([],o(e))):e instanceof Map?a([],o(e.entries())).reduce(function(e,t){var n,r=o(t,2),i=r[0],a=r[1];return Object.assign(((n={})[i]=b(a),n),e)},{}):e&&"object"==typeof e?(t=e,Object.entries(t).reduce(function(e,t){var n,r=o(t,2),i=r[0],a=r[1];return Object.assign(((n={})[i]=b(a),n),e)},{})):e;var t}function _(e){return S(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:k},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function w(e){return S(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function k(e){return S(e,[{prop:u.PRIORITY_HIGH,type:"object",transform:w},{prop:u.PRIORITY_LOW,type:"object",transform:w},{prop:u.PRIORITY_STANDARD,type:"object",transform:w}])}function S(e,t){return t.reduce(function(t,n){var r,i=n.prop,o=n.type,a=n.payloadProp,s=void 0===a?i:a,c=n.transform,u=void 0===c?function(e){return e}:c;return typeof e[i]===o?Object.assign(((r={})[s]=u(e[i]),r),t):t},{})}t.constants=s,t.createBandwidthProfilePayload=function(e){return S(e,[{prop:"video",type:"object",transform:_}])},t.createMediaSignalingPayload=function(e,t,n,r,i,o){var a={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:a}:{},t?{network_quality:a}:{},o?{render_hints:a}:{},i?{publisher_hints:a}:{},n?{track_priority:a}:{},r?{track_switch_off:a}:{})},t.createMediaWarningsPayload=function(e){var t,n=((t={})[p.recordingMediaLost]="recordings",t);return e.map(function(e){return n[e]}).filter(function(e){return!!e})},t.createRoomConnectEventPayload=function(e){function t(e){return e?"true":"false"}var n={sessionSID:d,iceServers:(e.iceServers||[]).length,audioTracks:(e.tracks||[]).filter(function(e){return"audio"===e.kind}).length,videoTracks:(e.tracks||[]).filter(function(e){return"video"===e.kind}).length,dataTracks:(e.tracks||[]).filter(function(e){return"data"===e.kind}).length};if([["audio"],["automaticSubscription"],["enableDscp"],["eventListener"],["preflight"],["video"],["dominantSpeaker","enableDominantSpeaker"]].forEach(function(r){var i=o(r,2),a=i[0],s=i[1];n[s=s||a]=t(!!e[a])}),[["maxVideoBitrate"],["maxAudioBitrate"]].forEach(function(t){var r=o(t,2),i=r[0],a=r[1];a=a||i,"number"==typeof e[i]?n[a]=e[i]:isNaN(Number(e[i]))||(n[a]=Number(e[i]))}),[["iceTransportPolicy"],["region"],["name","roomName"]].forEach(function(t){var r=o(t,2),i=r[0],a=r[1];a=a||i,"string"==typeof e[i]?n[a]=e[i]:"number"==typeof e[i]&&"name"===i&&(n[a]=e[i].toString())}),["preferredAudioCodecs","preferredVideoCodecs"].forEach(function(t){t in e&&(n[t]=JSON.stringify(e[t]))}),"networkQuality"in e&&(n.networkQualityConfiguration={},v(e.networkQuality)?["local","remote"].forEach(function(t){"number"==typeof e.networkQuality[t]&&(n.networkQualityConfiguration[t]=e.networkQuality[t])}):(n.networkQualityConfiguration.remote=0,n.networkQualityConfiguration.local=e.networkQuality?1:0)),e.bandwidthProfile&&e.bandwidthProfile.video){var r=e.bandwidthProfile.video||{};n.bandwidthProfileOptions={},["mode","maxTracks","trackSwitchOffMode","dominantSpeakerPriority","maxSubscriptionBitrate","renderDimensions","contentPreferencesMode","clientTrackSwitchOffControl"].forEach(function(e){"number"==typeof r[e]||"string"==typeof r[e]?n.bandwidthProfileOptions[e]=r[e]:"boolean"==typeof r[e]?n.bandwidthProfileOptions[e]=t(r[e]):"object"==typeof r[e]&&(n.bandwidthProfileOptions[e]=JSON.stringify(r[e]))})}return Object.entries({RTCPeerConnection:"customRTCPeerConnectionImpl",MediaStream:"customMediaStreamImpl",getUserMedia:"customGetUserMediaImpl",enumerateDevices:"customEnumerateDevicesImpl"}).forEach(function(r){var i=o(r,2),a=i[0],s=i[1];n[s]=t(void 0!==e[a])}),{group:"room",name:"connect",level:"info",payload:n}},t.createSubscribePayload=function(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}},t.asLocalTrack=function(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw c.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.asLocalTrackPublication=function(e,t,n,r){return new(0,{audio:r.LocalAudioTrackPublication,video:r.LocalVideoTrackPublication,data:r.LocalDataTrackPublication}[e.kind])(t,e,n,r)},t.capitalize=function(e){return e[0].toUpperCase()+e.slice(1)},t.deprecateEvents=function(e,t,n,r){var i=new Set;t.on("newListener",function o(a){n.has(a)&&!i.has(a)&&(r.deprecated(e+"#"+a+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(n.get(a)?" Use "+e+"#"+n.get(a)+" instead.":"")),i.add(a)),i.size>=n.size&&t.removeListener("newListener",o)})},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n},t.filterObject=function(e,t){return Object.keys(e).reduce(function(n,r){return e[r]!==t&&(n[r]=e[r]),n},{})},t.flatMap=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce(function(e,n){var r=t(n);return e.concat(r)},[])},t.getPlatform=function(){var e=f(),t=o(e.match(/\(([^)]+)\)/)||[],2)[1];return o((void 0===t?"unknown":t).split(";").map(function(e){return e.trim()}),1)[0].toLowerCase()},t.getUserAgent=f,t.hidePrivateProperties=m,t.hidePrivateAndCertainPublicPropertiesInClass=function(e,t){return function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,a([],o(n)))||this;return m(i),function(e,t){void 0===t&&(t=[]),t.forEach(function(t){e.hasOwnProperty(t)&&y(e,t)})}(i,t),i}return i(n,e),n}(e)},t.isDeepEqual=function e(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(null===t)return null===n;if(null===n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});if("object"==typeof t){var r=Object.keys(t).sort(),i=Object.keys(n).sort();return!Array.isArray(n)&&e(r,i)&&r.every(function(r){return e(t[r],n[r])})}return!1},t.isNonArrayObject=v,t.inRange=function(e,t,n){return t<=e&&e<=n},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.oncePerTick=function(e){var t=null;function n(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(n)}},t.promiseFromEvents=function(e,t,n,r){return new Promise(function(i,s){function c(){var e=[].slice.call(arguments);r&&t.removeListener(r,u),i.apply(void 0,a([],o(e)))}function u(){var e=[].slice.call(arguments);t.removeListener(n,c),s.apply(void 0,a([],o(e)))}t.once(n,c),r&&t.once(r,u),e()})},t.getOrNull=function(e,t){return t.split(".").reduce(function(e,t){return e?e[t]:null},e)},t.defer=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},t.delegateMethods=function(e,t,n){for(var r in e)h(e,t,n,r)},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach(function(e){!function(e,t,n,r){if(!(r in t))r.match(/^on[a-z]+$/)?(Object.defineProperty(t,r,{value:null,writable:!0}),n.addEventListener(r.slice(2),function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.dispatchEvent.apply(t,a([],o(e)))})):Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)})},t.legacyPromise=function(e,t,n){return t?e.then(function(e){t(e)},function(e){n(e)}):e},t.buildLogLevels=function(e){return"string"==typeof e?{default:e,media:e,signaling:e,webrtc:e}:e},t.trackClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"Track"},t.trackPublicationClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,function(e){return e.toUpperCase()})+"TrackPublication"},t.valueToJSON=b,t.withJitter=function(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)},t.isChromeScreenShareTrack=function(e){return"chrome"===l.guessBrowser()&&"video"===e.kind&&"displaySurface"in e.getSettings()},t.waitForSometime=function(e){return void 0===e&&(e=10),new Promise(function(t){return setTimeout(t,e)})},t.waitForEvent=function(e,t){return new Promise(function(n){e.addEventListener(t,function r(i){e.removeEventListener(t,r),n(i)})})}},6437:e=>{"use strict";e.exports=function(e){var t=e.fractionLost,n=void 0===t?null:t,r=e.level,i=void 0===r?null:r;Object.defineProperties(this,{fractionLost:{value:n,enumerable:!0},level:{value:i,enumerable:!0}})}},6456:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(4004),a=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return i(t,e),t.prototype.next=function(e,t){var n=this.lastStats;this.lastStats=t,this.trackId=e;var r=o.of(e,n,t);return this.lastReport=r,r},t}(n(3272));e.exports=a},6461:(e,t,n)=>{"use strict";var r=n(4004),i=n(9856),o=function(){function e(e,t,n){Object.defineProperties(this,{ice:{enumerable:!0,value:e},audio:{enumerable:!0,value:t},video:{enumerable:!0,value:n}})}return e.prototype.summarize=function(){var e=this.audio.send.concat(this.video.send),t=i.summarize(e),n=this.audio.recv.concat(this.video.recv),o=r.summarize(n);return{ice:this.ice,send:t,recv:o,audio:{send:i.summarize(this.audio.send),recv:r.summarize(this.audio.recv)},video:{send:i.summarize(this.video.send),recv:r.summarize(this.video.recv)}}},e}();e.exports=o},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},6655:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),t}return i(t,e),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t}(n(7007).EventEmitter);e.exports=o},6687:e=>{"use strict";var t=function(){function e(){Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return e.prototype.connect=function(){},e.prototype.disconnect=function(){return!!this._connected&&(this._connected=!1,!0)},e.prototype.publish=function(){return this._connected},e}();e.exports=t},6706:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(n(5791));e.exports=o},6756:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(3272),a=n(9856),s=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return i(t,e),t.prototype.next=function(e,t,n){var r=this.lastStats;this.lastStats=t,this.trackId=e;var i=a.of(e,r,t,n);return this.lastReport=i,i},t}(o);e.exports=s},6790:e=>{"use strict";e.exports=RTCSessionDescription},6863:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r,i){var o=e.call(this)||this,a=null;return Object.defineProperties(o,{_error:{value:null,writable:!0},_isEnabled:{value:r,writable:!0},_priority:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return a},set:function(e){null===a&&(a=e)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:t}}),o}return i(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sid",{get:function(){return this._sid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackTransceiver",{get:function(){return this._trackTransceiver},enumerable:!1,configurable:!0}),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!=typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t.prototype.setTrackTransceiver=function(e){return e=e||null,this.trackTransceiver!==e&&(this._trackTransceiver=e,this.emit("updated")),this},t.prototype.setSid=function(e){return null===this.sid&&(this._sid=e,this.emit("updated")),this},t}(n(7007).EventEmitter);e.exports=o},6918:(e,t,n)=>{"use strict";var r=n(798),i=function(){function e(){Object.defineProperties(this,{lastReport:{enumerable:!0,value:new r(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(e){var t=this.lastStats;if(this.lastStats=e,t){var n=t.id===e.id?r.of(t,e):new r(0,0);this.lastReport=n}return this.lastReport},e}();e.exports=i},6942:(e,t,n)=>{"use strict";var r=n(6348).defer,i=function(){function e(){Object.defineProperties(this,{_audio:{value:r(),writable:!0},_video:{value:r(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return e.prototype.resolveDeferred=function(e){"audio"===e?this._audio.resolve():this._video.resolve()},e.prototype.startDeferred=function(e){"audio"===e?this._audio=r():this._video=r()},e.prototype.whenResolved=function(e){return"audio"===e?this._audio.promise:this._video.promise},e}();e.exports=new i},6948:e=>{"use strict";e.exports=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e},trackId:{enumerable:!0,value:t},bitrate:{enumerable:!0,value:n}})}},6983:e=>{"use strict";var t="undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,n=function(){function e(n){n=Object.assign({AudioContext:t},n),Object.defineProperties(this,{_AudioContext:{value:n.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:e}})}return e.prototype.getOrCreate=function(e){if(!this._holders.has(e)&&(this._holders.add(e),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(e){}return this._audioContext},e.prototype.release=function(e){this._holders.has(e)&&(this._holders.delete(e),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))},e}();e.exports=new n},7005:(e,t,n)=>{"use strict";if("function"==typeof RTCPeerConnection)switch((0,n(9722).guessBrowser)()){case"chrome":e.exports=n(2611);break;case"firefox":e.exports=n(4728);break;case"safari":e.exports=n(9717);break;default:e.exports=RTCPeerConnection}else e.exports=function(){throw new Error("RTCPeerConnection is not supported")}},7007:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,a,u;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=h(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7017:e=>{"use strict";e.exports=function(e,t){if("string"!=typeof e)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},trackSid:{value:t.trackSid,enumerable:!0},timestamp:{value:t.timestamp,enumerable:!0},ssrc:{value:t.ssrc,enumerable:!0},packetsLost:{value:"number"==typeof t.packetsLost?t.packetsLost:null,enumerable:!0},codec:{value:"string"==typeof t.codecName?t.codecName:null,enumerable:!0}})}},7128:(e,t)=>{function n(e){for(var t="",n=0;n<32;n++)t+="1234567890abcdef".charAt(Math.floor(16*Math.random()));return""+e+t}t.sessionSID=n("SS"),t.createSID=n},7170:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(7007).EventEmitter,a=function(){function e(){Object.defineProperties(this,{_eventEmitter:{value:new o}})}return e.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},e.prototype.addEventListener=function(){var e;return(e=this._eventEmitter).addListener.apply(e,i([],r(arguments)))},e.prototype.removeEventListener=function(){var e;return(e=this._eventEmitter).removeListener.apply(e,i([],r(arguments)))},e}();e.exports=a},7260:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n,r){var i=this,o=t.clone();"data"!==t.kind&&(o.track.enabled=t.track.enabled);var a="data"===(t=o).kind||t.track.enabled;return(i=e.call(this,n,t.kind,a,r)||this).setTrackTransceiver(t),Object.defineProperties(i,{_updatedPriority:{value:r,writable:!0},id:{enumerable:!0,value:t.id}}),i}return i(t,e),Object.defineProperty(t.prototype,"updatedPriority",{get:function(){return this._updatedPriority},enumerable:!1,configurable:!0}),t.prototype.enable=function(t){return t="boolean"!=typeof t||t,this.trackTransceiver.track.enabled=t,e.prototype.enable.call(this,t)},t.prototype.publishFailed=function(e){return function(e,t){return null===e._sid&&!e._error&&(e._error=t,!0)}(this,e)&&this.emit("updated"),this},t.prototype.setPriority=function(e){return this._updatedPriority!==e&&(this._updatedPriority=e,this.emit("updated")),this},t.prototype.setSid=function(t){return this._error?this:e.prototype.setSid.call(this,t)},t.prototype.stop=function(){this.trackTransceiver.stop()},t}(n(6863));e.exports=o},7278:(e,t,n)=>{"use strict";var r=n(40),i=n(5490);function o(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,o.prototype),n}r(o,i),e.exports=o},7330:e=>{e.exports=WebSocket},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>o(c,n))u<i&&0>o(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[s]=n,r=s);else{if(!(u<i&&0>o(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],d=1,p=null,f=3,h=!1,v=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function w(e){if(m=!1,_(e),!v)if(null!==r(u))v=!0,A(k);else{var t=r(l);null!==t&&M(w,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,g(C),C=-1),h=!0;var o=f;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!x());){var a=p.callback;if("function"==typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(u)&&i(u),_(n)}else i(u);p=r(u)}if(null!==p)var c=!0;else{var d=r(l);null!==d&&M(w,d.startTime-n),c=!1}return c}finally{p=null,f=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,E=null,C=-1,O=5,P=-1;function x(){return!(t.unstable_now()-P<O)}function R(){if(null!==E){var e=t.unstable_now();P=e;var n=!0;try{n=E(!0,e)}finally{n?S():(T=!1,E=null)}}else T=!1}if("function"==typeof b)S=function(){b(R)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,j=L.port2;L.port1.onmessage=R,S=function(){j.postMessage(null)}}else S=function(){y(R,0)};function A(e){E=e,T||(T=!0,S())}function M(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,A(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(u)&&e===r(l)&&(m?(g(C),C=-1):m=!0,M(w,o-a))):(e.sortIndex=s,n(u,e),v||h||(v=!0,A(k))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7535:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createNoiseCancellationAudioProcessor=void 0;var o=n(3268),a=(n(5014),{krisp:{supportedVersion:"1.0.0",pluginFile:"krispsdk.mjs"},rnnoise:{supportedVersion:"0.6.0",pluginFile:"rnnoise_sdk.mjs"}}),s=new Map;t.createNoiseCancellationAudioProcessor=function(e,t){return r(this,void 0,void 0,function(){var n,r,c,u,l,d,p,f,h;return i(this,function(i){switch(i.label){case 0:if(n=s.get(e.vendor))return[3,6];if(!(r=a[e.vendor]))throw new Error("Unsupported NoiseCancellationOptions.vendor: "+e.vendor);c=r.supportedVersion,u=r.pluginFile,l=e.sdkAssetsPath,d=l+"/"+u,i.label=1;case 1:return i.trys.push([1,5,,6]),t.debug("loading noise cancellation sdk: ",d),[4,o(d)];case 2:return p=i.sent(),t.debug("Loaded noise cancellation sdk:",p),f=p.default,function(e){var t=e.supportedVersion,n=e.plugin,r=e.log;if(!n.getVersion||!n.isSupported)throw new Error("Plugin does not export getVersion/isSupported api. Are you using old version of the plugin ?");var i=n.getVersion();r.debug("Plugin Version = "+i);var o=t.split(".").map(function(e){return Number(e)}),a=i.split(".").map(function(e){return Number(e)});if(3!==o.length||3!==a.length)throw new Error("Unsupported Plugin version format: "+t+", "+i);if(o[0]!==a[0])throw new Error("Major version mismatch: [Plugin version "+i+"],  [Supported Version "+t+"]");if(a[1]<o[1])throw new Error("Minor version mismatch: [Plugin version "+i+"] < [Supported Version "+t+"]");var s=new AudioContext,c=n.isSupported(s);if(s.close(),!c)throw new Error("Noise Cancellation plugin is not supported on your browser")}({supportedVersion:c,plugin:f,log:t}),f.isInitialized()?[3,4]:(t.debug("initializing noise cancellation sdk: ",l),[4,f.init({rootDir:l})]);case 3:i.sent(),t.debug("noise cancellation sdk initialized!"),i.label=4;case 4:return n={vendor:e.vendor,isInitialized:function(){return f.isInitialized()},isConnected:function(){return f.isConnected()},isEnabled:function(){return f.isEnabled()},disconnect:function(){return f.disconnect()},enable:function(){return f.enable()},disable:function(){return f.disable()},destroy:function(){return f.destroy()},setLogging:function(e){return f.setLogging(e)},connect:function(e){t.debug("connect: ",e.id),f.isConnected()&&f.disconnect();var n=f.connect(new MediaStream([e]));if(!n)throw new Error("Error connecting with noise cancellation sdk");var r=n.getAudioTracks()[0];if(!r)throw new Error("Error getting clean track from noise cancellation sdk");return f.enable(),r}},s.set(e.vendor,n),[3,6];case 5:throw h=i.sent(),t.error("Error loading noise cancellation sdk:"+d,h),h;case 6:return[2,n]}})})}},7584:e=>{var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(e,n){for(var r=0;r<i.length;r++){var o=i[r];this[o]=r<e?t:this.methodFactory(o,e,n)}this.log=this.debug}function c(e,t,r){return function(){typeof console!==n&&(s.call(this,t,r),this[e].apply(this,arguments))}}function u(e,i,s){return function(e){return"debug"===e&&(e="log"),typeof console!==n&&("trace"===e&&r?a:void 0!==console[e]?o(console,e):void 0!==console.log?o(console,"log"):t)}(e)||c.apply(this,arguments)}function l(e,t,r){var o,a=this,c="loglevel";function l(){var e;if(typeof window!==n&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===n)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(c)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=r||u,a.getLevel=function(){return o},a.setLevel=function(t,r){if("string"==typeof t&&void 0!==a.levels[t.toUpperCase()]&&(t=a.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(o=t,!1!==r&&function(e){var t=(i[e]||"silent").toUpperCase();if(typeof window!==n&&c){try{return void(window.localStorage[c]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(e){}}}(t),s.call(a,t,e),typeof console===n&&t<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){l()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var d=l();null==d&&(d=null==t?"WARN":t),a.setLevel(d,!1)}var d=new l,p={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new l(e,d.getLevel(),d.methodFactory)),t};var f=typeof window!==n?window.log:void 0;d.noConflict=function(){return typeof window!==n&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return p},d.default=d,e.exports=d},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7714:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),t}return i(t,e),t.prototype.addTrack=function(t,n,r,i){void 0===i&&(i=null);var o=this._createLocalTrackPublicationSignaling(t,n,r,i);return this._trackSendersToPublications.set(t,o),this._publicationsToTrackSenders.set(o,t),e.prototype.addTrack.call(this,o),this},t.prototype.getPublication=function(e){return this._trackSendersToPublications.get(e)||null},t.prototype.getSender=function(e){return this._publicationsToTrackSenders.get(e)||null},t.prototype.removeTrack=function(t){var n=this._trackSendersToPublications.get(t);return n?(this._trackSendersToPublications.delete(t),this._publicationsToTrackSenders.delete(n),e.prototype.removeTrack.call(this,n)&&n.stop(),n):null},t}(n(8533));e.exports=o},7762:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this)||this;return t=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},t),Object.defineProperties(r,{maxAudioBitrate:{value:t.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:t.maxVideoBitrate,writable:!0},adaptiveSimulcast:{value:n}}),r}return i(t,e),t.prototype.toJSON=function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}},t.prototype.update=function(e){var t=this;e=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},e),["maxAudioBitrate","maxVideoBitrate"].reduce(function(n,r){return t[r]!==e[r]&&(t[r]=e[r],n=!0),n},!1)&&this.emit("changed")},t}(n(7007).EventEmitter);e.exports=o},7776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTurnCredentials=void 0;var r=n(3719),i=n(3249).ICE_VERSION,o=n(3002),a=o.createTwilioError,s=o.SignalingConnectionError,c=n(7007);t.getTurnCredentials=function(e,t){return new Promise(function(n,o){var u=new c.EventEmitter,l=new r(t,{networkMonitor:null,eventObserver:u,helloBody:{edge:"roaming",preflight:!0,token:e,type:"ice",version:i}}),d=!1;l.once("close",function(){d||(d=!0,o(new s))}),l.on("message",function(e){var t=e.code,r=e.message,i=e.ice_servers,s=e.type;"iced"!==s&&"error"!==s||d||(d=!0,"iced"===s?n(i):o(a(t,r)),l.close())})})}},7784:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(1049),a=n(6348),s=a.buildLogLevels,c=a.valueToJSON,u=n(3249).DEFAULT_LOG_LEVEL,l=n(5014),d=0,p=function(e){function t(t,n,r){var i;r=Object.assign({name:t,log:null,logLevel:u},r),i=e.call(this)||this;var o=String(r.name),a=s(r.logLevel),c=r.log?r.log.createLog("media",i):new l("media",i,a,r.loggerName);return Object.defineProperties(i,{_instanceId:{value:++d},_log:{value:c},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:o}}),i}return i(t,e),t.prototype.toJSON=function(){return c(this)},t}(o);e.exports=p},7797:e=>{"use strict";var t=null;e.exports=function(e){return t=t||document.createElement("canvas"),new Promise(function(n){var r=3;setTimeout(function i(){return r--,function(e){try{var n=t.getContext("2d");n.drawImage(e,0,0,50,50);var r=n.getImageData(0,0,50,50).data.filter(function(e,t){return(t+1)%4});return 0===Math.max.apply(Math,r)}catch(e){return console.log("Error checking silence: ",e),!1}}(e)?r>0?setTimeout(i,250):n(!0):n(!1)},250)})}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7872:e=>{"use strict";e.exports=function(e){return(e=e.filter(function(e){return"number"==typeof e})).length<1?void 0:e.reduce(function(e,t){return t+e})/e.length}},7942:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=n(979),s=n(8984),c=n(85),u=n(3461).NullObserver,l=n(3459),d=function(e){function t(t,n,r,i,o,a,s){var c=this;return s=Object.assign({clientTrackSwitchOffControl:"auto",contentPreferencesMode:"auto",enableDocumentVisibilityTurnOff:!0},s),s=Object.assign({IntersectionObserver:"undefined"==typeof IntersectionObserver||"auto"!==s.clientTrackSwitchOffControl?u:IntersectionObserver,ResizeObserver:"undefined"==typeof ResizeObserver||"auto"!==s.contentPreferencesMode?u:ResizeObserver},s),c=e.call(this,t,n,r,i,o,a,s)||this,Object.defineProperties(c,{_enableDocumentVisibilityTurnOff:{value:!0===s.enableDocumentVisibilityTurnOff&&"auto"===s.clientTrackSwitchOffControl},_documentVisibilityTurnOffCleanup:{value:null,writable:!0},_clientTrackSwitchOffControl:{value:s.clientTrackSwitchOffControl},_contentPreferencesMode:{value:s.contentPreferencesMode},_invisibleElements:{value:new WeakSet},_elToPipCallbacks:{value:new WeakMap},_elToPipWindows:{value:new WeakMap},_turnOffTimer:{value:new l(function(){c._setRenderHint({enabled:!1})},50,!1)},_resizeObserver:{value:new s.ResizeObserver(function(e){e.find(function(e){return!c._invisibleElements.has(e.target)})&&f(c)})},_intersectionObserver:{value:new s.IntersectionObserver(function(e){var t=!1;e.forEach(function(e){!c._invisibleElements.has(e.target)!==e.isIntersecting&&(e.isIntersecting?(c._log.debug("intersectionObserver detected: Off => On"),c._invisibleElements.delete(e.target)):(c._log.debug("intersectionObserver detected: On => Off"),c._invisibleElements.add(e.target)),t=!0)}),t&&(p(c),f(c))},{threshold:.25})}}),c}return i(t,e),t.prototype._start=function(t){var n=e.prototype._start.call(this,t);return p(this),n},t.prototype.switchOn=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!0}),this},t.prototype.switchOff=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOff only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!1}),this},t.prototype.setContentPreferences=function(e){if("manual"!==this._contentPreferencesMode)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.contentPreferencesMode is set to "manual"');return e.renderDimensions&&this._setRenderHint({renderDimensions:e.renderDimensions}),this},t.prototype._unObservePip=function(e){var t=this._elToPipCallbacks.get(e);t&&(e.removeEventListener("enterpictureinpicture",t.onEnterPip),e.removeEventListener("leavepictureinpicture",t.onLeavePip),this._elToPipCallbacks.delete(e))},t.prototype._observePip=function(e){var t=this;if(!this._elToPipCallbacks.get(e)){var n=function(n){return t._onEnterPip(n,e)},r=function(n){return t._onLeavePip(n,e)};e.addEventListener("enterpictureinpicture",n),e.addEventListener("leavepictureinpicture",r),this._elToPipCallbacks.set(e,{onEnterPip:n,onLeavePip:r,onResizePip:function(n){return t._onResizePip(n,e)}})}},t.prototype._onEnterPip=function(e,t){this._log.debug("onEnterPip");var n=e.pictureInPictureWindow;this._elToPipWindows.set(t,n);var r=this._elToPipCallbacks.get(t).onResizePip;n.addEventListener("resize",r),p(this)},t.prototype._onLeavePip=function(e,t){this._log.debug("onLeavePip"),this._elToPipWindows.delete(t);var n=this._elToPipCallbacks.get(t).onResizePip;e.pictureInPictureWindow.removeEventListener("resize",n),p(this)},t.prototype._onResizePip=function(){f(this)},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return"auto"===this._clientTrackSwitchOffControl&&this._invisibleElements.add(n),this._intersectionObserver.observe(n),this._resizeObserver.observe(n),this._enableDocumentVisibilityTurnOff&&(this._documentVisibilityTurnOffCleanup=this._documentVisibilityTurnOffCleanup||function(e){function t(){p(e)}return c.onVisibilityChange(1,t),function(){c.offVisibilityChange(1,t)}}(this)),this._observePip(n),n},t.prototype.detach=function(t){var n=this,r=e.prototype.detach.call(this,t);return(Array.isArray(r)?r:[r]).forEach(function(e){n._intersectionObserver.unobserve(e),n._resizeObserver.unobserve(e),n._invisibleElements.delete(e),n._unObservePip(e)}),0===this._attachments.size&&this._documentVisibilityTurnOffCleanup&&(this._documentVisibilityTurnOffCleanup(),this._documentVisibilityTurnOffCleanup=null),p(this),f(this),r},t.prototype.addProcessor=function(){return e.prototype.addProcessor.apply(this,arguments)},t.prototype.removeProcessor=function(){return e.prototype.removeProcessor.apply(this,arguments)},t.prototype.toString=function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(a(s));function p(e){if("auto"===e._clientTrackSwitchOffControl){var t=e._getAllAttachedElements().filter(function(t){return!e._invisibleElements.has(t)});!0===(e._getAllAttachedElements().filter(function(t){return e._elToPipWindows.has(t)}).length>0||function(e){if(!("documentPictureInPicture"in globalThis))return!1;var t=globalThis.documentPictureInPicture.window;if(!t)return!1;var n=new WeakSet(t.document.querySelectorAll("video"));return e._getAllAttachedElements().some(function(e){return n.has(e)})}(e)||"visible"===document.visibilityState&&t.length>0)?(e._turnOffTimer.clear(),e._setRenderHint({enabled:!0})):e._turnOffTimer.isSet||e._turnOffTimer.start()}}function f(e){if("auto"===e._contentPreferencesMode){var t=e._getAllAttachedElements().filter(function(t){return!e._invisibleElements.has(t)}),n=e._getAllAttachedElements().map(function(t){var n=e._elToPipWindows.get(t);return n?{clientHeight:n.height,clientWidth:n.width}:{clientHeight:0,clientWidth:0}}),r=t.concat(n);if(r.length>0){var i=o(r.sort(function(e,t){return t.clientHeight+t.clientWidth-e.clientHeight-e.clientWidth-1}),1)[0],a={height:i.clientHeight,width:i.clientWidth};e._setRenderHint({renderDimensions:a})}}}e.exports=d},7950:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_revision:{value:1,writable:!0}}),t}return i(t,e),t.prototype.update=function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.is_recording))},t}(n(6655));e.exports=o},8027:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2780),o=n(544),a={connect:n(585),createLocalAudioTrack:n(2793).audio,createLocalVideoTrack:n(2793).video,isSupported:n(2963)(),version:n(4084).version,Logger:n(7584),LocalAudioTrack:n(4228).LocalAudioTrack,LocalDataTrack:n(4228).LocalDataTrack,LocalVideoTrack:n(4228).LocalVideoTrack},s=a.isSupported,c=a.version,u=a.Logger,l=a.LocalAudioTrack,d=a.LocalVideoTrack,p=a.LocalDataTrack;e.exports={connect:function(e,t){var n=r({createLocalTracks:i.createLocalTracks},t);return a.connect(e,n)},createLocalAudioTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return a.createLocalAudioTrack(t)},createLocalVideoTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return a.createLocalVideoTrack(t)},createLocalTracks:i.createLocalTracks,runPreflight:o.runPreflight,isSupported:s,version:c,Logger:u,LocalAudioTrack:l,LocalVideoTrack:d,LocalDataTrack:p}},8095:e=>{"use strict";var t=function(){function e(){Object.defineProperties(this,{_samples:{value:[{denominator:0,numerator:0},{denominator:0,numerator:0}]}})}return e.prototype.get=function(){var e=this._samples,t=e[1].denominator-e[0].denominator||1/0;return(e[1].numerator-e[0].numerator)/t},e.prototype.putSample=function(e,t){var n=this._samples;n.shift(),n.push({denominator:t,numerator:e})},e}();e.exports=t},8217:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(6655),a=n(8641),s=n(3459),c=n(6348).buildLogLevels,u=n(3249).DEFAULT_LOG_LEVEL,l=n(5014),d=n(3002),p=d.MediaConnectionError,f=d.MediaDTLSTransportFailedError,h=d.SignalingConnectionDisconnectedError,v=0,m={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},y=function(e){function t(t,n,r,i){var a=this;i=Object.assign({logLevel:u,RecordingSignaling:o,Timeout:s},i);var d=c(i.logLevel);a=e.call(this,"connected",m)||this;var p=i.RecordingSignaling,h=new i.Timeout(function(){a._disconnect(a._reconnectingError)},i.sessionTimeout,!1);return Object.defineProperties(a,{_instanceId:{value:v++},_log:{value:i.log?i.log.createLog("default",a):new l("default",a,d,i.loggerName)},_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:i},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:h},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:r},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new p},sid:{enumerable:!0,value:n}}),a.on("connectionStateChanged",function(){"failed"!==a.connectionState||["disconnected","failed"].includes(a.iceConnectionState)||a._disconnect(new f)}),a.on("iceConnectionStateChanged",function(){return g(a)}),a.on("signalingConnectionStateChanged",function(){return g(a)}),setTimeout(function(){return g(a)}),a}return i(t,e),t.prototype._disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),!0)},t.prototype.toString=function(){return"[RoomSignaling #"+this._instanceId+": "+(this.localParticipant?this.localParticipant.sid:"null")+"]"},t.prototype.connectParticipant=function(e){var t=this;return"disconnected"!==e.state&&!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",function n(r){"disconnected"===r&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))}),this.emit("participantConnected",e),!0)},t.prototype.disconnect=function(){return this._disconnect()},t.prototype.setDominantSpeaker=function(e){this.dominantSpeakerSid=e,this.emit("dominantSpeakerChanged")},t}(a);function g(e){var t;"disconnected"!==e.state&&"disconnected"!==e.signalingConnectionState?("reconnecting"===e.signalingConnectionState?t=e.signalingConnectionState:"failed"===e.iceConnectionState?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):"new"===e.iceConnectionState||"checking"===e.iceConnectionState?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&("reconnecting"===t?(e._reconnectingError="reconnecting"===e.signalingConnectionState?new h:new p,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))):e._sessionTimeout.clear()}e.exports=y},8302:e=>{"use strict";var t=function(){function e(e,t){var n=this,r=(t=Object.assign({navigator,window},t)).navigator,i=r.connection||{type:null},o=i.type,a=i.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var t=o!==n.type&&n.isOnline;o=n.type,t&&e()}},_target:{value:i}}:{_events:{value:["online"]},_listener:{value:e},_target:{value:t.window}},s=a._events,c=a._listener,u=a._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return"boolean"!=typeof r.onLine||r.onLine}},type:{enumerable:!0,get:function(){return i.type||null}},_listener:c,_events:s,_target:u})}return e.prototype.start=function(){var e=this;this._events.forEach(function(t){e._target.addEventListener(t,e._listener)})},e.prototype.stop=function(){var e=this;this._events.forEach(function(t){e._target.removeEventListener(t,e._listener)})},e}();e.exports=t},8343:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.toString=function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2703));e.exports=o},8375:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.attach=function(){return e.prototype.attach.apply(this,arguments)},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t}(n(3261));e.exports=o},8426:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=n(7007),s=n(5619),c=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{_factories:{value:new WeakMap},_manager:{value:t},_signaling:{value:n}}),n.on("updated",function(){return r.emit("updated")}),r}return i(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._signaling.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._signaling.levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._signaling.remoteLevels},enumerable:!1,configurable:!0}),t.prototype.start=function(){var e=this;this.stop();var t=setTimeout(function(){var n,r;e._timeout===t&&(n=e,r=(n._manager._peerConnections?Array.from(n._manager._peerConnections.values()):[]).map(function(e){return e._peerConnection}).filter(function(e){return"closed"!==e.signalingState}).map(function(e){if(n._factories.has(e))return n._factories.get(e);var t=new s(e);return n._factories.set(e,t),t}).map(function(e){return e.next().catch(function(){return null})}),Promise.all(r).then(function(e){return e.filter(function(e){return e}).map(function(e){return e.summarize()})})).then(function(n){if(e._timeout===t){if(n.length){var r=o(n,1)[0];e._signaling.put(r)}e.start()}})},200);this._timeout=t},t.prototype.stop=function(){clearTimeout(this._timeout),this._timeout=null},t}(a);e.exports=c},8533:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(8641),a=n(4357),s={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},c=function(e){function t(){var t=e.call(this,"connecting",s)||this;return Object.defineProperties(t,{_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),t}return i(t,e),Object.defineProperty(t.prototype,"networkQualityLevel",{get:function(){return this._networkQualityLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"networkQualityStats",{get:function(){return this._networkQualityStats},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){return this.tracks.set(e.id||e.sid,e),this.emit("trackAdded",e),this},t.prototype.disconnect=function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)},t.prototype.removeTrack=function(e){var t=this.tracks.get(e.id||e.sid);return this.tracks.delete(e.id||e.sid),t&&this.emit("trackRemoved",e),t||null},t.prototype.setNetworkQualityLevel=function(e,t){this._networkQualityLevel!==e&&(this._networkQualityLevel=e,this._networkQualityStats=t&&(t.audio||t.video)?new a(t):null,this.emit("networkQualityLevelChanged"))},t.prototype.connect=function(e,t){return("connecting"===this.state||"reconnecting"===this.state)&&(this._sid||(this._sid=e),this._identity||(this._identity=t),this.preempt("connected"),!0)},t.prototype.reconnecting=function(){return("connecting"===this.state||"connected"===this.state)&&(this.preempt("reconnecting"),!0)},t}(o);e.exports=c},8602:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(9722).guessBrowser,c=n(2341),u=n(3619),l=n(5376),d=n(6348),p=n(3002).MediaConnectionError,f="firefox"===s(),h=function(e){function t(t,r,i){var o=e.call(this)||this,a=(i=Object.assign({audioContextFactory:f?n(6983):null,PeerConnectionV2:c},i)).audioContextFactory?i.audioContextFactory.getOrCreate(o):null,s=a?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(o,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:d.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:a?new u(v(a)):null},_encodingParameters:{value:t},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:s},_peerConnections:{value:new Map},_preferredCodecs:{value:r},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),o}return i(t,e),t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._peerConnections.forEach(function(t){return t.setEffectiveAdaptiveSimulcast(e)}),this._preferredCodecs.video.forEach(function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)})},Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._closeAbsentPeerConnections=function(e){var t=new Set(e.map(function(e){return e.id}));return this._peerConnections.forEach(function(e){t.has(e.id)||e._close()}),this},t.prototype._getConfiguration=function(){return this._configurationDeferred.promise},t.prototype._getOrCreate=function(e,t){var n=this,r=this,i=this._peerConnections.get(e);if(!i){var o=this._PeerConnectionV2,a=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},t);try{i=new o(e,this._encodingParameters,this._preferredCodecs,a)}catch(e){throw new p}this._peerConnections.set(i.id,i),i.on("candidates",this.queue.bind(this,"candidates")),i.on("description",this.queue.bind(this,"description")),i.on("trackAdded",this.queue.bind(this,"trackAdded")),i.on("stateChanged",function e(t){"closed"===t&&(i.removeListener("stateChanged",e),r._dataTrackSenders.forEach(function(e){return i.removeDataTrackSender(e)}),r._mediaTrackSenders.forEach(function(e){return i.removeMediaTrackSender(e)}),r._peerConnections.delete(i.id),r._closedPeerConnectionIds.add(i.id),k(r),w(r))}),i.on("connectionStateChanged",function(){return k(n)}),i.on("iceConnectionStateChanged",function(){return w(n)}),this._dataTrackSenders.forEach(i.addDataTrackSender,i),this._mediaTrackSenders.forEach(i.addMediaTrackSender,i),w(this)}return i},t.prototype.close=function(){return this._peerConnections.forEach(function(e){e.close()}),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),w(this),this},t.prototype.createAndOffer=function(){var e=this;return this._getConfiguration().then(function(t){var n;do{n=d.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)}).then(function(e){return e.offer()}).then(function(){return e})},t.prototype.getTrackReceivers=function(){return d.flatMap(this._peerConnections,function(e){return e.getTrackReceivers()})},t.prototype.getStates=function(){var e=[];return this._peerConnections.forEach(function(t){var n=t.getState();n&&e.push(n)}),e},t.prototype.setConfiguration=function(e){return this._configuration&&(this._configurationDeferred=d.defer(),this._peerConnections.forEach(function(t){t.setConfiguration(e)})),this._configuration=e,this._configurationDeferred.resolve(e),this},t.prototype.setIceReconnectTimeout=function(e){return null===this._sessionTimeout&&(this._peerConnections.forEach(function(t){t.setIceReconnectTimeout(e)}),this._sessionTimeout=e),this},t.prototype.setTrackSenders=function(e){var t=new Set(e.filter(function(e){return"data"===e.kind})),n=new Set(e.filter(function(e){return e&&("audio"===e.kind||"video"===e.kind)})),r=function(e,t,n){return{data:m(e,t),media:y(e,n)}}(this,t,n);return this._dataTrackSenders=t,this._mediaTrackSenders=n,function(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach(function(e){t.data.remove.forEach(e.removeDataTrackSender,e),t.media.remove.forEach(e.removeMediaTrackSender,e),t.data.add.forEach(e.addDataTrackSender,e),t.media.add.forEach(e.addMediaTrackSender,e),(t.media.add.size||t.media.remove.size||t.data.add.size&&!e.isApplicationSectionNegotiated)&&e.offer()})}(this,r),this},t.prototype.update=function(e,t){var n=this;return void 0===t&&(t=!1),t&&this._closeAbsentPeerConnections(e),this._getConfiguration().then(function(t){return Promise.all(e.map(function(e){return n._closedPeerConnectionIds.has(e.id)?null:n._getOrCreate(e.id,t).update(e)}))}).then(function(){return n})},t.prototype.getStats=function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map(function(e){return e.getStats().then(function(t){return[e.id,t]})})).then(function(e){return new Map(e)})},t}(l);function v(e){return e.createMediaStreamDestination().stream.getAudioTracks()[0]}function m(e,t){return{add:d.difference(t,e._dataTrackSenders),remove:d.difference(e._dataTrackSenders,t)}}function y(e,t){return{add:d.difference(t,e._mediaTrackSenders),remove:d.difference(e._mediaTrackSenders,t)}}var g,b={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3};function _(e){return e.length?(g=g||Object.keys(b).reduce(function(e,t){var n;return Object.assign(e,((n={})[b[t]]=t,n))},{}),e.reduce(function(e,t){return g[Math.max(b[e],b[t])]})):"new"}function w(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=_(a([],o(e._peerConnections.values())).map(function(e){return e.iceConnectionState})),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function k(e){e._lastConnectionState=e.connectionState,e._connectionState=_(a([],o(e._peerConnections.values())).map(function(e){return e.connectionState})),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}e.exports=h},8641:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(7007).EventEmitter,c=n(6348),u=function(e){function t(t,n){var r,i=e.call(this)||this,o=null,a=t;return n=function(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}(n),Object.defineProperties(i,{_lock:{get:function(){return o},set:function(e){o=e}},_reachableStates:{value:(r=n,Array.from(r.keys()).reduce(function(e,t){return e.set(t,d(r,t))},new Map))},_state:{get:function(){return a},set:function(e){a=e}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==o}},state:{enumerable:!0,get:function(){return a}}}),i.on("stateChanged",function(e){i._whenDeferreds.forEach(function(t){t.when(e,t.resolve,t.reject)})}),i}return i(t,e),t.prototype._whenPromise=function(e){var t=this;if("function"!=typeof e)return Promise.reject(new Error("when() executor must be a function"));var n=c.defer();return n.when=e,this._whenDeferreds.add(n),n.promise.then(function(e){return t._whenDeferreds.delete(n),e},function(e){throw t._whenDeferreds.delete(n),e})},t.prototype.bracket=function(e,t){var n,r=this;function i(e){if(r.hasLock(n)&&r.releaseLockCompletely(n),e)throw e}return this.takeLock(e).then(function(e){return t(n=e)}).then(function(e){return i(),e},i)},t.prototype.hasLock=function(e){return this._lock===e},t.prototype.preempt=function(e,t,n){if(!l(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r;this.isLocked&&(r=this._lock,this._lock=null);var i=null;t&&(i=this.takeLockSync(t));var o=i?null:this.takeLockSync("preemption");return this.transition(e,i||o,n),r&&r.resolve(),o&&this.releaseLock(o),i},t.prototype.releaseLock=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--},t.prototype.releaseLockCompletely=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()},t.prototype.takeLock=function(e){var t=this;if("object"==typeof e){var n=e;return new Promise(function(e){e(t.takeLockSync(n))})}var r=e;if(this.isLocked){var i=this.takeLock.bind(this,r);return this._lock.promise.then(i)}return Promise.resolve(this.takeLockSync(r))},t.prototype.takeLockSync=function(e){var t="string"==typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=function(e){var t=c.defer();return t.name=e,t.depth=0,t}(n);return this._lock=r,r},t.prototype.transition=function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!l(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,a([],o(["stateChanged",e].concat(n))))},t.prototype.tryTransition=function(e,t,n){try{this.transition(e,t,n)}catch(e){return!1}return!0},t.prototype.when=function(e){var t=this;return this.state===e?Promise.resolve(this):l(this._reachableStates,this.state,e)?this._whenPromise(function(n,r,i){n===e?r(t):l(t._reachableStates,n,e)||i(p(n,e))}):Promise.reject(p(this.state,e))},t}(s);function l(e,t,n){return e.get(t).has(n)}function d(e,t,n){return n=n||new Set,e.get(t).forEach(function(t){n.has(t)||(n.add(t),d(e,t,n).forEach(n.add,n))}),n}function p(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}e.exports=u},8656:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(9977).getUserMedia,a=n(1013).isIOS,s=n(6348),c=s.capitalize,u=s.defer,l=s.waitForSometime,d=s.waitForEvent,p=n(3249).typeErrors.ILLEGAL_INVOKE,f=n(4632),h=n(7797),v=n(85),m=n(6942),y=n(1842),g=n(3619);function b(e){var t=e._log,n=e.kind,r=e._noiseCancellation,i={audio:f,video:h}[n],o=function(){return r?r.sourceTrack:e.mediaStreamTrack},a=e._dummyEl,s=o(),c=null;function p(){return Promise.race([d(s,"unmute"),l(50)]).then(function(){return n=e._workaroundWebKitBug1208516Cleanup,r=e.isStopped&&!!n,s=o().muted,Promise.resolve().then(function(){return"visible"===document.visibilityState&&!c&&(s||r||a.play().then(function(){return i(a)}).then(function(e){return e?t.warn("Silence detected"):t.info("Non-silence detected"),e}).catch(function(e){t.warn("Failed to detect silence:",e)}).finally(function(){e.processedTrack||a.pause()}))});var n,r,s}).then(function(r){return r&&!c&&(c=u(),e._restart().finally(function(){a=e._dummyEl,b(),s=o(),g(),c.resolve(),c=null}).catch(function(e){t.error("failed to restart track: ",e)})),(c&&c.promise||Promise.resolve()).finally(function(){return m.resolveDeferred(n)})}).catch(function(e){t.error("error in maybeRestart: "+e.message)})}function y(){var t=e._log,n=e.kind;t.info("Muted"),t.debug("LocalMediaTrack:",e),m.startDeferred(n)}function g(){s.addEventListener?(s.addEventListener("ended",p),s.addEventListener("mute",y),s.addEventListener("unmute",p)):(s.onended=p,s.onmute=y,s.onunmute=p)}function b(){s.removeEventListener?(s.removeEventListener("ended",p),s.removeEventListener("mute",y),s.removeEventListener("unmute",p)):(s.onended=null,s.onmute=null,s.onunmute=null)}var _=function(e){return!!e&&p()};return v.onVisibilityChange(1,_),g(),function(){v.offVisibilityChange(1,_),b()}}e.exports=function(e){return function(e){function t(t,n){var r=this,i=a()&&"object"==typeof document&&"function"==typeof document.addEventListener&&"string"==typeof document.visibilityState;n=Object.assign({getUserMedia:o,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:i,gUMSilentTrackWorkaround:y},n);var s=new g(t),c=s.kind;return r=e.call(this,s,n)||this,Object.defineProperties(r,{_constraints:{value:"object"==typeof n[c]?n[c]:{},writable:!0},_getUserMedia:{value:n.getUserMedia},_gUMSilentTrackWorkaround:{value:n.gUMSilentTrackWorkaround},_eventsToReemitters:{value:new Map([["muted",function(){return r.emit("muted",r)}],["unmuted",function(){return r.emit("unmuted",r)}]])},_workaroundWebKitBug1208516:{value:n.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:n.isCreatedByCreateLocalTracks},_noiseCancellation:{value:n.noiseCancellation||null},_trackSender:{value:s},id:{enumerable:!0,value:s.id},isEnabled:{enumerable:!0,get:function(){return s.enabled}},isMuted:{enumerable:!0,get:function(){return s.muted}},isStopped:{enumerable:!0,get:function(){return"ended"===s.readyState}}}),r._workaroundWebKitBug1208516&&(r._workaroundWebKitBug1208516Cleanup=b(r)),r._reemitTrackSenderEvents(),r}return i(t,e),t.prototype._end=function(){var t=this;this._didCallEnd||(e.prototype._end.call(this),this._didCallEnd=!0,this._eventsToReemitters.forEach(function(e,n){return t._trackSender.removeListener(n,e)}),this.emit("stopped",this))},t.prototype._initialize=function(){this._didCallEnd&&(this._didCallEnd=!1),this._eventsToReemitters&&this._reemitTrackSenderEvents(),e.prototype._initialize.call(this)},t.prototype._reacquireTrack=function(e){var t,n=this,r=n._getUserMedia,i=n._gUMSilentTrackWorkaround,o=n._log,a=n.mediaStreamTrack.kind;o.info("Re-acquiring the MediaStreamTrack"),o.debug("Constraints:",e);var s=Object.assign({audio:!1,video:!1},((t={})[a]=e,t));return(this._workaroundWebKitBug1208516Cleanup?i(o,r,s):r(s)).then(function(e){return e.getTracks()[0]})},t.prototype._reemitTrackSenderEvents=function(){var e=this;this._eventsToReemitters.forEach(function(t,n){return e._trackSender.on(n,t)}),this._trackSender.dequeue("muted"),this._trackSender.dequeue("unmuted")},t.prototype._restart=function(e){var t=this,n=this._log;return e=e||this._constraints,this._stop(),this._reacquireTrack(e).catch(function(t){throw n.error("Failed to re-acquire the MediaStreamTrack:",{error:t,constraints:e}),t}).then(function(r){return n.info("Re-acquired the MediaStreamTrack"),n.debug("MediaStreamTrack:",r),t._constraints=Object.assign({},e),t._setMediaStreamTrack(r)})},t.prototype._setMediaStreamTrack=function(e){var t=this;return e.enabled=this.mediaStreamTrack.enabled,this._stop(),(this._unprocessedTrack?Promise.resolve().then(function(){t._unprocessedTrack=e}):this._trackSender.setMediaStreamTrack(e).catch(function(n){t._log.warn("setMediaStreamTrack failed:",{error:n,mediaStreamTrack:e})})).then(function(){t._initialize(),t._getAllAttachedElements().forEach(function(e){return t._attach(e)})})},t.prototype._stop=function(){return this.mediaStreamTrack.stop(),this._end(),this},t.prototype.enable=function(e){return(e="boolean"!=typeof e||e)!==this.mediaStreamTrack.enabled&&(this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this.emit(e?"enabled":"disabled",this)),this},t.prototype.disable=function(){return this.enable(!1)},t.prototype.restart=function(e){var t=this,n=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(p("restart","can only be called on a Local"+c(n)+"Track that is created using createLocalTracks or createLocal"+c(n)+"Track."));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var r=this._restart(e);return this._workaroundWebKitBug1208516&&(r=r.finally(function(){t._workaroundWebKitBug1208516Cleanup=b(t)})),r},t.prototype.stop=function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()},t}(e)}},8669:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(1013).isIOS,a=n(7797),s=function(e){function t(t,n){var r=this;return n=Object.assign({workaroundSilentLocalVideo:o()&&"undefined"!=typeof document&&"function"==typeof document.createElement},n),r=e.call(this,t,n)||this,Object.defineProperties(r,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?c:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),r._workaroundSilentLocalVideo&&(r._workaroundSilentLocalVideoCleanup=r._workaroundSilentLocalVideo(r,document)),r}return i(t,e),t.prototype.toString=function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},t.prototype._checkIfCanCaptureFrames=function(){return e.prototype._checkIfCanCaptureFrames.call(this,this._trackSender.isPublishing)},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._setSenderMediaStreamTrack=function(e){var t=this,n=this.mediaStreamTrack,r=e?this.processedTrack:n;return this._trackSender.setMediaStreamTrack(r).catch(function(e){return t._log.warn("setMediaStreamTrack failed on LocalVideoTrack RTCRtpSender",{error:e,mediaStreamTrack:r})}).then(function(){t._unprocessedTrack=e?n:null})},t.prototype.addProcessor=function(){this._log.debug("Adding VideoProcessor to the LocalVideoTrack");var t=e.prototype.addProcessor.apply(this,arguments);return this.processedTrack?(this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0),t):this._log.warn("Unable to add a VideoProcessor to the LocalVideoTrack")},t.prototype.removeProcessor=function(){var t=this;this._log.debug("Removing VideoProcessor from the LocalVideoTrack");var n=e.prototype.removeProcessor.apply(this,arguments);return this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the original MediaStreamTrack"),this._setSenderMediaStreamTrack().then(function(){return t._updateElementsMediaStreamTrack()}),n},t.prototype.disable=function(){var t=e.prototype.disable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=!1),t},t.prototype.enable=function(t){void 0===t&&(t=!0);var n=e.prototype.enable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=t,t&&(this._captureFrames(),this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0))),n},t.prototype.restart=function(){var t=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=e.prototype.restart.apply(this,arguments);return this.processor&&n.then(function(){t._restartProcessor()}),this._workaroundSilentLocalVideo&&n.finally(function(){t._workaroundSilentLocalVideoCleanup=t._workaroundSilentLocalVideo(t,document)}),n},t.prototype.stop=function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),e.prototype.stop.apply(this,arguments)},t}(n(8656)(n(8984)));function c(e,t){var n=e._log,r=e._dummyEl,i=e.mediaStreamTrack;function o(){e.isEnabled&&(n.info("Unmuted, checking silence"),r.play().then(function(){return a(r,t)}).then(function(t){if(t)return n.warn("Silence detected, restarting"),e._stop(),e._restart();n.info("Non-silent frames detected, so no need to restart")}).catch(function(e){n.warn("Failed to detect silence and restart:",e)}).finally(function(){!(r=e._dummyEl)||r.paused||e.processedTrack||r.pause(),i.removeEventListener("unmute",o),(i=e.mediaStreamTrack).addEventListener?i.addEventListener("unmute",o):i.onunmute=o}))}return i.addEventListener?i.addEventListener("unmute",o):i.onunmute=o,function(){i.removeEventListener?i.removeEventListener("unmute",o):i.onunmute=null}}e.exports=s},8812:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(8641),a=n(3719),s=n(1320),c=n(3249).reconnectBackoffConfig,u=n(3459),l=n(3249),d=l.SDK_NAME,p=l.SDK_VERSION,f=l.SDP_FORMAT,h=n(6348),v=h.createBandwidthProfilePayload,m=h.createMediaSignalingPayload,y=h.createMediaWarningsPayload,g=h.createSubscribePayload,b=h.getUserAgent,_=h.isNonArrayObject,w=n(3002),k=w.createTwilioError,S=w.RoomCompletedError,T=w.SignalingConnectionError,E=w.SignalingServerBusyError,C={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},O=function(e){function t(t,n,r,i,o,u){var l;return u=Object.assign({Backoff:s,TwilioConnection:a,iceServers:null,trackPriority:!0,trackSwitchOff:!0,renderHints:!0,userAgent:b()},u),l=e.call(this,"connecting",C)||this,Object.defineProperties(l,{_accessToken:{value:n},_automaticSubscription:{value:u.automaticSubscription},_bandwidthProfile:{value:u.bandwidthProfile},_dominantSpeaker:{value:u.dominantSpeaker},_adaptiveSimulcast:{value:u.adaptiveSimulcast},_eventObserver:{value:u.eventObserver,writable:!1},_renderHints:{value:u.renderHints},_iceServersStatus:{value:Array.isArray(u.iceServers)?"overrode":"acquire"},_localParticipant:{value:r},_name:{value:t},_networkQuality:{value:_(u.networkQuality)||u.networkQuality},_notifyWarnings:{value:u.notifyWarnings},_options:{value:u},_peerConnectionManager:{value:i},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:new u.Backoff(c)},_session:{value:null,writable:!0},_trackPriority:{value:u.trackPriority},_trackSwitchOff:{value:u.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:u.userAgent},_wsServer:{value:o}}),function(e){function t(){if("disconnected"!==e.state){e._twilioConnection&&e._twilioConnection.removeListener("message",r);var t=e._iceServersStatus,i=e._options,o=e._wsServer,a=e.state,s=i.TwilioConnection,c=new s(o,Object.assign({helloBody:"connecting"===a&&"acquire"===t?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},i));c.once("close",function(e){e===s.CloseReason.LOCAL?n():n(new Error(e))}),c.on("message",r),e._twilioConnection=c}}function n(n){if("disconnected"!==e.state)if(n){var r=e._getReconnectTimer();if(r)"connected"===e.state&&e.preempt("syncing"),r.then(t);else{var i=n.message===a.CloseReason.BUSY?new E:new T;e.disconnect(i)}}else e.disconnect()}function r(t){if("disconnected"!==e.state)if("error"!==t.type)switch(e.state){case"connected":switch(t.type){case"connected":case"synced":case"update":case"warning":return void e.emit("message",t);case"disconnected":return void e.disconnect("completed"===t.status?new S:null);default:return}case"connecting":switch(t.type){case"iced":return void e._options.onIced(t.ice_servers).then(function(){e._sendConnectOrSyncOrDisconnectMessage()});case"connected":return e._setSession(t.session,t.options.session_timeout),e.emit("connected",t),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(t);case"disconnected":return void e.disconnect("completed"===t.status?new S:null);default:return}case"syncing":switch(t.type){case"connected":case"update":return void e._updatesReceived.push(t);case"synced":return e._clearReconnectTimer(),e.emit("message",t),void e.preempt("connected");case"disconnected":return void e.disconnect("completed"===t.status?new S:null);default:return}default:return}else e.disconnect(k(t.code,t.message))}e.on("stateChanged",function t(n){switch(n){case"connected":var i=e._updatesToSend.splice(0);return i.length&&e.publish(function(e){return e.reduce(function(e,t){return(!e.participant&&t.participant||e.participant&&t.participant&&t.participant.revision>e.participant.revision)&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=P(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=P(e.peer_connections.concat(t.peer_connections))),e},{})}(i)),void e._updatesReceived.splice(0).forEach(function(t){return e.emit("message",t)});case"disconnected":return e._twilioConnection.removeListener("message",r),void e.removeListener("stateChanged",t);default:return}});var i=e._options,o=e._iceServersStatus,s=i.iceServers,c=i.onIced;"overrode"===o?c(s).then(t):t()}(l),l}return i(t,e),t.prototype._createConnectOrSyncOrDisconnectMessage=function(){if("connected"===this.state)return null;if("disconnected"===this.state)return{session:this._session,type:"disconnect",version:2};var e={connecting:"connect",syncing:"sync"}[this.state],t={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:e,version:2};return"connect"===t.type?(t.ice_servers=this._iceServersStatus,t.publisher={name:d,sdk_version:p,user_agent:this._userAgent},this._bandwidthProfile&&(t.bandwidth_profile=v(this._bandwidthProfile)),this._notifyWarnings&&(t.participant.media_warnings=y(this._notifyWarnings)),t.media_signaling=m(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff,this._adaptiveSimulcast,this._renderHints),t.subscribe=g(this._automaticSubscription),t.format=f,t.token=this._accessToken):"sync"===t.type?(t.session=this._session,t.token=this._accessToken):"update"===t.type&&(t.session=this._session),t},t.prototype._createIceMessage=function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:1}},t.prototype._sendConnectOrSyncOrDisconnectMessage=function(){var e=this._createConnectOrSyncOrDisconnectMessage();e&&this._twilioConnection.sendMessage(e)},t.prototype.disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),!0)},t.prototype.publish=function(e){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:2},e)),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;default:return!1}},t.prototype.publishEvent=function(e,t,n,r){this._eventObserver.emit("event",{group:e,name:t,level:n,payload:r})},t.prototype.sync=function(){return"connected"===this.state&&(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0)},t.prototype._setSession=function(e,t){this._session=e,this._sessionTimeoutMS=1e3*t},t.prototype._getReconnectTimer=function(){var e=this;return 0===this._sessionTimeoutMS?null:(this._sessionTimer||(this._sessionTimer=new u(function(){e._sessionTimer&&(e._sessionTimeoutMS=0)},this._sessionTimeoutMS)),new Promise(function(t){e._reconnectBackoff.backoff(t)}))},t.prototype._clearReconnectTimer=function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)},t}(o);function P(e){return Array.from(e.reduce(function(e,t){var n=e.get(t.id)||t;return(!n.description&&t.description||n.description&&t.description&&t.description.revision>n.description.revision)&&(n.description=t.description),(!n.ice&&t.ice||n.ice&&t.ice&&t.ice.revision>n.ice.revision)&&(n.ice=t.ice),e.set(n.id,n),e},new Map).values())}e.exports=O},8920:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t,"track_priority",n)||this;return Object.defineProperties(r,{_enqueuedPriorityUpdates:{value:new Map}}),r.on("ready",function(e){Array.from(r._enqueuedPriorityUpdates.keys()).forEach(function(t){e.publish({type:"track_priority",track:t,subscribe:r._enqueuedPriorityUpdates.get(t)})})}),r}return i(t,e),t.prototype.sendTrackPriorityUpdate=function(e,t,n){if("subscribe"!==t)throw new Error("only subscribe priorities are supported, found: "+t);this._enqueuedPriorityUpdates.set(e,n),this._transport&&this._transport.publish({type:"track_priority",track:e,subscribe:n})},t}(n(3325));e.exports=o},8972:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,"*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */ /* 3 */\n  tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.vp-fixed {\n  position: fixed;\n}\n.vp-absolute {\n  position: absolute;\n}\n.vp-relative {\n  position: relative;\n}\n.vp-inset-0 {\n  inset: 0px;\n}\n.vp--bottom-1 {\n  bottom: -0.25rem;\n}\n.vp-bottom-0 {\n  bottom: 0px;\n}\n.vp-bottom-10 {\n  bottom: 2.5rem;\n}\n.vp-bottom-5 {\n  bottom: 1.25rem;\n}\n.vp-left-0 {\n  left: 0px;\n}\n.vp-left-1\\/2 {\n  left: 50%;\n}\n.vp-left-\\[16px\\] {\n  left: 16px;\n}\n.vp-right-0 {\n  right: 0px;\n}\n.vp-right-4 {\n  right: 1rem;\n}\n.vp-right-5 {\n  right: 1.25rem;\n}\n.vp-top-20 {\n  top: 5rem;\n}\n.vp-top-4 {\n  top: 1rem;\n}\n.vp-z-10 {\n  z-index: 10;\n}\n.vp-z-\\[9999\\] {\n  z-index: 9999;\n}\n.vp-inline-block {\n  display: inline-block;\n}\n.vp-flex {\n  display: flex;\n}\n.vp-grid {\n  display: grid;\n}\n.vp-hidden {\n  display: none;\n}\n.vp-aspect-square {\n  aspect-ratio: 1 / 1;\n}\n.vp-h-10 {\n  height: 2.5rem;\n}\n.vp-h-16 {\n  height: 4rem;\n}\n.vp-h-\\[56px\\] {\n  height: 56px;\n}\n.vp-h-\\[76px\\] {\n  height: 76px;\n}\n.vp-h-\\[84px\\] {\n  height: 84px;\n}\n.vp-h-\\[92px\\] {\n  height: 92px;\n}\n.vp-h-full {\n  height: 100%;\n}\n.vp-w-10 {\n  width: 2.5rem;\n}\n.vp-w-16 {\n  width: 4rem;\n}\n.vp-w-\\[56px\\] {\n  width: 56px;\n}\n.vp-w-\\[76px\\] {\n  width: 76px;\n}\n.vp-w-\\[84px\\] {\n  width: 84px;\n}\n.vp-w-\\[92px\\] {\n  width: 92px;\n}\n.vp-w-\\[calc\\(100\\%-70px\\)\\] {\n  width: calc(100% - 70px);\n}\n.vp-w-full {\n  width: 100%;\n}\n.vp--translate-x-1\\/2 {\n  --tw-translate-x: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes vp-spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.vp-animate-spin {\n  animation: vp-spin 1s linear infinite;\n}\n.vp-cursor-pointer {\n  cursor: pointer;\n}\n.vp-grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.vp-grid-rows-2 {\n  grid-template-rows: repeat(2, minmax(0, 1fr));\n}\n.vp-flex-row {\n  flex-direction: row;\n}\n.vp-flex-col {\n  flex-direction: column;\n}\n.vp-items-start {\n  align-items: flex-start;\n}\n.vp-items-center {\n  align-items: center;\n}\n.vp-justify-end {\n  justify-content: flex-end;\n}\n.vp-justify-center {\n  justify-content: center;\n}\n.vp-justify-between {\n  justify-content: space-between;\n}\n.vp-gap-2 {\n  gap: 0.5rem;\n}\n.vp-gap-4 {\n  gap: 1rem;\n}\n.vp-self-end {\n  align-self: flex-end;\n}\n.vp-overflow-hidden {\n  overflow: hidden;\n}\n.vp-overflow-y-auto {\n  overflow-y: auto;\n}\n.vp-break-words {\n  overflow-wrap: break-word;\n}\n.vp-break-all {\n  word-break: break-all;\n}\n.vp-rounded {\n  border-radius: 0.25rem;\n}\n.vp-rounded-full {\n  border-radius: 9999px;\n}\n.vp-rounded-sm {\n  border-radius: 0.125rem;\n}\n.vp-border-2 {\n  border-width: 2px;\n}\n.vp-border-4 {\n  border-width: 4px;\n}\n.vp-border-white {\n  --tw-border-opacity: 1;\n  border-color: rgb(255 255 255 / var(--tw-border-opacity, 1));\n}\n.vp-border-b-transparent {\n  border-bottom-color: transparent;\n}\n.vp-border-l-transparent {\n  border-left-color: transparent;\n}\n.vp-border-r-transparent {\n  border-right-color: transparent;\n}\n.vp-border-t-black {\n  --tw-border-opacity: 1;\n  border-top-color: rgb(0 0 0 / var(--tw-border-opacity, 1));\n}\n.vp-border-t-white {\n  --tw-border-opacity: 1;\n  border-top-color: rgb(255 255 255 / var(--tw-border-opacity, 1));\n}\n.vp-bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n.vp-bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.vp-bg-pink-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(236 72 153 / var(--tw-bg-opacity, 1));\n}\n.vp-bg-pink-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(219 39 119 / var(--tw-bg-opacity, 1));\n}\n.vp-bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.vp-bg-gradient-to-tr {\n  background-image: linear-gradient(to top right, var(--tw-gradient-stops));\n}\n.vp-from-yellow-400 {\n  --tw-gradient-from: #facc15 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(250 204 21 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.vp-via-pink-500 {\n  --tw-gradient-to: rgb(236 72 153 / 0)  var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), #ec4899 var(--tw-gradient-via-position), var(--tw-gradient-to);\n}\n.vp-to-purple-500 {\n  --tw-gradient-to: #a855f7 var(--tw-gradient-to-position);\n}\n.vp-bg-cover {\n  background-size: cover;\n}\n.vp-bg-center {\n  background-position: center;\n}\n.vp-object-cover {\n  object-fit: cover;\n}\n.vp-px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.vp-px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.vp-py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.vp-text-\\[10px\\] {\n  font-size: 10px;\n}\n.vp-text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.vp-text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.vp-text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.vp-font-bold {\n  font-weight: 700;\n}\n.vp-font-light {\n  font-weight: 300;\n}\n.vp-font-semibold {\n  font-weight: 600;\n}\n.vp-leading-normal {\n  line-height: 1.5;\n}\n.vp-tracking-widest {\n  letter-spacing: 0.1em;\n}\n.vp-text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.vp-shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n@media (min-width: 768px) {\n\n  .md\\:vp-bottom-5 {\n    bottom: 1.25rem;\n  }\n\n  .md\\:vp-bottom-\\[152px\\] {\n    bottom: 152px;\n  }\n\n  .md\\:vp-right-5 {\n    right: 1.25rem;\n  }\n\n  .md\\:vp-flex {\n    display: flex;\n  }\n\n  .md\\:vp-h-\\[720px\\] {\n    height: 720px;\n  }\n\n  .md\\:vp-h-\\[812px\\] {\n    height: 812px;\n  }\n\n  .md\\:vp-w-\\[360px\\] {\n    width: 360px;\n  }\n\n  .md\\:vp-rounded-lg {\n    border-radius: 0.5rem;\n  }\n\n  .md\\:vp-shadow-lg {\n    --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n    --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n    box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  }\n}\n",""]);const s=a},8984:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(3261),a=n(9221),s=n(6237),c=(n(9722).guessBrowser,n(3249).DEFAULT_FRAME_RATE),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{_isCapturing:{value:!1,writable:!0},_inputFrame:{value:null,writable:!0},_outputFrame:{value:null,writable:!0},_processorEventObserver:{value:null,writable:!0},_processorOptions:{value:{},writable:!0},_stopCapture:{value:function(){},writable:!0},_unmuteHandler:{value:null,writable:!0},dimensions:{enumerable:!0,value:{width:null,height:null}},processor:{enumerable:!0,value:null,writable:!0}}),r._processorEventObserver=new(n.VideoProcessorEventObserver||s)(r._log),r}return i(t,e),t.prototype._checkIfCanCaptureFrames=function(e){void 0===e&&(e=!1);var t=!0,n="",r=this.mediaStreamTrack;return r.enabled||(t=!1,n="MediaStreamTrack is disabled"),"ended"===r.readyState&&(t=!1,n="MediaStreamTrack is ended"),this.processor||(t=!1,n="VideoProcessor not detected."),this._attachments.size||e||(t=!1,n="VideoTrack is not publishing and there is no attached element."),n&&this._log.debug(n),{canCaptureFrames:t,message:n}},t.prototype._captureFrames=function(){var e=this;if(this._isCapturing)this._log.debug("Ignoring captureFrames call. Capture is already in progress");else{if(!this._checkIfCanCaptureFrames().canCaptureFrames)return this._isCapturing=!1,void this._log.debug("Cannot capture frames. Ignoring captureFrames call.");this._isCapturing=!0,this._processorEventObserver.emit("start"),this._log.debug("Start capturing frames");var t=this._processorOptions.inputFrameBufferType;this._dummyEl.play().then(function(){e._stopCapture=a(e._dummyEl,function(n){var r=e._checkIfCanCaptureFrames();if(!r.canCaptureFrames)return n&&n.close(),e._isCapturing=!1,e._stopCapture(),e._processorEventObserver.emit("stop",r.message),e._log.debug("Cannot capture frames. Stopping capturing frames."),Promise.resolve();var i=e.mediaStreamTrack.getSettings(),o=i.width,a=void 0===o?0:o,s=i.height,c=void 0===s?0:s;e._outputFrame&&e._outputFrame.width!==a&&(e._outputFrame.width=a,e._outputFrame.height=c),e._inputFrame&&(e._inputFrame.width!==a&&(e._inputFrame.width=a,e._inputFrame.height=c),e._inputFrame.getContext("2d").drawImage(e._dummyEl,0,0,a,c));var u=n||(["video","videoframe"].includes(t)?e._dummyEl:e._inputFrame),l=null;try{l=e.processor.processFrame(u,e._outputFrame)}catch(t){e._log.debug("Exception detected after calling processFrame.",t)}return(l instanceof Promise?l:Promise.resolve(l)).then(function(){e._outputFrame&&("function"==typeof e.processedTrack.requestFrame&&e.processedTrack.requestFrame(),e._processorEventObserver.emit("stats"))})},t)}).catch(function(t){return e._log.error("Video element cannot be played",{error:t,track:e})})}},t.prototype._initialize=function(){var n=this;e.prototype._initialize.call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){l(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight)},this._dummyEl.onresize=function(){l(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight,n.isStarted&&(n._log.debug("Dimensions changed:",n.dimensions),n.emit(t.DIMENSIONS_CHANGED,n)))})},t.prototype._restartProcessor=function(){var e=this.processor;if(e){var t=Object.assign({},this._processorOptions);this.removeProcessor(e),this.addProcessor(e,t)}},t.prototype._start=function(n){return this.dimensions.width=n.videoWidth,this.dimensions.height=n.videoHeight,this._log.debug("Dimensions:",this.dimensions),this.emit(t.DIMENSIONS_CHANGED,this),e.prototype._start.call(this,n)},t.prototype.addProcessor=function(e,t){var n=this;if(!e||"function"!=typeof e.processFrame)throw new Error("Received an invalid VideoProcessor from addProcessor.");if(this.processor)throw new Error("A VideoProcessor has already been added.");if(!this._dummyEl)throw new Error("VideoTrack has not been initialized.");this._log.debug("Adding VideoProcessor to the VideoTrack",e),this._unmuteHandler||(this._unmuteHandler=function(){n._log.debug("mediaStreamTrack unmuted"),n.processedTrack.muted&&(n._log.debug("mediaStreamTrack is unmuted but processedTrack is muted. Restarting processor."),n._restartProcessor())},this.mediaStreamTrack.addEventListener?this.mediaStreamTrack.addEventListener("unmute",this._unmuteHandler):this.mediaStreamTrack.onunmute=this._unmuteHandler.bind(this)),this._processorOptions=t||{};var r=this._processorOptions,i=r.inputFrameBufferType,o=r.outputFrameBufferContextType;if("undefined"==typeof OffscreenCanvas&&"offscreencanvas"===i)throw new Error("OffscreenCanvas is not supported by this browser.");if(i&&"videoframe"!==i&&"video"!==i&&"canvas"!==i&&"offscreencanvas"!==i)throw new Error("Invalid inputFrameBufferType of "+i);i||(i="undefined"==typeof OffscreenCanvas?"canvas":"offscreencanvas");var a=this.mediaStreamTrack.getSettings(),s=a.width,u=void 0===s?0:s,l=a.height,d=void 0===l?0:l,p=a.frameRate,f=void 0===p?c:p;if("offscreencanvas"===i&&(this._inputFrame=new OffscreenCanvas(u,d)),"canvas"===i&&(this._inputFrame=document.createElement("canvas")),this._inputFrame&&(this._inputFrame.width=u,this._inputFrame.height=d),this._outputFrame=document.createElement("canvas"),this._outputFrame.width=u,this._outputFrame.height=d,o=o||"2d",!this._outputFrame.getContext(o))throw new Error("Cannot get outputFrameBufferContextType: "+o+".");var h="undefined"!=typeof CanvasCaptureMediaStreamTrack&&CanvasCaptureMediaStreamTrack.prototype&&"function"==typeof CanvasCaptureMediaStreamTrack.prototype.requestFrame?0:void 0;return this.processedTrack=this._outputFrame.captureStream(h).getTracks()[0],this.processedTrack.enabled=this.mediaStreamTrack.enabled,this.processor=e,this._processorEventObserver.emit("add",{processor:e,captureHeight:d,captureWidth:u,inputFrameRate:f,isRemoteVideoTrack:this.toString().includes("RemoteVideoTrack"),inputFrameBufferType:i,outputFrameBufferContextType:o}),this._updateElementsMediaStreamTrack(),this._captureFrames(),this},t.prototype.attach=function(){var t=e.prototype.attach.apply(this,arguments);return this.processor&&this._captureFrames(),t},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t.prototype.removeProcessor=function(e){if(!e)throw new Error("Received an invalid VideoProcessor from removeProcessor.");if(!this.processor)throw new Error("No existing VideoProcessor detected.");if(e!==this.processor)throw new Error("The provided VideoProcessor is different than the existing one.");return this._processorEventObserver.emit("remove"),this._log.debug("Removing VideoProcessor from the VideoTrack",e),this._stopCapture(),this._stopCapture=function(){},this.mediaStreamTrack.removeEventListener("unmute",this._unmuteHandler),this._processorOptions={},this._unmuteHandler=null,this._isCapturing=!1,this.processor=null,this.processedTrack=null,this._inputFrame=null,this._outputFrame=null,this._updateElementsMediaStreamTrack(),this},t}(o);function l(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}u.DIMENSIONS_CHANGED="dimensionsChanged",e.exports=u},9060:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){return e.call(this,t.sid,t.name,t.kind,t.enabled,t.priority,n)||this}return i(t,e),t.prototype.update=function(e){return this.enable(e.enabled),this.setPriority(e.priority),this},t}(n(1211));e.exports=o},9112:(e,t,n)=>{"use strict";var r=n(40),i=n(316);function o(e){var t=new i(e);return Object.setPrototypeOf(t,o.prototype),t}r(o,i),e.exports=o},9159:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(190),a=n(3349),s=function(e){function t(t){var n=e.call(this,t.label,t.maxPacketLifeTime,t.maxRetransmits,t.ordered)||this;return Object.defineProperties(n,{_dataChannel:{value:t}}),t.binaryType="arraybuffer",t.addEventListener("message",function(e){n.emit("message",e.data)}),t.addEventListener("close",function(){n.emit("close")}),n}return i(t,e),t.prototype.stop=function(){this._dataChannel.close(),e.prototype.stop.call(this)},t.prototype.toDataTransport=function(){return new a(this._dataChannel)},t}(o);e.exports=s},9181:e=>{"use strict";"function"==typeof MediaStream?e.exports=MediaStream:e.exports=function(){throw new Error("MediaStream is not supported")}},9221:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=n(3249).DEFAULT_FRAME_RATE;e.exports="function"==typeof MediaStreamTrackGenerator&&"function"==typeof MediaStreamTrackProcessor?function(e,t,n){var i=r(e.srcObject.getVideoTracks(),1)[0],o=new MediaStreamTrackProcessor({track:i}).readable,a=new MediaStreamTrackGenerator({kind:"video"}),s=!1,c=new TransformStream({transform:function(e,r){return("videoframe"===n?t(e):Promise.resolve(e.close()).then(t)).finally(function(){s&&r.terminate()})}});return o.pipeThrough(c).pipeTo(a.writable).then(function(){}),function(){s=!0}}:function(e,t){var n,o=r(e.srcObject.getVideoTracks(),1)[0].getSettings().frameRate,a=void 0===o?i:o,s=new ReadableStream({start:function(e){n=setInterval(function(){return e.enqueue()},1e3/a)}}),c=new TransformStream({transform:function(){return t()}});return s.pipeThrough(c).pipeTo(new WritableStream).then(function(){}),function(){clearInterval(n)}}},9229:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(7784),c=n(3249),u=c.typeErrors,l=c.trackPriority,d=function(e){function t(t,n,r){var i=e.call(this,n.id,"data",r)||this;return Object.defineProperties(i,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:null===n.maxPacketLifeTime&&null===n.maxRetransmits},sid:{enumerable:!0,value:t}}),n.on("message",function(e){i.emit("message",e,i)}),i}return i(t,e),t.prototype.setPriority=function(e){var t=a([null],o(Object.values(l)));if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._priority=e,this},t.prototype._setEnabled=function(){},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t}(s);e.exports=d},9406:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t,n.kind)||this;return Object.defineProperties(r,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),r}return i(t,e),t.prototype.stop=function(){this.track.stop(),e.prototype.stop.call(this)},t}(n(4177));e.exports=o},9495:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},n=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},r=function(){function e(e,t){var n=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:t}}),Object.defineProperty(this,"_promise",{value:new Promise(function(t,r){e(function(e){n._isCancelable=!1,t(e)},function(e){n._isCancelable=!1,r(e)},function(){return n._isCanceled})})})}return e.reject=function(t){return new e(function(e,n){n(t)},function(){})},e.resolve=function(t){return new e(function(e){e(t)},function(){})},e.prototype.cancel=function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},e.prototype.catch=function(){var r=[].slice.call(arguments),i=this._promise;return new e(function(e,o){i.catch.apply(i,n([],t(r))).then(e,o)},this._onCancel)},e.prototype.then=function(){var r=[].slice.call(arguments),i=this._promise;return new e(function(e,o){i.then.apply(i,n([],t(r))).then(e,o)},this._onCancel)},e.prototype.finally=function(){var r=[].slice.call(arguments),i=this._promise;return new e(function(e,o){i.finally.apply(i,n([],t(r))).then(e,o)},this._onCancel)},e}();e.exports=r},9516:e=>{"use strict";e.exports=function(e){return e.reduce(function(e,t){return"number"==typeof t?t+e:e},0)}},9526:(e,t,n)=>{"use strict";var r=n(3249),i=r.ICE_ACTIVITY_CHECK_PERIOD_MS,o=r.ICE_INACTIVITY_THRESHOLD_MS,a=function(){function e(e,t){t=Object.assign({activityCheckPeriodMs:i,inactivityThresholdMs:o},t),Object.defineProperties(this,{_activityCheckPeriodMs:{value:t.activityCheckPeriodMs},_inactivityThresholdMs:{value:t.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:e},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return e.prototype._getActivePairStat=function(e){return Array.from(e.values()).find(function(e){return"candidate-pair"===e.type&&e.nominated})||{bytesReceived:0,timestamp:Math.round((new Date).getTime())}},e.prototype._getIceConnectionStats=function(){var e=this;return this._peerConnection.getStats().then(function(t){return e._getActivePairStat(t)}).catch(function(){return null})},e.prototype._scheduleInactivityCallback=function(e){var t=this;e&&null===this._onIceConnectionStateChanged?(this._onIceConnectionStateChanged=function(){"disconnected"===t._peerConnection.iceConnectionState&&e()},this._peerConnection.addEventListener?this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged):this._peerConnection.oniceconnectionstatechange=this._onIceConnectionStateChanged):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener?this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged):this._peerConnection.oniceconnectionstatechange=null,this._onIceConnectionStateChanged=null)},e.prototype.start=function(e){var t=this;this.stop(),this._timer=setInterval(function(){t._getIceConnectionStats().then(function(n){n&&(t._lastActivity&&t._lastActivity.bytesReceived===n.bytesReceived||(t._lastActivity=n,t._scheduleInactivityCallback(null)),n.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&("disconnected"===t._peerConnection.iceConnectionState?e():null===t._onIceConnectionStateChanged&&t._scheduleInactivityCallback(e)))})},this._activityCheckPeriodMs)},e.prototype.stop=function(){this._scheduleInactivityCallback(null),null!==this._timer&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)},e}();e.exports=a},9717:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s=n(7170),c=n(2344),u=n(5747),l=u.getSdpFormat,d=u.updatePlanBTrackIdsToSSRCs,p=u.updateUnifiedPlanTrackIdsToSSRCs,f=n(9722),h=f.delegateMethods,v=f.interceptEvent,m=f.proxyProperties,y="unified"===l(),g=y?p:d,b=function(e){function t(t){var n=e.call(this)||this;v(n,"datachannel"),v(n,"iceconnectionstatechange"),v(n,"signalingstatechange"),v(n,"track");var r=new RTCPeerConnection(t);return Object.defineProperties(n,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:r},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new c},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0}}),r.addEventListener("datachannel",function(e){k(e.channel),n.dispatchEvent(e)}),r.addEventListener("iceconnectionstatechange",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._isClosed||n.dispatchEvent.apply(n,a([],o(e)))}),r.addEventListener("signalingstatechange",function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._isClosed||("stable"===r.signalingState&&(n._appliedTracksToSSRCs=new Map(n._tracksToSSRCs)),n._pendingLocalOffer||n._pendingRemoteOffer||n.dispatchEvent.apply(n,a([],o(e))))}),r.addEventListener("track",function(e){n._pendingRemoteOffer=null,n.dispatchEvent(e)}),m(RTCPeerConnection.prototype,n,r),n}return i(t,e),Object.defineProperty(t.prototype,"localDescription",{get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceGatheringState",{get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteDescription",{get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState},enumerable:!1,configurable:!0}),t.prototype.addIceCandidate=function(e){var t=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then(function(){return t._peerConnection.addIceCandidate(e)}):this._peerConnection.addIceCandidate(e)},t.prototype.createOffer=function(e){var t=this;if((e=Object.assign({},e)).offerToReceiveVideo&&!this._audioTransceiver&&(!y||!w(this,"audio"))){delete e.offerToReceiveAudio;try{this._audioTransceiver=y?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(e){return Promise.reject(e)}}if(e.offerToReceiveVideo&&!this._videoTransceiver&&(!y||!w(this,"video"))){delete e.offerToReceiveVideo;try{this._videoTransceiver=y?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(e){return Promise.reject(e)}}return this._peerConnection.createOffer(e).then(function(e){return t._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:e.type,sdp:g(t._tracksToSSRCs,e.sdp)})})},t.prototype.createAnswer=function(e){var t=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()}).then(function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),y?new RTCSessionDescription({type:e.type,sdp:g(t._tracksToSSRCs,e.sdp)}):e},function(e){throw t._pendingRemoteOffer=null,e}):this._peerConnection.createAnswer(e).then(function(e){return t._rolledBackTracksToSSRCs.clear(),y?new RTCSessionDescription({type:e.type,sdp:g(t._tracksToSSRCs,e.sdp)}):e})},t.prototype.createDataChannel=function(e,t){var n=this._peerConnection.createDataChannel(e,t);return k(n),n},t.prototype.removeTrack=function(e){e.replaceTrack(null),this._peerConnection.removeTrack(e)},t.prototype.setLocalDescription=function(e){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),_(this,!0,e)},t.prototype.setRemoteDescription=function(e){return this._rolledBackTracksToSSRCs.clear(),_(this,!1,e)},t.prototype.close=function(){var e=this;this._isClosed||(this._isClosed=!0,this._peerConnection.close(),setTimeout(function(){e.dispatchEvent(new Event("iceconnectionstatechange")),e.dispatchEvent(new Event("signalingstatechange"))}))},t}(s);function _(e,t,n){var r,i=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?e._pendingRemoteOffer:e._pendingLocalOffer,a=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription";if(!t&&o&&"answer"===n.type)return function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then(function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)}).then(function(){return e._signalingStateLatch.lower()})}(e,n);if("offer"===n.type){if(e.signalingState!==a&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+"\n        offer in state "+e.signalingState));i||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var c=e.signalingState;return r=n,t?e._pendingLocalOffer=r:e._pendingRemoteOffer=r,e.signalingState!==c?Promise.resolve().then(function(){return e.dispatchEvent(new Event("signalingstatechange"))}):Promise.resolve()}return"rollback"===n.type?e.signalingState!==a?Promise.reject(new Error("Cannot rollback \n        "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),Promise.resolve().then(function(){return e.dispatchEvent(new Event("signalingstatechange"))})):e._peerConnection[s](n)}function w(e,t){return!!e.getTransceivers().find(function(e){var n=e.receiver,r=(void 0===n?{}:n).track;return(void 0===r?{}:r).kind===t})}function k(e){return Object.defineProperties(e,{maxPacketLifeTime:{value:65535===e.maxPacketLifeTime?null:e.maxPacketLifeTime},maxRetransmits:{value:65535===e.maxRetransmits?null:e.maxRetransmits}})}h(RTCPeerConnection.prototype,b.prototype,"_peerConnection"),e.exports=b},9722:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function i(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var i=!1;try{var o=Object.getOwnPropertyDescriptor(e,r);i=o&&!!o.get}catch(e){}if(!i){var a;try{a=typeof e[r]}catch(e){}"function"===a&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}}function o(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:null}function a(e){return void 0===e&&(e=o()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari|iPhone|iPad|iPod/.test(e)?"safari":null}var s=new Map;t.clearCachedSupportedCodecs=function(){s.clear()},t.defer=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},t.delegateMethods=function(e,t,n){for(var r in e)i(e,t,n,r)},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n},t.flatMap=function(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce(function(e,n){return e.concat(t(n))},[])},t.guessBrowser=a,t.guessBrowserVersion=function(e){void 0===e&&(e=o());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[a(e)];if(!t)return null;var r=new RegExp("("+t+")/([^\\s]+)"),i=n(e.match(r)||[],3)[2];if(!i)return null;var s=i.split(".").map(Number);return{major:isNaN(s[0])?null:s[0],minor:isNaN(s[1])?null:s[1]}},t.isCodecSupported=function(e,t){var n=s.get(t);return n?Promise.resolve(n.has(e.toLowerCase())):function(e){if("undefined"!=typeof RTCRtpSender&&"function"==typeof RTCRtpSender.getCapabilities)return Promise.resolve(new Set(RTCRtpSender.getCapabilities(e).codecs.map(function(e){return e.mimeType.split("/")[1].toLowerCase()})));if("undefined"==typeof RTCPeerConnection||void 0===RTCPeerConnection.prototype||"function"!=typeof RTCPeerConnection.prototype.addTransceiver||"function"!=typeof RTCPeerConnection.prototype.close||"function"!=typeof RTCPeerConnection.prototype.createOffer)return Promise.resolve(new Set);var t=new RTCPeerConnection;return t.addTransceiver(e),t.createOffer().then(function(e){var n=e.sdp;return t.close(),new Set((n.match(/^a=rtpmap:.+$/gm)||[]).map(function(e){return e.match(/^a=rtpmap:.+ ([^/]+)/)[1].toLowerCase()}))},function(){return t.close(),new Set})}(t).then(function(n){return s.set(t,n),n.has(e.toLowerCase())})},t.isIOSChrome=function(e){return void 0===e&&(e=o()),/Mobi/.test(e)&&"chrome"===a()&&/iPad|iPhone|iPod/.test(e)},t.interceptEvent=function(e,t){var n=null;Object.defineProperty(e,"on"+t,{get:function(){return n},set:function(e){n&&this.removeEventListener(t,n),"function"==typeof e?(n=e,this.addEventListener(t,n)):n=null}})},t.legacyPromise=function(e,t,n){return t?e.then(t,n):e},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.proxyProperties=function(e,t,i){Object.getOwnPropertyNames(e).forEach(function(e){!function(e,t,i,o){if(!(o in t))o.match(/^on[a-z]+$/)?(Object.defineProperty(t,o,{value:null,writable:!0}),i.addEventListener(o.slice(2),function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.dispatchEvent.apply(t,r([],n(e)))})):Object.defineProperty(t,o,{enumerable:!0,get:function(){return i[o]}})}(0,t,i,e)})},t.support=function(){return"object"==typeof navigator&&"object"==typeof navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia&&"function"==typeof RTCPeerConnection}},9856:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7872),a=n(6948),s=n(9516),c=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return Object.defineProperties(o,{rtt:{enumerable:!0,value:i}}),o}return i(t,e),t.of=function(e,n,r,i){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var o=(r.timestamp-n.timestamp)/1e3,a=r.bytesSent-n.bytesSent,s=o>0?a/o*8:0,c=i&&"number"==typeof i.roundTripTime?i.roundTripTime/1e3:void 0;return new t(n.id,e,s,c)},t.summarize=function(e){return{bitrate:s(e.map(function(e){return e.bitrate})),rtt:o(e.map(function(e){return e.rtt}))}},t}(a);e.exports=c},9977:(e,t,n)=>{"use strict";var r={};Object.defineProperties(r,{getStats:{enumerable:!0,value:n(2566)},getUserMedia:{enumerable:!0,value:n(3732)},MediaStream:{enumerable:!0,value:n(9181)},MediaStreamTrack:{enumerable:!0,value:n(2658)},RTCIceCandidate:{enumerable:!0,value:n(302)},RTCPeerConnection:{enumerable:!0,value:n(7005)},RTCSessionDescription:{enumerable:!0,value:n(2359)}}),e.exports=r},9982:(e,t,n)=>{"use strict";e.exports=n(7463)},9994:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var r=e.call(this,t,"active_speaker",n)||this;return Object.defineProperties(r,{_loudestParticipantSid:{value:null,writable:!0}}),r.on("ready",function(e){e.on("message",function(e){"active_speaker"===e.type&&r._setLoudestParticipantSid(e.participant)})}),r}return i(t,e),Object.defineProperty(t.prototype,"loudestParticipantSid",{get:function(){return this._loudestParticipantSid},enumerable:!1,configurable:!0}),t.prototype._setLoudestParticipantSid=function(e){this.loudestParticipantSid!==e&&(this._loudestParticipantSid=e,this.emit("updated"))},t}(n(3325));e.exports=o}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>Ci});var e={};n.r(e),n.d(e,{Decoder:()=>Lt,Encoder:()=>xt,PacketType:()=>Pt,protocol:()=>Ot});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Kn,hasStandardBrowserEnv:()=>Yn,hasStandardBrowserWebWorkerEnv:()=>Jn,navigator:()=>Gn,origin:()=>Xn});var i=n(6540),o=n(5338),a=n(5072),s=n.n(a),c=n(7825),u=n.n(c),l=n(7659),d=n.n(l),p=n(5056),f=n.n(p),h=n(540),v=n.n(h),m=n(1113),y=n.n(m),g=n(8972),b={};b.styleTagTransform=y(),b.setAttributes=f(),b.insert=d().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=v(),s()(g.A,b),g.A&&g.A.locals&&g.A.locals;let _={data:""},w=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||_,k=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,S=/\/\*[^]*?\*\/|  +/g,T=/\n+/g,E=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?E(a,o):o+"{"+E(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=E(a,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=E.p?E.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},C={},O=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+O(e[n]);return t}return e},P=(e,t,n,r,i)=>{let o=O(e),a=C[o]||(C[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!C[a]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=k.exec(e.replace(S,""));)t[4]?r.shift():t[3]?(n=t[3].replace(T," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(T," ").trim();return r[0]})(e);C[a]=E(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&C.g?C.g:null;return n&&(C.g=C[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(C[a],t,r,s),a};function x(e){let t=this||{},n=e.call?e(t.p):e;return P(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":E(e,""):!1===e?"":e}return e+r+(null==o?"":o)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,w(t.target),t.g,t.o,t.k)}x.bind({g:1});let R,L,j,A=x.bind({k:1});function M(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),c=s.className||i.className;n.p=Object.assign({theme:L&&L()},s),n.o=/ *go\d+/.test(c),s.className=x.apply(n,r)+(c?" "+c:""),t&&(s.ref=a);let u=e;return e[0]&&(u=s.as||e,delete s.as),j&&u[0]&&j(s),R(u,s)}return t?t(i):i}}var D=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,I=(()=>{let e=0;return()=>(++e).toString()})(),N=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),F=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return F(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},B=[],V={toasts:[],pausedAt:void 0},U=e=>{V=F(V,e),B.forEach(e=>{e(V)})},z={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},H=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||I()}))(t,e,n);return U({type:2,toast:r}),r.id},W=(e,t)=>H("blank")(e,t);W.error=H("error"),W.success=H("success"),W.loading=H("loading"),W.custom=H("custom"),W.dismiss=e=>{U({type:3,toastId:e})},W.remove=e=>U({type:4,toastId:e}),W.promise=(e,t,n)=>{let r=W.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?D(t.success,e):void 0;return i?W.success(i,{id:r,...n,...null==n?void 0:n.success}):W.dismiss(r),e}).catch(e=>{let i=t.error?D(t.error,e):void 0;i?W.error(i,{id:r,...n,...null==n?void 0:n.error}):W.dismiss(r)}),e};var q=(e,t)=>{U({type:1,toast:{id:e,height:t}})},Q=()=>{U({type:5,time:Date.now()})},$=new Map,K=A`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,G=A`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y=A`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,J=M("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${K} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${G} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Y} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,X=A`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Z=M("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${X} 1s linear infinite;
`,ee=A`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,te=A`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ne=M("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ee} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${te} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,re=M("div")`
  position: absolute;
`,ie=M("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oe=A`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ae=M("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,se=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?i.createElement(ae,null,t):t:"blank"===n?null:i.createElement(ie,null,i.createElement(Z,{...r}),"loading"!==n&&i.createElement(re,null,"error"===n?i.createElement(J,{...r}):i.createElement(ne,{...r})))},ce=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ue=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,le=M("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,de=M("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,pe=i.memo(({toast:e,position:t,style:n,children:r})=>{let o=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=N()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ce(n),ue(n)];return{animation:t?`${A(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${A(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},a=i.createElement(se,{toast:e}),s=i.createElement(de,{...e.ariaProps},D(e.message,e));return i.createElement(le,{className:e.className,style:{...o,...n,...e.style}},"function"==typeof r?r({icon:a,message:s}):i.createElement(i.Fragment,null,a,s))});!function(e){E.p=void 0,R=e,L=void 0,j=void 0}(i.createElement);var fe=({id:e,className:t,style:n,onHeightUpdate:r,children:o})=>{let a=i.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;r(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return i.createElement("div",{ref:a,className:t,style:n},o)},he=x`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ve=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,containerStyle:a,containerClassName:s})=>{let{toasts:c,handlers:u}=(e=>{let{toasts:t,pausedAt:n}=((e={})=>{let[t,n]=(0,i.useState)(V),r=(0,i.useRef)(V);(0,i.useEffect)(()=>(r.current!==V&&n(V),B.push(n),()=>{let e=B.indexOf(n);e>-1&&B.splice(e,1)}),[]);let o=t.toasts.map(t=>{var n,r,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||z[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}});return{...t,toasts:o}})(e);(0,i.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>W.dismiss(t.id),n);t.visible&&W.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,i.useCallback)(()=>{n&&U({type:6,time:Date.now()})},[n]),o=(0,i.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},a=t.filter(t=>(t.position||o)===(e.position||o)&&t.height),s=a.findIndex(t=>t.id===e.id),c=a.filter((e,t)=>t<s&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[c+1]:[0,c]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return(0,i.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)((e,t=1e3)=>{if($.has(e))return;let n=setTimeout(()=>{$.delete(e),U({type:4,toastId:e})},t);$.set(e,n)})(e.id,e.removeDelay);else{let t=$.get(e.id);t&&(clearTimeout(t),$.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:q,startPause:Q,endPause:r,calculateOffset:o}}})(n);return i.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(n=>{let a=n.position||t,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:N()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(a,u.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}));return i.createElement(fe,{id:n.id,key:n.id,onHeightUpdate:u.updateHeight,className:n.visible?he:"",style:s},"custom"===n.type?D(n.message,n):o?o(n):i.createElement(pe,{toast:n,position:a}))}))},me=W,ye=n(8027),ge=n.n(ye);const be=Object.create(null);be.open="0",be.close="1",be.ping="2",be.pong="3",be.message="4",be.upgrade="5",be.noop="6";const _e=Object.create(null);Object.keys(be).forEach(e=>{_e[be[e]]=e});const we={type:"error",data:"parser error"},ke="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Se="function"==typeof ArrayBuffer,Te=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ee=({type:e,data:t},n,r)=>ke&&t instanceof Blob?n?r(t):Ce(t,r):Se&&(t instanceof ArrayBuffer||Te(t))?n?r(t):Ce(new Blob([t]),r):r(be[e]+(t||"")),Ce=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Oe(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Pe;const xe="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)xe["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;const Re="function"==typeof ArrayBuffer,Le=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Ae(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:je(e.substring(1),t)}:_e[n]?e.length>1?{type:_e[n],data:e.substring(1)}:{type:_e[n]}:we},je=(e,t)=>{if(Re){const n=(e=>{let t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const u=new ArrayBuffer(a),l=new Uint8Array(u);for(t=0;t<s;t+=4)n=xe[e.charCodeAt(t)],r=xe[e.charCodeAt(t+1)],i=xe[e.charCodeAt(t+2)],o=xe[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u})(e);return Ae(n,t)}return{base64:!0,data:e}},Ae=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Me=String.fromCharCode(30);let De;function Ie(e){return e.reduce((e,t)=>e+t.length,0)}function Ne(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Fe(e){if(e)return function(e){for(var t in Fe.prototype)e[t]=Fe.prototype[t];return e}(e)}Fe.prototype.on=Fe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Fe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Fe.prototype.off=Fe.prototype.removeListener=Fe.prototype.removeAllListeners=Fe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Fe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Fe.prototype.emitReserved=Fe.prototype.emit,Fe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Fe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Be="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ve="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Ue(e,...t){return t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const ze=Ve.setTimeout,He=Ve.clearTimeout;function We(e,t){t.useNativeTimers?(e.setTimeoutFn=ze.bind(Ve),e.clearTimeoutFn=He.bind(Ve)):(e.setTimeoutFn=Ve.setTimeout.bind(Ve),e.clearTimeoutFn=Ve.clearTimeout.bind(Ve))}function qe(e){return"string"==typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Qe(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class $e extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Ke extends Fe{constructor(e){super(),this.writable=!1,We(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new $e(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Le(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Ge extends Ke{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Me),r=[];for(let e=0;e<n.length;e++){const i=Le(n[e],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,o)=>{Ee(e,!1,e=>{r[o]=e,++i===n&&t(r.join(Me))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Qe()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Ye=!1;try{Ye="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const Je=Ye;function Xe(){}class Ze extends Ge{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class et extends Fe{constructor(e,t,n){super(),this.createRequest=e,We(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=Ue(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(e){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(e){return void this.setTimeoutFn(()=>{this._onError(e)},0)}"undefined"!=typeof document&&(this._index=et.requestsCount++,et.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Xe,e)try{this._xhr.abort()}catch(e){}"undefined"!=typeof document&&delete et.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}function tt(){for(let e in et.requests)et.requests.hasOwnProperty(e)&&et.requests[e].abort()}et.requestsCount=0,et.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",tt):"function"==typeof addEventListener&&addEventListener("onpagehide"in Ve?"pagehide":"unload",tt,!1));const nt=function(){const e=rt({xdomain:!1});return e&&null!==e.responseType}();function rt(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Je))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Ve[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}const it="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ot extends Ke{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=it?{}:Ue(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Ee(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(e){}r&&Be(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Qe()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const at=Ve.WebSocket||Ve.MozWebSocket,st={websocket:class extends ot{createSocket(e,t,n){return it?new at(e,t,n):t?new at(e,t):new at(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Ke{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){De||(De=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(0===r){if(Ie(n)<1)break;const e=Ne(n,1);o=!(128&~e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(Ie(n)<2)break;const e=Ne(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Ie(n)<8)break;const e=Ne(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){s.enqueue(we);break}i=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Ie(n)<i)break;const e=Ne(n,i);s.enqueue(Le(o?e:De.decode(e),t)),r=0}if(0===i||i>e){s.enqueue(we);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=new TransformStream({transform(e,t){!function(e,t){ke&&e.data instanceof Blob?e.data.arrayBuffer().then(Oe).then(t):Se&&(e.data instanceof ArrayBuffer||Te(e.data))?t(Oe(e.data)):Ee(e,!1,e=>{Pe||(Pe=new TextEncoder),t(Pe.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}});r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(({done:e,value:t})=>{e||(this.onPacket(t),i())}).catch(e=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&Be(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Ze{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=nt&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new et(rt,this.uri(),e)}}},ct=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ut=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lt(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=ct.exec(e||""),o={},a=14;for(;a--;)o[ut[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,o.query),o}const dt="function"==typeof addEventListener&&"function"==typeof removeEventListener,pt=[];dt&&addEventListener("offline",()=>{pt.forEach(e=>e())},!1);class ft extends Fe{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const n=lt(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=lt(t.host).host);We(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),dt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&ft.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",ft.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=qe(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Be(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ft.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),dt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=pt.indexOf(this._offlineEventListener);-1!==e&&pt.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}ft.protocol=4;class ht extends ft{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;ft.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ft.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,u(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){o("transport closed")}function s(){o("socket closed")}function c(e){t&&e.name!==t.name&&i()}const u=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class vt extends ht{constructor(e,t={}){const n="object"==typeof e?e:t;(!n.transports||n.transports&&"string"==typeof n.transports[0])&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(e=>st[e]).filter(e=>!!e)),super(e,n)}}const mt="function"==typeof ArrayBuffer,yt=Object.prototype.toString,gt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===yt.call(Blob),bt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===yt.call(File);function _t(e){return mt&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||gt&&e instanceof Blob||bt&&e instanceof File}function wt(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(wt(e[t]))return!0;return!1}if(_t(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return wt(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&wt(e[t]))return!0;return!1}function kt(e){const t=[],n=e.data,r=e;return r.data=St(n,t),r.attachments=t.length,{packet:r,buffers:t}}function St(e,t){if(!e)return e;if(_t(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=St(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=St(e[r],t));return n}return e}function Tt(e,t){return e.data=Et(e.data,t),delete e.attachments,e}function Et(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Et(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Et(e[n],t));return e}const Ct=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ot=5;var Pt;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Pt||(Pt={}));class xt{constructor(e){this.replacer=e}encode(e){return e.type!==Pt.EVENT&&e.type!==Pt.ACK||!wt(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Pt.EVENT?Pt.BINARY_EVENT:Pt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Pt.BINARY_EVENT&&e.type!==Pt.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=kt(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Rt(e){return"[object Object]"===Object.prototype.toString.call(e)}class Lt extends Fe{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Pt.BINARY_EVENT;n||t.type===Pt.BINARY_ACK?(t.type=n?Pt.EVENT:Pt.ACK,this.reconstructor=new jt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!_t(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Pt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Pt.BINARY_EVENT||n.type===Pt.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Lt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case Pt.CONNECT:return Rt(t);case Pt.DISCONNECT:return void 0===t;case Pt.CONNECT_ERROR:return"string"==typeof t||Rt(t);case Pt.EVENT:case Pt.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Ct.indexOf(t[0]));case Pt.ACK:case Pt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class jt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Tt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function At(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Mt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Dt extends Fe{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[At(e,"open",this.onopen.bind(this)),At(e,"packet",this.onpacket.bind(this)),At(e,"error",this.onerror.bind(this)),At(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,r,i;if(Mt.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:Pt.EVENT,data:t,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),o.id=e}const a=null===(r=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===r?void 0:r.writable,s=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!a||(s?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},r),o=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((n,r)=>{const i=(e,t)=>e?r(e):n(t);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...r)=>{if(n===this._queue[0])return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(e);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(e);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:Pt.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function It(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}It.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},It.prototype.reset=function(){this.attempts=0},It.prototype.setMin=function(e){this.ms=e},It.prototype.setMax=function(e){this.max=e},It.prototype.setJitter=function(e){this.jitter=e};class Nt extends Fe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,We(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new It({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new vt(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=At(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=At(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(At(e,"ping",this.onping.bind(this)),At(e,"data",this.ondata.bind(this)),At(e,"error",this.onerror.bind(this)),At(e,"close",this.onclose.bind(this)),At(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){Be(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Dt(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ft={};function Bt(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=lt(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Ft[i]&&o in Ft[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new Nt(r,t):(Ft[i]||(Ft[i]=new Nt(r,t)),s=Ft[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}function Vt(e,t){return function(){return e.apply(t,arguments)}}Object.assign(Bt,{Manager:Nt,Socket:Dt,io:Bt,connect:Bt});const{toString:Ut}=Object.prototype,{getPrototypeOf:zt}=Object,{iterator:Ht,toStringTag:Wt}=Symbol,qt=(e=>t=>{const n=Ut.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qt=e=>(e=e.toLowerCase(),t=>qt(t)===e),$t=e=>t=>typeof t===e,{isArray:Kt}=Array,Gt=$t("undefined"),Yt=Qt("ArrayBuffer"),Jt=$t("string"),Xt=$t("function"),Zt=$t("number"),en=e=>null!==e&&"object"==typeof e,tn=e=>{if("object"!==qt(e))return!1;const t=zt(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Wt in e||Ht in e)},nn=Qt("Date"),rn=Qt("File"),on=Qt("Blob"),an=Qt("FileList"),sn=Qt("URLSearchParams"),[cn,un,ln,dn]=["ReadableStream","Request","Response","Headers"].map(Qt);function pn(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),Kt(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function fn(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const hn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,vn=e=>!Gt(e)&&e!==hn,mn=(yn="undefined"!=typeof Uint8Array&&zt(Uint8Array),e=>yn&&e instanceof yn);var yn;const gn=Qt("HTMLFormElement"),bn=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_n=Qt("RegExp"),wn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pn(n,(n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)}),Object.defineProperties(e,r)},kn=Qt("AsyncFunction"),Sn=(Tn="function"==typeof setImmediate,En=Xt(hn.postMessage),Tn?setImmediate:En?(Cn=`axios@${Math.random()}`,On=[],hn.addEventListener("message",({source:e,data:t})=>{e===hn&&t===Cn&&On.length&&On.shift()()},!1),e=>{On.push(e),hn.postMessage(Cn,"*")}):e=>setTimeout(e));var Tn,En,Cn,On;const Pn="undefined"!=typeof queueMicrotask?queueMicrotask.bind(hn):"undefined"!=typeof process&&process.nextTick||Sn,xn={isArray:Kt,isArrayBuffer:Yt,isBuffer:function(e){return null!==e&&!Gt(e)&&null!==e.constructor&&!Gt(e.constructor)&&Xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Xt(e.append)&&("formdata"===(t=qt(e))||"object"===t&&Xt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Yt(e.buffer),t},isString:Jt,isNumber:Zt,isBoolean:e=>!0===e||!1===e,isObject:en,isPlainObject:tn,isReadableStream:cn,isRequest:un,isResponse:ln,isHeaders:dn,isUndefined:Gt,isDate:nn,isFile:rn,isBlob:on,isRegExp:_n,isFunction:Xt,isStream:e=>en(e)&&Xt(e.pipe),isURLSearchParams:sn,isTypedArray:mn,isFileList:an,forEach:pn,merge:function e(){const{caseless:t}=vn(this)&&this||{},n={},r=(r,i)=>{const o=t&&fn(n,i)||i;tn(n[o])&&tn(r)?n[o]=e(n[o],r):tn(r)?n[o]=e({},r):Kt(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&pn(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(pn(t,(t,r)=>{n&&Xt(t)?e[r]=Vt(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&zt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:qt,kindOfTest:Qt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Kt(e))return e;let t=e.length;if(!Zt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ht]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:gn,hasOwnProperty:bn,hasOwnProp:bn,reduceDescriptors:wn,freezeMethods:e=>{wn(e,(t,n)=>{if(Xt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Xt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Kt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:fn,global:hn,isContextDefined:vn,isSpecCompliantForm:function(e){return!!(e&&Xt(e.append)&&"FormData"===e[Wt]&&e[Ht])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(en(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Kt(e)?[]:{};return pn(e,(e,t)=>{const o=n(e,r+1);!Gt(o)&&(i[t]=o)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:kn,isThenable:e=>e&&(en(e)||Xt(e))&&Xt(e.then)&&Xt(e.catch),setImmediate:Sn,asap:Pn,isIterable:e=>null!=e&&Xt(e[Ht])};function Rn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}xn.inherits(Rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xn.toJSONObject(this.config),code:this.code,status:this.status}}});const Ln=Rn.prototype,jn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jn[e]={value:e}}),Object.defineProperties(Rn,jn),Object.defineProperty(Ln,"isAxiosError",{value:!0}),Rn.from=(e,t,n,r,i,o)=>{const a=Object.create(Ln);return xn.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Rn.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const An=Rn;function Mn(e){return xn.isPlainObject(e)||xn.isArray(e)}function Dn(e){return xn.endsWith(e,"[]")?e.slice(0,-2):e}function In(e,t,n){return e?e.concat(t).map(function(e,t){return e=Dn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Nn=xn.toFlatObject(xn,{},null,function(e){return/^is[A-Z]/.test(e)}),Fn=function(e,t,n){if(!xn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=xn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!xn.isUndefined(t[e])})).metaTokens,i=n.visitor||u,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&xn.isSpecCompliantForm(t);if(!xn.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(xn.isDate(e))return e.toISOString();if(xn.isBoolean(e))return e.toString();if(!s&&xn.isBlob(e))throw new An("Blob is not supported. Use a Buffer instead.");return xn.isArrayBuffer(e)||xn.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){let s=e;if(e&&!i&&"object"==typeof e)if(xn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(xn.isArray(e)&&function(e){return xn.isArray(e)&&!e.some(Mn)}(e)||(xn.isFileList(e)||xn.endsWith(n,"[]"))&&(s=xn.toArray(e)))return n=Dn(n),s.forEach(function(e,r){!xn.isUndefined(e)&&null!==e&&t.append(!0===a?In([n],r,o):null===a?n:n+"[]",c(e))}),!1;return!!Mn(e)||(t.append(In(i,n,o),c(e)),!1)}const l=[],d=Object.assign(Nn,{defaultVisitor:u,convertValue:c,isVisitable:Mn});if(!xn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!xn.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),xn.forEach(n,function(n,o){!0===(!(xn.isUndefined(n)||null===n)&&i.call(t,n,xn.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])}),l.pop()}}(e),t};function Bn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Vn(e,t){this._pairs=[],e&&Fn(e,this,t)}const Un=Vn.prototype;Un.append=function(e,t){this._pairs.push([e,t])},Un.toString=function(e){const t=e?function(t){return e.call(this,t,Bn)}:Bn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const zn=Vn;function Hn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wn(e,t,n){if(!t)return e;const r=n&&n.encode||Hn;xn.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):xn.isURLSearchParams(t)?t.toString():new zn(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const qn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xn.forEach(this.handlers,function(t){null!==t&&e(t)})}},Qn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$n={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:zn,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Kn="undefined"!=typeof window&&"undefined"!=typeof document,Gn="object"==typeof navigator&&navigator||void 0,Yn=Kn&&(!Gn||["ReactNative","NativeScript","NS"].indexOf(Gn.product)<0),Jn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Xn=Kn&&window.location.href||"http://localhost",Zn={...t,...$n},er=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;return o=!o&&xn.isArray(r)?r.length:o,s?(xn.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&xn.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&xn.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a)}if(xn.isFormData(e)&&xn.isFunction(e.entries)){const n={};return xn.forEachEntry(e,(e,r)=>{t(function(e){return xn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null},tr={transitional:Qn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=xn.isObject(e);if(i&&xn.isHTMLForm(e)&&(e=new FormData(e)),xn.isFormData(e))return r?JSON.stringify(er(e)):e;if(xn.isArrayBuffer(e)||xn.isBuffer(e)||xn.isStream(e)||xn.isFile(e)||xn.isBlob(e)||xn.isReadableStream(e))return e;if(xn.isArrayBufferView(e))return e.buffer;if(xn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Fn(e,new Zn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Zn.isNode&&xn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=xn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Fn(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e){if(xn.isString(e))try{return(0,JSON.parse)(e),xn.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||tr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(xn.isResponse(e)||xn.isReadableStream(e))return e;if(e&&xn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw An.from(e,An.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xn.forEach(["delete","get","head","post","put","patch"],e=>{tr.headers[e]={}});const nr=tr,rr=xn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ir=Symbol("internals");function or(e){return e&&String(e).trim().toLowerCase()}function ar(e){return!1===e||null==e?e:xn.isArray(e)?e.map(ar):String(e)}function sr(e,t,n,r,i){return xn.isFunction(r)?r.call(this,t,n):(i&&(t=n),xn.isString(t)?xn.isString(r)?-1!==t.indexOf(r):xn.isRegExp(r)?r.test(t):void 0:void 0)}class cr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=or(t);if(!i)throw new Error("header name must be a non-empty string");const o=xn.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=ar(e))}const o=(e,t)=>xn.forEach(e,(e,n)=>i(e,n,t));if(xn.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(xn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&rr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(xn.isObject(e)&&xn.isIterable(e)){let n,r,i={};for(const t of e){if(!xn.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?xn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=or(e)){const n=xn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(xn.isFunction(t))return t.call(this,e,n);if(xn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=or(e)){const n=xn.findKey(this,e);return!(!n||void 0===this[n]||t&&!sr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=or(e)){const i=xn.findKey(n,e);!i||t&&!sr(0,n[i],i,t)||(delete n[i],r=!0)}}return xn.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!sr(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return xn.forEach(this,(r,i)=>{const o=xn.findKey(n,i);if(o)return t[o]=ar(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();a!==i&&delete t[i],t[a]=ar(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return xn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&xn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[ir]=this[ir]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=or(e);t[r]||(function(e,t){const n=xn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return xn.isArray(e)?e.forEach(r):r(e),this}}cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),xn.reduceDescriptors(cr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),xn.freezeMethods(cr);const ur=cr;function lr(e,t){const n=this||nr,r=t||n,i=ur.from(r.headers);let o=r.data;return xn.forEach(e,function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function dr(e){return!(!e||!e.__CANCEL__)}function pr(e,t,n){An.call(this,null==e?"canceled":e,An.ERR_CANCELED,t,n),this.name="CanceledError"}xn.inherits(pr,An,{__CANCEL__:!0});const fr=pr;function hr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new An("Request failed with status code "+n.status,[An.ERR_BAD_REQUEST,An.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const vr=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=r[a];i||(i=c),n[o]=s,r[o]=c;let l=a,d=0;for(;l!==o;)d+=n[l++],l%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const p=u&&c-u;return p?Math.round(1e3*d/p):void 0}}(50,250);return function(e,t){let n,r,i=0,o=1e3/t;const a=(t,o=Date.now())=>{i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-i;s>=o?a(e,t):(n=e,r||(r=setTimeout(()=>{r=null,a(n)},o-s)))},()=>n&&a(n)]}(n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,c=i(s);r=o,e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},mr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},yr=e=>(...t)=>xn.asap(()=>e(...t)),gr=Zn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Zn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Zn.origin),Zn.navigator&&/(msie|trident)/i.test(Zn.navigator.userAgent)):()=>!0,br=Zn.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];xn.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),xn.isString(r)&&a.push("path="+r),xn.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _r(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const wr=e=>e instanceof ur?{...e}:e;function kr(e,t){t=t||{};const n={};function r(e,t,n,r){return xn.isPlainObject(e)&&xn.isPlainObject(t)?xn.merge.call({caseless:r},e,t):xn.isPlainObject(t)?xn.merge({},t):xn.isArray(t)?t.slice():t}function i(e,t,n,i){return xn.isUndefined(t)?xn.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!xn.isUndefined(t))return r(void 0,t)}function a(e,t){return xn.isUndefined(t)?xn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>i(wr(e),wr(t),0,!0)};return xn.forEach(Object.keys(Object.assign({},e,t)),function(r){const o=c[r]||i,a=o(e[r],t[r],r);xn.isUndefined(a)&&o!==s||(n[r]=a)}),n}const Sr=e=>{const t=kr({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=ur.from(s),t.url=Wn(_r(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),xn.isFormData(r))if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Zn.hasStandardBrowserEnv&&(i&&xn.isFunction(i)&&(i=i(t)),i||!1!==i&&gr(t.url))){const e=o&&a&&br.read(a);e&&s.set(o,e)}return t},Tr="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Sr(e);let i=r.data;const o=ur.from(r.headers).normalize();let a,s,c,u,l,{responseType:d,onUploadProgress:p,onDownloadProgress:f}=r;function h(){u&&u(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let v=new XMLHttpRequest;function m(){if(!v)return;const r=ur.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders());hr(function(e){t(e),h()},function(e){n(e),h()},{data:d&&"text"!==d&&"json"!==d?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v}),v=null}v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout,"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(m)},v.onabort=function(){v&&(n(new An("Request aborted",An.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new An("Network Error",An.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Qn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new An(t,i.clarifyTimeoutError?An.ETIMEDOUT:An.ECONNABORTED,e,v)),v=null},void 0===i&&o.setContentType(null),"setRequestHeader"in v&&xn.forEach(o.toJSON(),function(e,t){v.setRequestHeader(t,e)}),xn.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),d&&"json"!==d&&(v.responseType=r.responseType),f&&([c,l]=vr(f,!0),v.addEventListener("progress",c)),p&&v.upload&&([s,u]=vr(p),v.upload.addEventListener("progress",s),v.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(a=t=>{v&&(n(!t||t.type?new fr(null,e,v):t),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Zn.protocols.indexOf(y)?n(new An("Unsupported protocol "+y+":",An.ERR_BAD_REQUEST,e)):v.send(i||null)})},Er=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof An?t:new fr(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,i(new An(`timeout ${t} of ms exceeded`,An.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=()=>xn.asap(a),s}},Cr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Or=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*Cr(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},Pr="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,xr=Pr&&"function"==typeof ReadableStream,Rr=Pr&&("function"==typeof TextEncoder?(Lr=new TextEncoder,e=>Lr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Lr;const jr=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Ar=xr&&jr(()=>{let e=!1;const t=new Request(Zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Mr=xr&&jr(()=>xn.isReadableStream(new Response("").body)),Dr={stream:Mr&&(e=>e.body)};var Ir;Pr&&(Ir=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dr[e]&&(Dr[e]=xn.isFunction(Ir[e])?t=>t[e]():(t,n)=>{throw new An(`Response type '${e}' is not supported`,An.ERR_NOT_SUPPORT,n)})}));const Nr=Pr&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:p}=Sr(e);u=u?(u+"").toLowerCase():"text";let f,h=Er([i,o&&o.toAbortSignal()],a);const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let m;try{if(c&&Ar&&"get"!==n&&"head"!==n&&0!==(m=await(async(e,t)=>{const n=xn.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(xn.isBlob(e))return e.size;if(xn.isSpecCompliantForm(e)){const t=new Request(Zn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return xn.isArrayBufferView(e)||xn.isArrayBuffer(e)?e.byteLength:(xn.isURLSearchParams(e)&&(e+=""),xn.isString(e)?(await Rr(e)).byteLength:void 0)})(t):n})(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(xn.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=mr(m,vr(yr(c)));r=Or(n.body,65536,e,t)}}xn.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let o=await fetch(f,p);const a=Mr&&("stream"===u||"response"===u);if(Mr&&(s||a&&v)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=xn.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&mr(t,vr(yr(s),!0))||[];o=new Response(Or(o.body,65536,n,()=>{r&&r(),v&&v()}),e)}u=u||"text";let y=await Dr[xn.findKey(Dr,u)||"text"](o,e);return!a&&v&&v(),await new Promise((t,n)=>{hr(t,n,{data:y,headers:ur.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})})}catch(t){if(v&&v(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new An("Network Error",An.ERR_NETWORK,e,f),{cause:t.cause||t});throw An.from(t,t&&t.code,e,f)}}),Fr={http:null,xhr:Tr,fetch:Nr};xn.forEach(Fr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const Br=e=>`- ${e}`,Vr=e=>xn.isFunction(e)||null===e||!1===e,Ur=e=>{e=xn.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Vr(n)&&(r=Fr[(t=String(n)).toLowerCase()],void 0===r))throw new An(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let n=t?e.length>1?"since :\n"+e.map(Br).join("\n"):" "+Br(e[0]):"as no adapter specified";throw new An("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function zr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fr(null,e)}function Hr(e){return zr(e),e.headers=ur.from(e.headers),e.data=lr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ur(e.adapter||nr.adapter)(e).then(function(t){return zr(e),t.data=lr.call(e,e.transformResponse,t),t.headers=ur.from(t.headers),t},function(t){return dr(t)||(zr(e),t&&t.response&&(t.response.data=lr.call(e,e.transformResponse,t.response),t.response.headers=ur.from(t.response.headers))),Promise.reject(t)})}const Wr="1.10.0",qr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Qr={};qr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Wr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new An(r(i," has been removed"+(t?" in "+t:"")),An.ERR_DEPRECATED);return t&&!Qr[i]&&(Qr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},qr.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const $r={assertOptions:function(e,t,n){if("object"!=typeof e)throw new An("options must be an object",An.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new An("option "+o+" must be "+n,An.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new An("Unknown option "+o,An.ERR_BAD_OPTION)}},validators:qr},Kr=$r.validators;class Gr{constructor(e){this.defaults=e||{},this.interceptors={request:new qn,response:new qn}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=kr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&$r.assertOptions(n,{silentJSONParsing:Kr.transitional(Kr.boolean),forcedJSONParsing:Kr.transitional(Kr.boolean),clarifyTimeoutError:Kr.transitional(Kr.boolean)},!1),null!=r&&(xn.isFunction(r)?t.paramsSerializer={serialize:r}:$r.assertOptions(r,{encode:Kr.function,serialize:Kr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),$r.assertOptions(t,{baseUrl:Kr.spelling("baseURL"),withXsrfToken:Kr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&xn.merge(i.common,i[t.method]);i&&xn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=ur.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const c=[];let u;this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let l,d=0;if(!s){const e=[Hr.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);d<l;)u=u.then(e[d++],e[d++]);return u}l=a.length;let p=t;for(d=0;d<l;){const e=a[d++],t=a[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{u=Hr.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,l=c.length;d<l;)u=u.then(c[d++],c[d++]);return u}getUri(e){return Wn(_r((e=kr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}xn.forEach(["delete","get","head","options"],function(e){Gr.prototype[e]=function(t,n){return this.request(kr(n||{},{method:e,url:t,data:(n||{}).data}))}}),xn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(kr(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Gr.prototype[e]=t(),Gr.prototype[e+"Form"]=t(!0)});const Yr=Gr;class Jr{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new fr(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Jr(function(t){e=t});return{token:t,cancel:e}}}const Xr=Jr,Zr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zr).forEach(([e,t])=>{Zr[t]=e});const ei=Zr,ti=function e(t){const n=new Yr(t),r=Vt(Yr.prototype.request,n);return xn.extend(r,Yr.prototype,n,{allOwnKeys:!0}),xn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(kr(t,n))},r}(nr);ti.Axios=Yr,ti.CanceledError=fr,ti.CancelToken=Xr,ti.isCancel=dr,ti.VERSION=Wr,ti.toFormData=Fn,ti.AxiosError=An,ti.Cancel=ti.CanceledError,ti.all=function(e){return Promise.all(e)},ti.spread=function(e){return function(t){return e.apply(null,t)}},ti.isAxiosError=function(e){return xn.isObject(e)&&!0===e.isAxiosError},ti.mergeConfig=kr,ti.AxiosHeaders=ur,ti.formToJSON=e=>er(xn.isHTMLForm(e)?new FormData(e):e),ti.getAdapter=Ur,ti.HttpStatusCode=ei,ti.default=ti;const ni="https://api.viewpro.com",ri=ni+"/api",ii=ni+"/public/avatars/",oi="Client",ai=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console.log(`[${e}]`,...n)},si=ti.create({baseURL:ri,timeout:6e4,headers:{"Content-type":"application/json"}});si.interceptors.request.use(async e=>e,e=>(console.log("Request error:",e),Promise.reject(e))),si.interceptors.response.use(e=>{const{data:t}=e;if(200===t.code)return t.message&&me.success(t.message),Promise.resolve(t.data);{const e=t.message||"Internal Server Error";return me.error(e),Promise.reject(new Error(e))}},async e=>{if(console.log("Response error:",e),e.response){const t=e.response.data?.message||`Request failed with status ${e.response.status}.`;me.error(t)}else e.request?me.error("Network error: Please check your connection."):me.error("An unexpected error occurred. Please try again later.");return Promise.reject(e)});const ci=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ui=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),li=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var di={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pi=(0,i.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:s,...c},u)=>(0,i.createElement)("svg",{ref:u,...di,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:ui("lucide",o),...!a&&!li(c)&&{"aria-hidden":"true"},...c},[...s.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(a)?a:[a]])),fi=(e,t)=>{const n=(0,i.forwardRef)(({className:n,...r},o)=>{return(0,i.createElement)(pi,{ref:o,iconNode:t,className:ui(`lucide-${a=ci(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var a});return n.displayName=ci(e),n},hi=fi("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vi=e=>{let{check:t,handleJoin:n,handleCancel:r,connecting:o}=e;return o?i.createElement("div",{className:"vp-fixed vp-bottom-0 md:vp-bottom-5 vp-right-0 md:vp-right-5 vp-z-[9999] vp-w-full md:vp-w-[360px] vp-h-full md:vp-h-[812px] vp-flex vp-flex-col"},i.createElement("div",{className:"vp-w-full vp-h-full md:vp-h-[720px] vp-flex vp-items-center vp-justify-center vp-bg-white md:vp-rounded-lg md:vp-shadow-lg"},i.createElement("div",{className:"vp-relative vp-w-16 vp-h-16 vp-rounded-full vp-object-cover"},i.createElement("div",{className:"vp-absolute vp-inset-0 vp-animate-spin vp-rounded-full vp-border-4 vp-border-t-black vp-border-r-transparent vp-border-b-transparent vp-border-l-transparent"}))),i.createElement("div",{className:"vp-h-[92px] vp-hidden md:vp-flex vp-items-center vp-justify-center vp-self-end"},i.createElement("div",{onClick:r,className:"vp-w-16 vp-h-16 vp-flex vp-items-center vp-justify-center vp-bg-black vp-rounded-full vp-shadow-lg vp-cursor-pointer"},i.createElement(hi,{size:30,className:"vp-text-white"})))):t?i.createElement("div",{onClick:n,className:"vp-fixed vp-bottom-5 vp-right-5 vp-z-[9999] vp-flex vp-items-center vp-justify-center vp-cursor-pointer"},i.createElement("div",{className:"vp-relative vp-w-[92px] vp-h-[92px] vp-flex vp-items-center vp-justify-center vp-rounded-full vp-bg-gradient-to-tr vp-from-yellow-400 vp-via-pink-500 vp-to-purple-500"},i.createElement("div",{className:"vp-w-[84px] vp-h-[84px] vp-flex vp-items-center vp-justify-center vp-rounded-full vp-bg-white"},i.createElement("div",{className:"vp-relative vp-w-[76px] vp-h-[76px] vp-flex vp-items-center vp-justify-center vp-rounded-full vp-bg-gray-800"},i.createElement("div",{className:"vp-wave"}),i.createElement("div",{className:"vp-wave"}),i.createElement("div",{className:"vp-wave"}),i.createElement("div",{className:"vp-wave"}),i.createElement("div",{className:"vp-w-[56px] vp-h-[56px] vp-rounded-full vp-object-cover vp-bg-cover vp-bg-center vp-avatar-pulse",style:{backgroundImage:`url(${ii+"volkmar.jpg"})`}}))),i.createElement("span",{className:"vp-absolute vp--bottom-1 vp-left-1/2 vp--translate-x-1/2 vp-rounded vp-border-2 vp-border-white vp-bg-pink-600 vp-px-2 vp-text-[10px] vp-leading-normal vp-font-bold vp-text-white"},"LIVE"))):null},mi=fi("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),yi=fi("mic-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),gi=fi("mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),bi=e=>{let{participant:t}=e;const[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)([]),s=(0,i.useRef)(),c=(0,i.useRef)(),u=e=>Array.from(e.values()).map(e=>e.track).filter(e=>null!==e);return(0,i.useEffect)(()=>(r(u(t.videoTracks)),a(u(t.audioTracks)),t.on("trackSubscribed",e=>{switch(ai("Participant","trackSubscribed",e),e.kind){case"video":r(t=>[...t,e]);break;case"audio":a(t=>[...t,e])}}),t.on("trackUnsubscribed",e=>{switch(ai("Participant","trackUnsubscribed",e),e.kind){case"video":r(t=>t.filter(t=>t!==e));break;case"audio":a(t=>t.filter(t=>t!==e))}}),()=>{r([]),a([]),t.removeAllListeners()}),[t]),(0,i.useEffect)(()=>{const e=n[0];if(e)return ai("Participant","videoTrack",e),e.attach(s.current),()=>{e.detach()}},[n]),(0,i.useEffect)(()=>{const e=o[0];if(e)return ai("Participant","audioTrack",e),e.attach(c.current),()=>{e.detach()}},[o]),i.createElement("div",{className:"vp-relative vp-w-full vp-h-full vp-bg-black vp-overflow-hidden md:vp-shadow-lg"},i.createElement("video",{ref:s,autoPlay:!0,playsInline:!0,className:"vp-video"}),i.createElement("audio",{ref:c,autoPlay:!0,playsInline:!0}))},_i=e=>{let{room:t,handleLeave:n}=e;const r=(()=>{const[e,t]=(0,i.useState)(window.innerWidth<768),n=()=>{t(window.innerWidth<768)};return(0,i.useEffect)(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[]),e})(),[o,a]=(0,i.useState)(0),[s,c]=(0,i.useState)({}),[u,l]=(0,i.useState)([]),[d,p]=(0,i.useState)([]),[f,h]=(0,i.useState)(""),[v,m]=(0,i.useState)(!0),y=(0,i.useRef)(null),g=(0,i.useRef)(null),b=(0,i.useRef)(null),_=e=>{const t=e=>{e&&"data"===e.kind&&e.on("message",e=>{const t=JSON.parse(e);p(e=>[...e,{text:t.text,username:t.username,avatar:t.avatar}])})};return e.tracks.forEach(e=>{t(e.track)}),e.on("trackSubscribed",t),()=>{e.off("trackSubscribed",t)}};(0,i.useEffect)(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[d]),(0,i.useEffect)(()=>{if(ai("Room",t),y.current)ai("Room","audioTrackRef is exist");else{ai("Room","audioTrackRef is not exist");const e=Array.from(t.localParticipant.audioTracks.values())[0]?.track;e?(ai("Room","localAudioTrack is exist"),y.current=e,y.current.enable(!1)):ai("Room","localAudioTrack is not exist")}if(!g.current){const e=new(ge().LocalDataTrack);e&&(g.current=e,t.localParticipant.publishTrack(e))}const e=new Map;l(Array.from(t.participants.values())),t.participants.forEach(t=>{const n=_(t);e.set(t.sid,n)});const r=async t=>{if(0===Object.keys(s).length)try{const e=await si.get("/user/agent",{params:{username:t.identity}});e&&c(e.agent)}catch(e){ai("Room","Failed to fetch agent",e)}l(e=>[...e,t]);const n=_(t);e.set(t.sid,n)},i=r=>{l(e=>e.filter(e=>e.sid!==r.sid));const i=e.get(r.sid);i&&i(),e.delete(r.sid),0===t.participants.size&&(c({}),n())};return t.on("participantConnected",r),t.on("participantDisconnected",i),()=>{t.off("participantConnected",r),t.off("participantDisconnected",i),e.forEach(e=>e&&e())}},[t,n,s]),(0,i.useEffect)(()=>{if(navigator.virtualKeyboard){navigator.virtualKeyboard.overlaysContent=!0;const e=e=>{const t=e.targetRect||e.target&&e.target.boundingRect;if(t){const{x:e,y:n,width:r,height:i}=t;console.log(e,n,r,i),a(i>0?i:0)}};return navigator.virtualKeyboard.addEventListener("geometrychange",e),()=>{navigator.virtualKeyboard.removeEventListener("geometrychange",e)}}if(window.visualViewport){const e=()=>{setTimeout(()=>{window.scrollTo(0,0)},100),a(window.innerHeight-window.visualViewport.height)};return window.visualViewport.addEventListener("resize",e),e(),()=>{window.visualViewport.removeEventListener("resize",e)}}},[]);const w=async()=>{ai("Room","toggleMute"),y.current.enable(v),m(!v),ai("Room","toggleMute",y.current)},k=()=>{if(f.trim()&&g.current){const e={text:f,username:oi,avatar:"default.jpg"};g.current.send(JSON.stringify(e)),p(e=>[...e,{text:f,username:oi,avatar:"default.jpg"}]),h("")}};return i.createElement("div",{className:"vp-fixed vp-bottom-0 md:vp-bottom-5 vp-right-0 md:vp-right-5 vp-z-[9999] vp-w-full md:vp-w-[360px] vp-h-full md:vp-h-[812px] vp-flex vp-flex-col"},(()=>{const e=u.map(e=>i.createElement(bi,{key:e.sid,participant:e})),t=e.length;return 0===t?i.createElement("div",{className:"vp-w-full vp-h-full md:vp-h-[720px] vp-flex vp-items-center vp-justify-center vp-bg-black md:vp-rounded-lg md:vp-shadow-lg"},i.createElement("div",{className:"vp-relative vp-w-16 vp-h-16 vp-rounded-full vp-object-cover"},i.createElement("div",{className:"vp-absolute vp-inset-0 vp-animate-spin vp-rounded-full vp-border-4 vp-border-t-white vp-border-r-transparent vp-border-b-transparent vp-border-l-transparent"}))):1===t?i.createElement("div",{className:"vp-w-full vp-h-full md:vp-h-[720px] vp-flex vp-items-center vp-justify-center vp-bg-black vp-overflow-hidden md:vp-rounded-lg"},e):2===t?i.createElement("div",{className:"vp-w-full vp-h-full md:vp-h-[720px] vp-flex vp-flex-col vp-bg-black vp-overflow-hidden md:vp-rounded-lg"},e):i.createElement("div",{className:"vp-w-full vp-h-full md:vp-h-[720px] vp-grid vp-grid-cols-2 vp-grid-rows-2 vp-bg-black vp-overflow-hidden md:vp-rounded-lg"},e)})(),i.createElement("div",{className:"vp-fixed vp-bottom-10 md:vp-bottom-[152px] vp-right-0 md:vp-right-5 vp-w-full md:vp-w-[360px] vp-z-[9999] vp-flex vp-flex-row vp-items-center vp-justify-between vp-gap-2 vp-px-4",style:{bottom:`${(r?40:152)+o}px`}},i.createElement("input",{type:"text",value:f,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),k())},placeholder:"Add a comment...",className:"vp-message-input"}),i.createElement(mi,{size:24,onClick:k,className:"vp-text-white vp-cursor-pointer"})),i.createElement("div",{className:"vp-absolute vp-left-[16px] vp-right-0 vp-z-10 vp-flex vp-flex-col vp-justify-end vp-w-[calc(100%-70px)]",style:{bottom:`${(r?95:188)+o}px`,height:`calc(100% - ${(r?170:262)+o}px)`}},i.createElement("div",{className:"vp-w-full vp-flex vp-flex-col vp-items-start vp-gap-2 vp-overflow-y-auto vp-break-words vp-scrollbar-none"},d.map((e,t)=>i.createElement("div",{key:t,className:"vp-w-full vp-flex vp-flex-row vp-gap-2"},i.createElement("div",{className:"vp-w-10 vp-h-10"},i.createElement("div",{className:"vp-w-full vp-h-full vp-aspect-square vp-object-cover vp-bg-cover vp-bg-center vp-rounded-full",style:{backgroundImage:e.username===oi?`url(${ii+"default.jpg"})`:`url(${ii+e.avatar})`}})),i.createElement("div",{className:"vp-flex vp-flex-col"},i.createElement("div",{className:"vp-text-white vp-text-sm vp-font-light"},e.username),i.createElement("div",{className:"vp-inline-block vp-text-white vp-text-base vp-font-semibold vp-break-all"},e.text)))),i.createElement("div",{ref:b}))),i.createElement("div",{className:"vp-absolute vp-top-4 vp-left-0 vp-right-0 vp-w-full vp-flex vp-flex-row vp-items-center vp-justify-between vp-gap-2 vp-px-4 vp-z-10"},i.createElement("div",{className:"vp-w-full vp-flex vp-flex-row vp-items-center vp-gap-2"},i.createElement("div",{className:"vp-w-10 vp-h-10"},i.createElement("div",{className:"vp-w-full vp-h-full vp-aspect-square vp-rounded-full"},i.createElement("div",{className:"vp-w-full vp-h-full vp-object-cover vp-bg-cover vp-bg-center vp-rounded-full",style:{backgroundImage:`url(${ii+(s?.avatar||"default.jpg")})`}}))),i.createElement("span",{className:"vp-text-white vp-text-lg vp-font-bold"},s?.username||"Agent")),i.createElement("div",{className:"vp-flex vp-flex-row vp-items-center vp-gap-4"},i.createElement("div",{className:"vp-text-white vp-text-base vp-font-bold vp-tracking-widest vp-bg-pink-500 vp-rounded-sm vp-px-2 vp-py-1"},"LIVE"),i.createElement(hi,{id:"leave-button",size:30,className:"vp-text-white vp-cursor-pointer",onClick:n}))),i.createElement("div",{className:"vp-absolute vp-top-20 vp-right-4 vp-z-10"},v?i.createElement(yi,{size:30,onClick:w,className:"vp-text-white vp-cursor-pointer"}):i.createElement(gi,{size:30,onClick:w,className:"vp-text-white vp-cursor-pointer"})),i.createElement("div",{className:"vp-h-[92px] vp-hidden md:vp-flex vp-items-center vp-justify-center vp-self-end"},i.createElement("div",{onClick:n,className:"vp-w-16 vp-h-16 vp-flex vp-items-center vp-justify-center vp-bg-black vp-rounded-full vp-shadow-lg vp-cursor-pointer"},i.createElement(hi,{size:30,className:"vp-text-white"}))))},wi=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(!1),s=(0,i.useRef)(null),c=(0,i.useRef)(!1),u=async()=>{const e=await si.get("/user/check");e&&t(e.check)},l=()=>{ai("VideoChat","handleLeave"),r(e=>{if(e)try{"disconnected"!==e.state&&(e.localParticipant.tracks.forEach(t=>{const n=t.track;try{n&&(ai("VideoChat","unpublishing track",t),e.localParticipant.unpublishTrack(n),"function"==typeof n.stop&&(ai("VideoChat","stopping track",t),n.stop()))}catch(e){console.error("Error handling track cleanup:",e)}}),ai("VideoChat","disconnecting from room"),e.disconnect(),ai("VideoChat","disconnected from room"))}catch(e){console.error("Error disconnecting from room:",e)}return null}),a(!1),s.current&&(s.current.getTracks().forEach(e=>e.stop()),s.current=null)};return(0,i.useEffect)(()=>{const e=oi+"-"+Date.now().toString();console.log("uid",e);const t=Bt(ni,{query:{uid:e}});return t.on("connect",()=>{console.log("Connected to socket"),u()}),t.on("disconnect",()=>{console.log("Disconnected from socket"),u()}),t.on("agent:logout",e=>{console.log("Agent logout:",e),u()}),t.on("agent:available",e=>{console.log("Agent available:",e),u()}),t.on("agent:unavailable",e=>{console.log("Agent unavailable:",e),u()}),t.on("connect_error",e=>{console.error("Socket connection error:",e)}),()=>{t.off("connect"),t.off("disconnect"),t.off("agent:logout"),t.off("agent:available"),t.off("agent:unavailable"),t.off("connect_error"),t.disconnect()}},[]),(0,i.useEffect)(()=>{if(n){const e=e=>{e.persisted||l()};return window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),()=>{window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e)}}},[n]),n?i.createElement(_i,{room:n,handleLeave:l}):i.createElement(vi,{check:e,handleJoin:async()=>{ai("VideoChat","handleJoin");try{s.current=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(e){return void("NotFoundError"===e.name?me.error("No microphone found. Please connect a microphone and try again."):"NotAllowedError"===e.name?me.error("Microphone access denied. Please allow access and try again."):"NotReadableError"===e.name?me.error("Microphone is already in use by another application. Please close other apps using the microphone and try again."):"OverconstrainedError"===e.name?me.error("No suitable microphone found. Please check your audio settings and ensure a microphone is connected."):me.error("An error occurred while toggling the microphone. Please try again."))}c.current=!1,a(!0);let e=!1;const t="viewpro-room-"+Date.now().toString();for(ai("VideoChat",{identity:oi,room:t});!e&&!c.current;)try{if(c.current)break;const n=await si.get("/token",{params:{identity:oi,room:t}});if(c.current)break;if(n){ai("VideoChat","connecting to Twilio room");const i=await ge().connect(n.token,{name:t,video:!1,audio:!0});if(ai("VideoChat","connected to Twilio room",i),c.current){i.disconnect();break}r(i),await si.post("/user/request-call",{username:oi,roomName:t}),ai("VideoChat","call request sent"),e=!0}}catch(e){console.error("Error connecting to room: ",e)}finally{(e||c.current)&&a(!1)}},handleCancel:async()=>{ai("VideoChat","handleCancel"),c.current=!0,a(!1),s.current&&(s.current.getTracks().forEach(e=>e.stop()),s.current=null)},connecting:o})};var ki=n(1697),Si={};Si.styleTagTransform=y(),Si.setAttributes=f(),Si.insert=d().bind(null,"head"),Si.domAPI=u(),Si.insertStyleElement=v(),s()(ki.A,Si),ki.A&&ki.A.locals&&ki.A.locals;const Ti=()=>i.createElement("main",null,i.createElement(wi,null),i.createElement(ve,null)),Ei=()=>{const e=document.getElementById("viewpro-widget");e?(0,o.H)(e).render(i.createElement(Ti,null)):console.error("ViewProWidget element not found")};Ei();const Ci={render:Ei}})(),r})());